---
title: "Подготовка миграции данных клиента | Microsoft Docs"
description: "После импорта и применения установочных данных в новой базе данных можно начинать миграцию существующих основных данных клиента, например номеров и наименований товаров и клиентов. Чтобы убедиться в том, что эти данные созданы быстро и точно в новой организации, следует использовать шаблоны для структурирования данных."
services: project-madeira
documentationcenter: 
author: SorenGP
ms.service: dynamics365-financials
ms.topic: article
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms.search.keywords: 
ms.date: 03/07/2018
ms.author: sgroespe
ms.translationtype: HT
ms.sourcegitcommit: d7fb34e1c9428a64c71ff47be8bcff174649c00d
ms.openlocfilehash: 260f9c87f3c824e2eeced45fb4943784a03cb641
ms.contentlocale: ru-ru
ms.lasthandoff: 03/22/2018

---
# <a name="prepare-to-migrate-customer-data"></a>Подготовка к миграции данных клиента
После импорта и применения установочных данных в новой базе данных можно начинать миграцию существующих основных данных клиента, например номеров и наименований товаров и клиентов. Чтобы убедиться в том, что эти данные созданы быстро и точно в новой организации, следует использовать шаблоны для структурирования данных.  

Обычно следует создать шаблоны данных для следующих таблиц основных данных:  

-   **Контакт**  
-   **Клиент**  
-   **Товар**  
-   **Поставщик**  

Вы можете создать структуру шаблона и применить ее к любой из таблиц в [!INCLUDE[d365fin](includes/d365fin_md.md)].  

> [!TIP]  
>  Можно также использовать шаблоны данных для ежедневных операций, чтобы создавать новые записи на основе шаблонов. Эти шаблоны данных работают только для поддерживаемых таблиц основных данных. Дополнительные сведения см., например в разделе [Регистрация новых товаров](inventory-how-register-new-items.md).  

При импорте данных клиента, например товаров из файла, указанная обязательная информация берется из связанного шаблона данных. При создании нового товара вводится только общая информация, например название, описание и цена товара, а затем собирается другая обязательная информация из выбранного шаблона данных.  

При создании новой главной записи данных, такой как карточка клиента, некоторые поля являются обязательными и должны быть заполнены. Вы можете сгруппировать большинство обязательных полей, таких как группы учета и условия оплаты, чтобы сделать главные записи данных более удобными и стабильными. Например, можно группировать обязательные поля в таблице 18, **Клиент**, как по типам **РОССИЯ**, **ЗАГРАН.** или **Экспорт**.

## <a name="to-select-a-data-template"></a>Выбор шаблона данных
При выборе существующего шаблона данных необходимо оценить, достаточно ли клиенту шаблонов, которые создаются для новой организации. Просмотрите предоставленные поля и значения, чтобы определить шаблоны, приемлемые для новой организации.  

> [!TIP]  
>  Шаблоны данных также можно использовать для быстрого создания новых записей. Используйте их для более быстрого и точного создания данных. Дополнительные сведения см. в разделе [Регистрация новых товаров](inventory-how-register-new-items.md).

1. Выберите значок ![Поиск страницы или отчета](media/ui-search/search_small.png "Значок поиска страницы или отчета"), введите **Шаблоны конфигурации**, а затем выберите связанную ссылку.  
2. В окне **Список шаблонов конфигураций** выберите шаблон данных из списка, затем выберите действие **Правка** .  

Если шаблоны по умолчанию не подходят, можно создать новые шаблоны или добавить поля в уже существующий шаблон. Если шаблоны по умолчанию подходят, то их можно использовать для создания записей на основе шаблонов основных данных.

## <a name="to-create-a-data-template"></a>Создание шаблона данных
Можно создать новый шаблон данных, если шаблоны по умолчанию не соответствуют потребностям новой организации. Если создается несколько полей, может оказаться полезным принятие соглашения об именах для поля **Код**.

Каждый шаблон состоит из заголовка и строк. При создании шаблона можно указать поля, которые всегда будут применяться к данным определенного типа. Например, можно создавать различные шаблоны клиентов для применения к различным типам клиентов. При создании клиента с помощью шаблона можно использовать данные шаблона для предварительного заполнения определенных полей.

### <a name="to-create-a-data-template-header"></a>Создание заголовка шаблона данных
1. Откройте окно **Список шаблонов конфигураций**.
2. Выберите действие **Создать**.
3. В поле **Код таблицы** введите таблицу, к которой относится шаблон. Поле **Название таблицы** автоматически заполняется, если установлено поле **Код таблицы**.

### <a name="to-create-a-data-template-line"></a>Создание строки шаблона данных
1. В первой строке выберите поле **Название таблицы**. Окно **Список полей** содержит список полей в таблице.
2. Выберите поле, затем нажмите кнопку **ОК**. Поле **Метка поля** заполняется названием поля.
3. В поле **Значение по умолчанию** введите нужное значение. В некоторых случаях, можно использовать значение, которое не является значением, доступным в базе данных. В этом случае можно установить флажок **Пропустить проверку связей**, чтобы разрешить применение информации без ошибок.

    > [!TIP]  
    > Так как в поле **Значение по умолчанию** не выполняется поиск соответствующих параметров поля [!INCLUDE[d365fin](includes/d365fin_md.md)], следует скопировать и вставить в шаблон необходимое значение из связанной страницы.

    > Установите флажок **Обязательно**. Флажок служит только для информации. Это показывает, что информацию должен ввести в это поле пользователь, но бизнес-логика не применяется. Например, нельзя выставить счет на заказ и учесть его, если не настроены учетные группы. Поскольку учетные группы обязательны, для этих полей можно установить флажок **Обязательно**.

3. В поле **Ссылка** введите нужные сведения о поле.
4. Нажмите кнопку **ОК**

## <a name="to-export-to-a-template-in-excel"></a>Экспорт шаблона в Excel
Можно создать книгу Excel в качестве шаблона на основе структуры существующей таблицы базы данных. Затем можно использовать шаблон для последовательного сбора данных клиента для последующего импорта в [!INCLUDE[d365fin](includes/d365fin_md.md)].

1. Выберите значок ![Поиск страницы или отчета](media/ui-search/search_small.png "Значок поиска страницы или отчета"), введите **Журнал конфигураций**, затем выберите связанную ссылку.
2. Добавьте таблицу к списку или выберите существующую таблицу. Дополнительные сведения см. в разделе [Управление конфигурацией организации в журнале](admin-how-to-manage-company-configuration-in-a-worksheet.md).
3. Определите поля из таблицы, которую требуется включить в шаблон.
4. Выберите действие **Экспорт в шаблон**.
5. Присвойте имя файлу Excel и сохраните файл. Книга Excel автоматически открывается.

Теперь можно ввести данные клиента в лист Excel. Если экспортировано несколько таблиц, каждая таблица будет расположена на отдельном листе. Сохраните книгу перед переходом к следующей процедуре.

> [!NOTE]  
> Может возникнуть следующая ошибка при запуске английской версии Excel, но при наличии региональных параметров, настроенных не для английского языка: "Старый или неверный тип библиотеки". Чтобы исправить данную ошибку, убедитесь, что установлен языковой пакет не для английского языка.

## <a name="to-import-from-a-template-in-excel"></a>Импорт из шаблона в Excel
1. В окне **Журнал конфигураций** выберите действие **Импорт из шаблона**.
3. Перейдите к журналу шаблона, который вы создали, затем выберите действие **Открыть**.
4. Для добавления собранных данных клиента в базу данных выберите действие **Применить данные**.

При применении данных из шаблона в Excel к таблице, которая также содержит шаблон конфигурации, связанный с ней в пакете конфигурации, также применяются значения полей по умолчанию из шаблона конфигурации.

Любая запись, данные которой применяются таким образом, завершена, так как состоит из данных, введенных пользователем в Excel, плюс значения по умолчанию, указанные шаблоном конфигурации.

## <a name="to-create-a-record-from-a-configuration-template"></a>Создание записи из шаблона конфигурации
Можно использовать структуру данных из шаблонов данных для преобразования сведений в записи базы данных (по одной записи). Чтобы это выполнить, следует использовать функцию **Создать экземпляр**. Это миниатюрная версия процесса миграции данных, и она может быть полезной для прототипирования или обработки более мелких задач создания данных.  

В следующих шагах показан порядок создания карточки товара на основе шаблона данных товара. Можно создать запись данных из любого шаблона данных, используя аналогичную процедуру.  

1. Выберите значок ![Поиск страницы или отчета](media/ui-search/search_small.png "Значок поиска страницы или отчета"), введите **Шаблоны конфигурации**, а затем выберите связанную ссылку.  
2. Выберите шаблон **Товар**, затем выберите действие **Изменить**. Дополнительные сведения см. в разделе "Создание шаблона данных".
3. Выберите действие **Создать экземпляр**. Создается карточка товара.  
4. Нажмите кнопку **ОК**.  
5. Для проверки новой карточки товара выберите значок ![Поиск страницы или отчета](media/ui-search/search_small.png "Значок поиска страницы или отчета"), введите **Товары**, затем выберите связанную ссылку.  
6. Откройте новую карточку товара.  
7. Разверните различные экспресс-вкладки и убедитесь, что информация на них создана правильно.  

## <a name="to-use-a-configuration-template-on-a-record"></a>Использование шаблона конфигурации в записи
Шаблон данных можно применять к любым записям в [!INCLUDE[d365fin](includes/d365fin_md.md)]. Этот метод можно использовать для изменения или модификации записи. При этом вы перезаписываете существующие значения в записи с помощью этого шаблона. Соответственно, следует соблюдать осторожность при применении шаблона к существующим записям.

> [!WARNING]  
>  Функция **Заполнить по шаблону** перезаписывает существующие данные в записи. Если эта функция используется в миграции основных данных, то программа перепишет импорта данных при создании записей.

Следующая процедура основана на новой карточке клиента.  

1. Создайте клиента. Дополнительные сведения см. в разделе [Регистрация новых клиентов](sales-how-register-new-customers.md).
2. В окне **Карточка клиента** выберите действие **Применить шаблон**.  
3. В окне **Клиент - шаблоны**, выберите один из шаблонов, затем нажмите кнопку **ОК**.  

Значения по умолчанию из выбранного шаблона клиента вставляются в карточку клиента.

## <a name="see-also"></a>См. также  
[Настройка компании с помощью служб RapidStart Services](admin-set-up-a-company-with-rapidstart.md)  
[Администрация](admin-setup-and-administration.md)  
[Регистрация новых клиентов](sales-how-register-new-customers.md)

