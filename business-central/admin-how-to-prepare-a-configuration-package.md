---
title: Как подготовить пакет конфигурации | Документация Майкрософт
description: Узнайте сейчас, чтобы настроить пакет конфигурации RapidStart, который может помочь настроить новые компании на основе существующих данных.
author: bholtorf
ms.service: dynamics365-business-central
ms.topic: article
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms.search.keywords: ''
ms.date: 10/01/2020
ms.author: bholtorf
ms.openlocfilehash: cfb7c0186f7ed81687ad3f4d667b3f71d77af424
ms.sourcegitcommit: ddbb5cede750df1baba4b3eab8fbed6744b5b9d6
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/01/2020
ms.locfileid: "3922521"
---
# <a name="prepare-a-configuration-package"></a>Подготовка пакета конфигурации

При настройке новой организации на основе пакета конфигурации будет выполнено распознавание и обработка отношений таблиц. Данные импортируются и применяются в правильном порядке. Таблицы измерений также импортируются, если они включены в пакет конфигурации. Дополнительные сведения см. в разделе [Импорт данных клиента](admin-migrate-customer-data.md#to-import-customer-data).  

Для повышения эффективности использования клиентами пакета конфигурации может потребоваться добавить анкету или набор анкет в пакет. Анкета может помочь клиенту понять различные параметры настройки. Анкеты обычно создаются для основных таблиц настройки, где клиент может требовать дополнительной помощи при выборе подходящего параметра. Дополнительные сведения см. в разделе [Сбор значений настройки клиента](admin-gather-customer-setup-values.md).

## <a name="before-you-create-a-configuration-package"></a>Перед созданием пакета конфигурации

Перед созданием пакета конфигурации необходимо учесть некоторые вещи, поскольку они повлияют на способность вас или вашего клиента импортировать его.  

### <a name="tables-that-contain-posted-entries"></a>Таблицы, которые содержат опубликованные записи

Вы не можете импортировать данные в таблицы, содержащие разнесенные записи, такие как таблицы для записей о покупателях, поставщиках и товарах, поэтому не следует включать эти данные в пакет конфигурации. Вы можете добавить записи в эти таблицы после импорта пакета конфигурации, используя журналы для учета записей. Для получения дополнительной информации см. [Учет документов и журналов](ui-post-documents-journals.md).

### <a name="table-names-that-contain-special-characters"></a>Имена таблиц, содержащие специальные символы

Будьте осторожны, если у вас есть таблицы или поля с одинаковым временным именем, но различаются специальными символами, такими как %, &, <, >, ( и ). Например, таблица "XYZ" может содержать поля "Поле 1" и "Поле 1%".

Процессор XML принимает только некоторые специальные символы и удаляет те, которые не принимает. Если удаление специального символа, такого как знак "%" в имени "Поле 1%", приводит к появлению двух или более таблиц или полей с одинаковыми именами, при экспорте или импорте пакета конфигурации произойдет ошибка. 

### <a name="licensing"></a>Лицензирование

Ваша лицензия должна включать таблицы, которые вы обновляете. Если вы не уверены, то вам поможет страница **Журнал конфигураций**. Если ваша лицензия включает в себя таблицу, флажок **Лицензированная таблица** установлен.  

### <a name="permissions"></a>Разрешения

Процесс создания и импорта пакета конфигурации включает следующие действующие разрешения для всех таблиц в пакете:  

- Пользователь, который экспортирует данные для пакета конфигурации, должен иметь действующие разрешения **Чтение**.
- Пользователь, который импортирует пакет конфигурации, должен иметь действующие разрешения **Вставка** и **Изменение**.

### <a name="database-schema"></a>Схема базы данных

При экспорте и импорте пакетов конфигураций между двумя базами данных эти базы данных должны иметь одну и те же схему, чтобы гарантировать успешный перенос всех данных. Это означает, что базы данных должны иметь одинаковую структуру таблиц и полей, таблицы в ней должны иметь одни и те же первичные ключи, а поля – одинаковые идентификаторы и типы данных.  

Можно импортировать пакет конфигураций, который был экспортирован из базы данных с отличной от целевой базы данных схемой. Однако таблицы и поля пакета конфигураций, отсутствующие в целевой базе данных, импортированы не будут. Таблицы с разными первичными ключами и поля с различными типами данных также не будут успешно импортированы. Например, если пакет конфигураций содержит таблицу **50000, Клиент** с первичным ключом **Code20**, а база данных, в которую производится импорт, содержит таблицу **50000, Банковский счет клиента** с первичным ключом **Code20 + Code 20**, то данные не будут импортированы.  

## <a name="to-create-a-configuration-package"></a>Создание пакета конфигурации

1. Выберите значок ![Лампочка, которая открывает функцию "Что вы хотите сделать"](media/ui-search/search_small.png "Что вы хотите сделать"), введите **Пакеты конфигураций**, затем выберите соответствующую ссылку.  
2. Выберите действие **Создать**.  
3. Заполните остальные поля на экспресс-вкладке **Общее** . [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]  
4. Чтобы исключить анкеты конфигурации, шаблоны конфигураций и таблицы журнала конфигураций из пакета, установите флажок **Исключить таблицы конфигурации**. В противном случае эти таблицы будут добавлены в список таблиц пакета автоматически при экспорте пакета.  
5. Выберите действие **Получить таблицы**. Откроется страница пакетного задания **Получить таблицы пакетов**.  
6. Выберите поле **Выбрать таблицы**. Откроется страница **Выбор конфигурации**.  
7. Выберите действие **Выбрать все**, чтобы добавить в пакет все таблицы, или установите флажок **Выбрано** для каждой таблицы в списке, которую необходимо добавить.
8. Нажмите кнопку **ОК**. Число выбранных таблиц отображается в поле **Выбрать таблицы**. Укажите дополнительные параметры, а затем нажмите кнопку **ОК**. Таблицы [!INCLUDE[d365fin](includes/d365fin_md.md)] будут добавлены в строки страницы **Пакет конфигурации**.  

    > [!NOTE]  
    >  Это можно сделать в окне журнала конфигураций. Выберите таблицы, которые требуется включить в пакете, затем выберите действие **Назначить пакет**.

9. Для выбора полей, которые необходимо добавить из таблицы, выберите таблицу и, затем, на вкладке **Строки** выберите действие **Поля**.
Укажите поля, которые включены в пакет. По умолчанию все поля включаются.

    - Чтобы выбрать только поля, которые требуется включить, выберите действие **Очистить включенное**. Чтобы добавить все поля, выберите действие **Установить включенное**.  
    - Чтобы указать, что данные поля не следует прверять, снимите флажок **Проверить поле** для поля.  

10. Определите, не были ли внесены потенциальные ошибки, выбрав действие **Проверить пакет**. Это может произойти, если пользователь не включает таблицы, от которых зависит его конфигурация.  
11. Нажмите кнопку **ОК**.  

После уточнения списка полей, включаемых из таблицы, можно проверить результаты в Excel.  

### <a name="to-filter-and-review-your-dataset"></a>Фильтрация и просмотр набора данных

1. Для фильтрации определенного набора записей для включения в пакет на вкладке **Строки** выберите действие **Фильтры**, затем укажите соответствующие значения фильтров.  
2. В карточке пакета на вкладке **Строки** выберите действие **Экспорт в Excel**.  
3. Подтвердите сообщения, позволяющие экспорт данных в Excel. Откроется XLSX-файл с именем. Проверьте записи, которые были экспортированы.  
4. Закройте Excel.  

### <a name="to-include-a-template-for-application-to-a-table"></a>Включение шаблона для применения к таблице

Для некоторых таблиц, например таблицы, которая будет содержать основные данные, можно указать применяемый к данным шаблон. Шаблон может включать обязательные поля, которые необходимо применить ко всем основным данным и которые никогда не потребуется изменить. Например, можно создать шаблон, который можно использовать с данными клиента. Шаблон может содержать все обязательные поля, что затем позволяет последовательно импортировать унифицированную информацию. Информация, которую нельзя стандартизировать, например имя клиента, затем обрабатывается при выполнении импорта данных клиента. Дополнительные сведения см. в разделе [Подготовка к миграции данных клиента с шаблонами](admin-use-templates-to-prepare-customer-data-for-migration.md).  

1. На странице **Карта пакетов конфигурации** выберите таблицу, затем выберите поле **Шаблон данных**. Отображается список шаблонов, основанный на таблице.
2. Выберите шаблон, а затем нажмите кнопку **ОК**.  

После завершения пакета выполните следующую процедуру для сохранения пакета в файл. После этого можно передать пакет клиенту или партнеру.

### <a name="to-save-and-export-a-configuration-package"></a>Сохранение и экспорт пакета конфигурации

- На странице **Карта пакетов конфигурации** выберите действие **Экспортировать пакет**.  

Пакет создан в файле .rapidstart, который передает содержимое пакета в сжатом формате. Анкеты конфигурации, шаблоны конфигурации и журнал конфигураций автоматически добавляются в пакет, если только специально не указать их исключение.  

При сохранении файла можно задать любое имя, но изменить разрешение файла нельзя. Это должно быть .rapidstart.  

### <a name="to-copy-a-configuration-package"></a>Копирование пакета конфигурации

После создания пакета, который отвечает большинству ваших требований, его можно использовать в качестве основы для создания похожих пакетов. Это может сократить время реализации и расширяет воспроизводимость RapidStart Services.

1. Выберите значок ![Лампочка, которая открывает функцию "Что вы хотите сделать"](media/ui-search/search_small.png "Что вы хотите сделать"), введите **Пакеты конфигураций**, затем выберите соответствующую ссылку.  
2. Выберите пакет из списка и выберите действие **Копировать пакет**.  
3. В поле **Код нового пакета** введите код нового пакета.  
4. Установите флажок **Копирование данных**, если необходимо также скопировать данные базы данных из существующего пакета.  
5. Нажмите кнопку **ОК**.

## <a name="to-customize-a-configuration-package"></a>Настройка пакета конфигурации

Используйте лист конфигураций для сбора и классификации информации, которая будет использоваться для настройки новой организации и логического расположения таблиц. Форматирование книги основано на простой иерархии: области содержат группы, которые в свою очередь содержат таблицы. Зоны и группы являются необязательными, однако необходимы, чтобы включить обзор процесса конфигурации в ролевом центре служб RapidStart Services.

1. Выберите значок ![Лампочка, которая открывает функцию "Что вы хотите сделать"](media/ui-search/search_small.png "Что вы хотите сделать"), введите **Журнал конфигураций**, затем выберите соответствующую ссылку.  
2. В поле **Тип строки** выберите **Область**. В поле **Название** введите описательное имя.  
3. В поле **Тип строки** выберите **Группа**. В поле **Название** введите описательное имя.  
4. В поле **Тип строки** выберите **Таблица**. В поле **Код таблицы** выберите таблицу, которую предполагается включить в журнал.  

Теперь можно присвоить таблицам определенные пакеты конфигурации, которые вы создали или планируете создать. Дополнительные сведения см. в разделе [Присвоение таблицы пакету конфигурации](admin-how-to-prepare-a-configuration-package.md#to-assign-a-table-to-a-configuration-package).

## <a name="to-work-with-promoted-tables"></a>Работа с повышенными таблицами

1. Установите флажок **Таблица с повышенным уровнем**, чтобы указать таблицу, которая часто используется во время процесса настройки типичными клиентами, например таблицу **Счет ГК**. Когда таблица имеет указанное обозначение, клиент сможет с легкостью отфильтровать лист для просмотра только списка повышенных таблиц, которые требуют внимания.  
2. Для просмотра отфильтрованного представления выберите действие **Только повышенное**. Список таблиц содержит только таблицы с установленным флажком.  

## <a name="to-assign-a-table-to-a-configuration-package"></a>Присвоение таблицы пакету конфигурации

После определения таблиц, которые должны рассматриваться как часть вашей конфигурации, можно легко назначить эти таблицы пакетам конфигурации. Таблицу можно назначить только одному пакету. В следующей процедуре следует назначить пакет из листа конфигурации.  

> [!NOTE]  
> Можно также непосредственно создать упаковку и добавить в нее таблицу. Дополнительные сведения см. в разделе [Создание пакета конфигурации](admin-how-to-prepare-a-configuration-package.md#to-create-a-configuration-package).

1. Выберите значок ![Лампочка, которая открывает функцию "Что вы хотите сделать"](media/ui-search/search_small.png "Что вы хотите сделать"), введите **Журнал конфигураций**, затем выберите соответствующую ссылку.
2. На листе конфигурации выберите строку или группы строк, которые нужно назначать пакету конфигурации, затем выберите действие **Назначить пакет**.  
3. Выберите пакет из списка или выберите действие **Создать**, чтобы создать новый пакет, затем нажмите кнопку **ОК**.  

    Если таблица еще не включена в пакет, она теперь будет добавлена. Поле кода пакета в строке журнала будет заполнено с использованием кода пакета, которому назначена эта таблица.  
4. Если выбирается существующий пакет, можно увидеть, сколько таблиц в пакете, просматривая сведения в поле **Число таблиц**.

## <a name="to-review-or-customize-existing-database-data"></a>Просмотр или настройка существующих данных базы данных

По мере создания пакета конфигурации для решения можно просматривать и настраивать доступные данные в базе данных в соответствии с потребностями клиента. Таблица базы данных должна иметь соответствующую страницу.  

1. Выберите значок ![Лампочка, которая открывает функцию "Что вы хотите сделать"](media/ui-search/search_small.png "Что вы хотите сделать"), введите **Журнал конфигураций**, затем выберите соответствующую ссылку.
2. В журнале конфигураций определите таблицы, данные которых необходимо просмотреть или изменить.  

    > [!NOTE]  
    >  Убедитесь, что каждая таблица имеет код страницы, присвоенный ей. Для стандартных таблиц [!INCLUDE[d365fin](includes/d365fin_md.md)] это значение заполняется автоматически. В случае пользовательских таблиц необходимо указать код.

3. Выберите действие **Данные базы данных**. Откроется страница для соответствующей страницы.
4. Просмотрите имеющуюся информацию. Измените его по мере необходимости путем удаления ненужных записей или добавления новых.  

## <a name="to-copy-data-from-a-test-environment-to-a-production-environment"></a>Копирование данных из тестовой среды в производственную среду

После изучения и проверки всей установочной информации можно перейти к копированию данных в производственную среду. Создается новая организация в пределах одной базы данных.

1. Откройте и инициируйте новую организацию.  
2. Выберите значок ![Лампочка, которая открывает функцию "Что вы хотите сделать"](media/ui-search/search_small.png "Что вы хотите сделать"), введите **Журнал конфигураций**, затем выберите соответствующую ссылку.  
3. Выберите действие **Копировать данные из компании**.  
4. На странице **Копировать данные компании** выберите поле **Копировать из**. Откроется страница **Организации**.  
5. Выберите организацию, из которой требуется скопировать данные, затем нажмите кнопку **ОК**. Откроется список таблиц, выбранных в журнале конфигурации. В данный список включаются только таблицы с записями.
6. Выберите таблицы, из которых необходимо скопировать данные, затем выберите действие **Копировать данные**. На странице **Копировать данные компании** нажмите кнопку **ОК**.  

## <a name="see-also"></a>См. также

[Подготовьтесь к миграции данных клиента с помощью шаблонов](admin-use-templates-to-prepare-customer-data-for-migration.md)  
[Сбор значений настройки клиента](admin-gather-customer-setup-values.md)  
[Настройка конфигурации организации](admin-set-up-company-configuration.md)  
[Настройка организации со службами RapidStart Services](admin-set-up-a-company-with-rapidstart.md)  
[Администрация](admin-setup-and-administration.md)  
