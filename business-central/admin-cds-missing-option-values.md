---
title: Обработка отсутствующих значений параметров
description: Узнайте, как предотвратить сбой полной синхронизации из-за того ,что параметры в сопоставленных полях отличаются. Эти процессы требуют помощи разработчика.
author: bholtorf
ms.author: bholtorf
ms.custom: na
ms.reviewer: na
ms.service: dynamics365-business-central
ms.topic: conceptual
ms.date: 06/14/2021
ms.openlocfilehash: df6bf07fad3b9029b1a033d6ec17a869004995ab
ms.sourcegitcommit: 1508643075dafc25e9c52810a584b8df1d14b1dc
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 01/28/2022
ms.locfileid: "8049473"
---
# <a name="handling-missing-option-values"></a>Обработка отсутствующих значений параметров


Эта тема предназначена для технической аудитории. Описываемые в ней процессы требуют помощи разработчика.

[!INCLUDE[prod_short](includes/cds_long_md.md)] содержит три поля набора параметров, содержащие значения параметров, которые можно сопоставить полям [!INCLUDE[prod_short](includes/prod_short.md)] типа "Параметр" для автоматической синхронизации. Во время синхронизации несопоставленные параметры игнорируются, а отсутствующие параметры добавляются к связанной таблице [!INCLUDE[prod_short](includes/prod_short.md)] и добавляются в системную таблицу **Сопоставление параметров Dataverse** для обработки вручную позже. Например, добавив отсутствующие параметры в любом продукте, а затем обновив сопоставление.

Страница **Сопоставление таблиц интеграции** содержит три поля, которые содержат одно или несколько сопоставленных значений параметров. После полной синхронизации страница **Сопоставление параметров Dataverse** содержит несопоставленные параметры в этих трех полях.

|         Запись             | Значение параметра | Метка значения параметра |
|----------------------------|--------------|----------------------|
| Условия оплаты: NET30       | 1            | В течение 30 дней               |
| Условия оплаты: 2%10NET30   | 2            | 2% 10; В течение 30 дней        |
| Условия оплаты: NET45       | 3            | В течение 45 дней               |
| Условия оплаты: NET60       | 4            | В течение 60 дней               |
| Метод поставки: FOB       | 1            | ФОБ                  |
| Метод поставки: NOCHARGE  | 2            | Бесплатно            |
| Экспедитор: AIRBORNE   | 1            | Авиа             |
| Экспедитор: DHL        | 2            | DHL                  |
| Экспедитор: FEDEX      | 3            | FedEx                |
| Экспедитор: UPS        | 4            | UPS                  |
| Экспедитор: POSTALMAIL | 5            | Почта          |
| Экспедитор: FULLLOAD   | 6            | Полная загрузка            |
| Экспедитор: WILLCALL   | 7            | Самовывоз            |

Содержимое страницы **Сопоставление параметров Dataverse** основано на значениях перечисления в таблице **Организация CRM**. В [!INCLUDE[prod_short](includes/cds_long_md.md)] следующие поля в таблице организации сопоставляются с полями в записях клиента и поставщика:

- **Адрес 1: условия перевозки** с типом данных Enum, где значения определены следующим образом:

```
enum 5335 "CDS Shipment Method Code"
{
    Extensible = true;
    value(0; " ") { Caption = ' '; }
    value(1; "FOB") { Caption = 'FOB'; }
    value(2; "NoCharge") { Caption = 'No Charge'; }
}
```

- **Адрес 1: способ доставки** с типом данных Enum, где значения определены следующим образом:

```
enum 5336 "CDS Shipping Agent Code"
{
    Extensible = true;
    value(0; " ") { Caption = ' '; }
    value(1; "Airborne") { Caption = 'Airborne'; }
    value(2; "DHL") { Caption = 'DHL'; }
    value(3; "FedEx") { Caption = 'FedEx'; }
    value(4; "UPS") { Caption = 'UPS'; }
    value(5; "PostalMail") { Caption = 'Postal Mail'; }
    value(6; "FullLoad") { Caption = 'Full Load'; }
    value(7; "WillCall") { Caption = 'Will Call'; }
}
```

- **Условия оплаты** с типом данных Enum, где значения определены следующим образом:

```
enum 5334 "CDS Payment Terms Code"
{
    Extensible = true;
    value(0; " ") { Caption = ' '; }
    value(1; "Net30") { Caption = 'Net 30'; }
    value(2; "2%10Net30") { Caption = '2% 10; Net 30'; }
    value(3; "Net45") { Caption = 'Net 45'; }
    value(4; "Net60") { Caption = 'Net 60'; }
}
```

Все из перечислений [!INCLUDE[prod_short](includes/prod_short.md)] выше сопоставляются с наборами параметров в [!INCLUDE[prod_short](includes/cds_long_md.md)].

### <a name="extending-option-sets-in-prod_short"></a>Расширение наборов параметров в [!INCLUDE[prod_short](includes/prod_short.md)]
1. Создайте новое расширение AL.

2. Добавьте расширение Enum для параметров, которые вы хотите расширить. Убедитесь, что вы используете одно и то же значение. 

```
enumextension 50100 "CDS Payment Terms Code Extension" extends "CDS Payment Terms Code"
{
    value(779800001; "Cash Payment") { Caption = 'Cash Payment'; }
    value(779800002; "Transfer") { Caption = 'Transfer'; }
}
```

> [!IMPORTANT]  
> Вы должны использовать те же значения идентификатора параметра из [!INCLUDE[prod_short](includes/cds_long_md.md)], когда расширяете перечисление [!INCLUDE[prod_short](includes/prod_short.md)]. В противном случае возникнет ошибка синхронизации.

> [!IMPORTANT]  
> Не используйте символ "," в значениях перечислений и подписях. В настоящее время это не поддерживается в среде выполнения [!INCLUDE[prod_short](includes/prod_short.md)].

> [!NOTE]
> Первые десять символов имен и подписей новых значений параметров должны быть уникальными. Например, два параметра «Перевод 20 рабочих дней» и «Перевод 20 календарных дней» вызовут ошибку, поскольку оба имеют одинаковые первые 10 символов «Перевод 20». Назовите их, например, «TRF20 WD» и «TRF20 CD».

### <a name="update-prod_short-option-mapping"></a>Обновление сопоставления параметров [!INCLUDE[prod_short](includes/cds_long_md.md)]
Теперь вы можете воссоздать сопоставление между параметрами [!INCLUDE[prod_short](includes/cds_long_md.md)] и записями [!INCLUDE[prod_short](includes/prod_short.md)].

На странице **Сопоставление таблиц интеграции** выберите строку для сопоставления **Условия оплаты**, затем выберите действие **Синхронизировать измененные записи**. Страница **Сопоставление параметров Dataverse** обновляется дополнительными записями ниже.

|         Запись                 | Значение параметра   | Метка значения параметра |
|--------------------------------|----------------|----------------------|
| Условия оплаты: NET30           | 1              | В течение 30 дней               |
| Условия оплаты: 2%10NET30       | 2              | 2% 10; В течение 30 дней        |
| Условия оплаты: NET45           | 3              | В течение 45 дней               |
| Условия оплаты: NET60           | 4              | В течение 60 дней               | 
| **Условия оплаты: CASH PAYME**  | **779800001**  | **Наличная оплата**     |
| **Условия оплаты: TRANSFER**    | **779800002**  | **Перемещение**         |

Таблица **Условия оплаты** в [!INCLUDE[prod_short](includes/prod_short.md)] будет иметь новые записи для параметров [!INCLUDE[prod_short](includes/cds_long_md.md)]. В следующей таблице новые параметры выделены жирным шрифтом. Курсивные строки представляют все параметры, которые теперь можно синхронизировать. Оставшиеся строки представляют параметры, которые не используются и будут игнорироваться во время синхронизации. Вы можете удалить их или расширить параметры Dataverse с теми же именами.)

| Код       | Расчет срока оплаты | Расчет даты скидки | Скидка (%) | Расчет скидки оплаты по кредит-нотам | Описание       |
|------------|----------------------|---------------------------|------------|-------------------------------|-------------------|
| 10 ДНЕЙ    | 10Д                  |                           | 0.         | FALSE                         | В течение 10 дней       |
| 14 ДНЕЙ    | 14D                  |                           | 0.         | FALSE                         | В течение 14 дней       |
| 15 ДНЕЙ    | 15D                  |                           | 0.         | FALSE                         | В течение 15 дней       |
| 1М(8Д)     | 1M                   | 8Д                        | 2.         | FALSE                         | 1 месяц/2% 8 дней |
| 2 ДНЯ     | 2Д                   |                           | 0.         | FALSE                         | В течение 2 дней        |
| *2%10NET30* |                      |                           | 0.         | FALSE                         |                   |
| 21 ДЕНЬ    | 21Д                  |                           | 0.         | FALSE                         | В течение 21 дней       |
| 30 ДНЕЙ    | 30Д                  |                           | 0.         | FALSE                         | В течение 30 дней       |
| 60 ДНЕЙ    | 60Д                  |                           | 0.         | FALSE                         | В течение 60 дней       |
| 7 ДНЕЙ     | 7Д                   |                           | 0.         | FALSE                         | В течение 7 дней        |
| ***CASH PAYME*** |                      |                           | 0.         | FALSE                         |                   |
| ТМ         | ТМ                   |                           | 0.         | FALSE                         | Текущий месяц     |
| НП        | 0Д                   |                           | 0.         | FALSE                         | Наличными при доставке  |
| *NET30*      |                      |                           | 0.         | FALSE                         |                   |
| *NET45*      |                      |                           | 0.         | FALSE                         |                   |
| *NET60*      |                      |                           | 0.         | FALSE                         |                   |
| ***ПЕРЕВОД*** |                      |                           | 0.         | FALSE                         |                   |

## <a name="see-also"></a>См. также
[Сопоставление таблиц и полей для синхронизации](admin-how-to-modify-table-mappings-for-synchronization.md)

[!INCLUDE[footer-include](includes/footer-banner.md)]