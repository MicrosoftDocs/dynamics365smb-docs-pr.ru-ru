---
title: Интеграция с Dynamics 365 Sales | Документация Майкрософт
description: Узнайте, как подготовить Dynamics 365 Business Central к интеграции с Dynamics 365 Sales.
author: bholtorf
ms.service: dynamics365-business-central
ms.topic: conceptual
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms.search.keywords: sales, crm, integration, integrating
ms.date: 04/01/2021
ms.author: bholtorf
ms.openlocfilehash: 6683d8b3a01693d23366f95292eb92f0aabcd268
ms.sourcegitcommit: 1aab52477956bf1aa7376fc7fb984644bc398c61
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/04/2021
ms.locfileid: "6184503"
---
# <a name="integrating-with-dynamics-365-sales"></a><span data-ttu-id="d070c-103">Интеграция с Dynamics 365 Sales</span><span class="sxs-lookup"><span data-stu-id="d070c-103">Integrating with Dynamics 365 Sales</span></span>
[!INCLUDE[prod_short](includes/cc_data_platform_banner.md)]

<span data-ttu-id="d070c-104">Роль менеджера по продажам часто рассматривается как самая направленная наружу должность в бизнесе.</span><span class="sxs-lookup"><span data-stu-id="d070c-104">The sales person role is often considered as one the most outward-facing jobs in a business.</span></span> <span data-ttu-id="d070c-105">Однако может быть полезно для менеджеров по продажам посмотреть внутрь бизнеса и увидеть, что происходит на заднем дворе.</span><span class="sxs-lookup"><span data-stu-id="d070c-105">However, it can be helpful for sales people to be able to look inward in the business and see what is happening on the back end.</span></span> <span data-ttu-id="d070c-106">Путем интеграции [!INCLUDE[prod_short](includes/prod_short.md)] и [!INCLUDE[crm_md](includes/crm_md.md)], можно предоставить менеджерам по продажи такие аналитические данные, позволив им просматривать информацию в [!INCLUDE[prod_short](includes/prod_short.md)] во время работы в [!INCLUDE[crm_md](includes/crm_md.md)].</span><span class="sxs-lookup"><span data-stu-id="d070c-106">By integrating [!INCLUDE[prod_short](includes/prod_short.md)] and [!INCLUDE[crm_md](includes/crm_md.md)], you can give your sales people that insight by enabling them to view information in [!INCLUDE[prod_short](includes/prod_short.md)] while they are working in [!INCLUDE[crm_md](includes/crm_md.md)].</span></span> <span data-ttu-id="d070c-107">Например, при подготовке предложения по продаже может быть полезно знать, имеется ли достаточно запасов для выполнения заказа.</span><span class="sxs-lookup"><span data-stu-id="d070c-107">For example, when preparing a sales quote it could be useful to know whether you have enough inventory to fulfill the order.</span></span> <span data-ttu-id="d070c-108">Дополнительные сведения см. в разделе [Использование Dynamics 365 Sales из Business Central](marketing-integrate-dynamicscrm.md).</span><span class="sxs-lookup"><span data-stu-id="d070c-108">For more information, see [Using Dynamics 365 Sales from Business Central](marketing-integrate-dynamicscrm.md).</span></span>

> [!NOTE]
> <span data-ttu-id="d070c-109">В этом разделе описывается процесс интеграции сетевых версий [!INCLUDE[crm_md](includes/crm_md.md)] и [!INCLUDE[prod_short](includes/prod_short.md)] через [!INCLUDE[prod_short](includes/cds_long_md.md)].</span><span class="sxs-lookup"><span data-stu-id="d070c-109">This topic describes the process of integrating the online versions of [!INCLUDE[crm_md](includes/crm_md.md)] and [!INCLUDE[prod_short](includes/prod_short.md)] through [!INCLUDE[prod_short](includes/cds_long_md.md)].</span></span> <span data-ttu-id="d070c-110">Сведения о локальной конфигурации см. в разделе [Подготовка Dynamics 365 Sales к локальной интеграции](/dynamics365/business-central/dev-itpro/administration/prepare-dynamics-365-for-sales-for-integration).</span><span class="sxs-lookup"><span data-stu-id="d070c-110">For information about on-premises configuration, see [Preparing Dynamics 365 Sales for Integration on-premises](/dynamics365/business-central/dev-itpro/administration/prepare-dynamics-365-for-sales-for-integration).</span></span>

## <a name="integrating-through-dataverse"></a><span data-ttu-id="d070c-111">Интеграция через Dataverse</span><span class="sxs-lookup"><span data-stu-id="d070c-111">Integrating Through Dataverse</span></span>
[!INCLUDE[prod_short](includes/prod_short.md)] <span data-ttu-id="d070c-112">также интегрируется с [!INCLUDE[prod_short](includes/cds_long_md.md)], что позволяет легко подключать и синхронизировать данные с другими приложениями Dynamics 365, такими как [!INCLUDE[crm_md](includes/crm_md.md)], или даже с приложениями, которые вы создаете сами.</span><span class="sxs-lookup"><span data-stu-id="d070c-112">also integrates with [!INCLUDE[prod_short](includes/cds_long_md.md)], which makes it easy to connect and synchronize data with other Dynamics 365 applications, such as [!INCLUDE[crm_md](includes/crm_md.md)], or even apps that you build yourself.</span></span> <span data-ttu-id="d070c-113">Если вы впервые выполняете интеграцию, мы рекомендуем сделать это через [!INCLUDE[prod_short](includes/cds_long_md.md)].</span><span class="sxs-lookup"><span data-stu-id="d070c-113">If you are integrating for the first time, we recommend that you do so through [!INCLUDE[prod_short](includes/cds_long_md.md)].</span></span> <span data-ttu-id="d070c-114">Дополнительные сведения см. в разделе [Интеграция с Dataverse](admin-common-data-service.md).</span><span class="sxs-lookup"><span data-stu-id="d070c-114">For more information, see [Integration with Dataverse](admin-common-data-service.md).</span></span>

<span data-ttu-id="d070c-115">Если вы уже интегрировали [!INCLUDE[crm_md](includes/crm_md.md)] с [!INCLUDE[prod_short](includes/prod_short.md)], вы можете продолжить синхронизацию данных, используя ваши настройки.</span><span class="sxs-lookup"><span data-stu-id="d070c-115">If you have already integrated [!INCLUDE[crm_md](includes/crm_md.md)] with [!INCLUDE[prod_short](includes/prod_short.md)], you can continue to synchronize data using your setup.</span></span> <span data-ttu-id="d070c-116">Однако, если вы обновите или выключите интеграцию [!INCLUDE[crm_md](includes/crm_md.md)], чтобы включить его снова, вы должны подключиться через [!INCLUDE[prod_short](includes/cds_long_md.md)].</span><span class="sxs-lookup"><span data-stu-id="d070c-116">However, if you upgrade or turn off your [!INCLUDE[crm_md](includes/crm_md.md)] integration, to turn it on again you must connect through [!INCLUDE[prod_short](includes/cds_long_md.md)].</span></span> <span data-ttu-id="d070c-117">Дополнительные сведения см. в разделе [Обновление интеграции с Dynamics 365 Sales](admin-upgrade-sales-to-cds.md).</span><span class="sxs-lookup"><span data-stu-id="d070c-117">For more information, see [Upgrading an Integration with Dynamics 365 Sales](admin-upgrade-sales-to-cds.md).</span></span>

> [!NOTE]
> <span data-ttu-id="d070c-118">При повторном подключении через [!INCLUDE[prod_short](includes/cds_long_md.md)] применяются настройки синхронизации по умолчанию и перезаписываются все ваши конфигурации.</span><span class="sxs-lookup"><span data-stu-id="d070c-118">Reconnecting through [!INCLUDE[prod_short](includes/cds_long_md.md)] will apply default synchronization settings, and will overwrite any configurations you have.</span></span> <span data-ttu-id="d070c-119">Например, будут применены сопоставления таблиц по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="d070c-119">For example, the default table mappings will be applied.</span></span>

## <a name="integration-settings-that-are-specific-to-a-crm_md-integration"></a><span data-ttu-id="d070c-120">Параметры интеграции, специфичные для интеграции [!INCLUDE[crm_md](includes/crm_md.md)]</span><span class="sxs-lookup"><span data-stu-id="d070c-120">Integration Settings that are Specific to a [!INCLUDE[crm_md](includes/crm_md.md)] Integration</span></span>
<span data-ttu-id="d070c-121">Интеграция с [!INCLUDE[prod_short](includes/prod_short.md)] происходит через [!INCLUDE[prod_short](includes/cds_long_md.md)], и есть много стандартных настроек и таблиц, которые обеспечиваются интеграцией.</span><span class="sxs-lookup"><span data-stu-id="d070c-121">Integration with [!INCLUDE[prod_short](includes/prod_short.md)] happens through [!INCLUDE[prod_short](includes/cds_long_md.md)], and there are a lot of standard settings and tables that are provided by the integration.</span></span> <span data-ttu-id="d070c-122">В дополнение к стандартным настройкам, есть некоторые, которые являются специфическими для [!INCLUDE[crm_md](includes/crm_md.md)].</span><span class="sxs-lookup"><span data-stu-id="d070c-122">In addition to the standard settings, there are some that are specific to [!INCLUDE[crm_md](includes/crm_md.md)].</span></span> <span data-ttu-id="d070c-123">Они перечислены в следующих разделах.</span><span class="sxs-lookup"><span data-stu-id="d070c-123">The following sections list those.</span></span>

## <a name="permissions-and-security-roles-for-user-accounts-in-sales"></a><span data-ttu-id="d070c-124">Разрешения и роли безопасности для учетных записей пользователей в Sales</span><span class="sxs-lookup"><span data-stu-id="d070c-124">Permissions and Security Roles for User Accounts in Sales</span></span>
<span data-ttu-id="d070c-125">При установке решения интеграции разрешения для учетной записи пользователя интеграции настраиваются.</span><span class="sxs-lookup"><span data-stu-id="d070c-125">When you install the Integration Solution, permissions for the integration user account are configured.</span></span> <span data-ttu-id="d070c-126">Если эти разрешения изменены, вам может потребоваться сбросить их.</span><span class="sxs-lookup"><span data-stu-id="d070c-126">If those permissions are changed you might need to reset them.</span></span> <span data-ttu-id="d070c-127">Вы можете сделать это, переустановив решение интеграции, выбрав **Повторить развертывание решения интеграции** на странице **Настройка подключения Dynamics 365**.</span><span class="sxs-lookup"><span data-stu-id="d070c-127">You can do that by reinstalling the Integration Solution by choosing **Redeploy Integration Solution** on the **Dynamics 365 Connection Setup** page.</span></span> <span data-ttu-id="d070c-128">Развернуты следующие роли безопасности:</span><span class="sxs-lookup"><span data-stu-id="d070c-128">The following security roles are deployed:</span></span>

* <span data-ttu-id="d070c-129">Администратор интеграции Dynamics 365 Business Central</span><span class="sxs-lookup"><span data-stu-id="d070c-129">Dynamics 365 Business Central Integration Administrator</span></span>
* <span data-ttu-id="d070c-130">Пользователь интеграции Dynamics 365 Business Central</span><span class="sxs-lookup"><span data-stu-id="d070c-130">Dynamics 365 Business Central Integration User</span></span>
* <span data-ttu-id="d070c-131">Пользователь наличия товара Dynamics 365 Business Central</span><span class="sxs-lookup"><span data-stu-id="d070c-131">Dynamics 365 Business Central Product Availability User</span></span>

### <a name="connection-settings-in-the-setup-guide"></a><span data-ttu-id="d070c-132">Настройки подключения в руководстве по установке</span><span class="sxs-lookup"><span data-stu-id="d070c-132">Connection Settings in the Setup Guide</span></span>
<span data-ttu-id="d070c-133">Вы можете использовать мастер настройки, чтобы быстро настроить подключение и указать расширенные функции, такие как связи между записями.</span><span class="sxs-lookup"><span data-stu-id="d070c-133">You can use an assisted setup guide to quickly set up the connection and specify advanced features, such as coupling between records.</span></span>

1. <span data-ttu-id="d070c-134">Выберите **Настройка и расширения**, затем выберите **Мастер настройки**.</span><span class="sxs-lookup"><span data-stu-id="d070c-134">Choose **Setup and Extensions**, and then choose **Assisted Setup**.</span></span>
2. <span data-ttu-id="d070c-135">Выберите **Настройка подключения к Dynamics 365 Sales**, чтобы запустить мастер настройки.</span><span class="sxs-lookup"><span data-stu-id="d070c-135">Choose **Set up the Dynamics 365 Sales Connection** to start the assisted setup guide.</span></span>
3. <span data-ttu-id="d070c-136">Заполните соответствующим образом поля.</span><span class="sxs-lookup"><span data-stu-id="d070c-136">Fill in the fields as necessary.</span></span>
4. <span data-ttu-id="d070c-137">При необходимости, имеются расширенные настройки, которые могут улучшить безопасность и включить дополнительные возможности, такие как обработка заказов на продажу и просмотр уровней запасов.</span><span class="sxs-lookup"><span data-stu-id="d070c-137">Optionally, there are advanced settings that can enhance security and enable additional capabilities, such as sales order processing and viewing inventory levels.</span></span> <span data-ttu-id="d070c-138">Расширенные параметры рассматриваются в таблице ниже.</span><span class="sxs-lookup"><span data-stu-id="d070c-138">The following table describes the advanced settings.</span></span>  

| <span data-ttu-id="d070c-139">Поле</span><span class="sxs-lookup"><span data-stu-id="d070c-139">Field</span></span> | <span data-ttu-id="d070c-140">Описание</span><span class="sxs-lookup"><span data-stu-id="d070c-140">Description</span></span> |
|--|--|
| <span data-ttu-id="d070c-141">**Импорт решения Dynamics 365 Sales**</span><span class="sxs-lookup"><span data-stu-id="d070c-141">**Import Dynamics 365 Sales Solution**</span></span> | <span data-ttu-id="d070c-142">Разрешить это, чтобы установить и настроить решение интеграции в [!INCLUDE[crm_md](includes/crm_md.md)].</span><span class="sxs-lookup"><span data-stu-id="d070c-142">Enable this to install and configure the integration solution in [!INCLUDE[crm_md](includes/crm_md.md)].</span></span> <!--For more information, see [About the Base CDS Integration Solution](admin-common-data-service.md#about-the-business-central-integration-solution). Need to add a new topic--> |
| <span data-ttu-id="d070c-143">**Публикация веб-службы наличия товаров**</span><span class="sxs-lookup"><span data-stu-id="d070c-143">**Publish Item Availability Web Service**</span></span> | <span data-ttu-id="d070c-144">Разрешите пользователям, которые используют [!INCLUDE[crm_md](includes/crm_md.md)], просматривать наличие товаров (продуктов) в запасах в [!INCLUDE[prod_short](includes/prod_short.md)].</span><span class="sxs-lookup"><span data-stu-id="d070c-144">Enable people who are using [!INCLUDE[crm_md](includes/crm_md.md)] to view the availability of items (products) in inventory in [!INCLUDE[prod_short](includes/prod_short.md)].</span></span> <span data-ttu-id="d070c-145">Для этого необходима учетная запись пользователя [!INCLUDE[prod_short](includes/prod_short.md)] с ключом доступа к веб-службам.</span><span class="sxs-lookup"><span data-stu-id="d070c-145">This requires a [!INCLUDE[prod_short](includes/prod_short.md)] user account with a web services access key.</span></span> <span data-ttu-id="d070c-146">Назначение ключа выполняется в два этапа.</span><span class="sxs-lookup"><span data-stu-id="d070c-146">Assigning the key is a two-step process.</span></span> <span data-ttu-id="d070c-147">В учетной записи пользователя в [!INCLUDE[prod_short](includes/prod_short.md)] необходимо выбрать действие **Изменить ключ веб-службы**.</span><span class="sxs-lookup"><span data-stu-id="d070c-147">On the user account in [!INCLUDE[prod_short](includes/prod_short.md)] you must choose the **Change Web Service Key** action.</span></span> <span data-ttu-id="d070c-148">В мастере настройки "Настройка подключения к Dynamics 365 Sales" необходимо указать URL-адрес веб-службы Dynamics 365 Business Central OData и предоставить учетные данные пользователя [!INCLUDE[prod_short](includes/prod_short.md)] для получения доступа к сервису.</span><span class="sxs-lookup"><span data-stu-id="d070c-148">In the Set Up Dynamics 365 Sales Connection assisted setup guide, you must specify the Dynamics 365 Business Central OData web service URL, and provide [!INCLUDE[prod_short](includes/prod_short.md)] user credentials for accessing the service.</span></span> <span data-ttu-id="d070c-149">Дополнительные сведения см. в разделе [Веб-службы OData](/dynamics365/business-central/dev-itpro/webservices/odata-web-services).</span><span class="sxs-lookup"><span data-stu-id="d070c-149">For more information, see [OData Web Services](/dynamics365/business-central/dev-itpro/webservices/odata-web-services).</span></span> |
|<span data-ttu-id="d070c-150">**Имя пользователя веб-службы OData Business Central**</span><span class="sxs-lookup"><span data-stu-id="d070c-150">**Business Central OData Web Service Username**</span></span> | <span data-ttu-id="d070c-151">Имя пользователя учетной записи [!INCLUDE[prod_short](includes/prod_short.md)], которую [!INCLUDE[crm_md](includes/crm_md.md)] использует для извлечения сведений о наличии товаров в [!INCLUDE[prod_short](includes/prod_short.md)] через веб-службу OData.</span><span class="sxs-lookup"><span data-stu-id="d070c-151">The name of the [!INCLUDE[prod_short](includes/prod_short.md)] user account that [!INCLUDE[crm_md](includes/crm_md.md)] uses to retrieve information about item availability in [!INCLUDE[prod_short](includes/prod_short.md)] through the OData web service.</span></span> |
| <span data-ttu-id="d070c-152">**Ключ доступа веб-службы OData Business Central**</span><span class="sxs-lookup"><span data-stu-id="d070c-152">**Business Central OData Web Service Accesskey**</span></span> | <span data-ttu-id="d070c-153">Ключ доступа учетной записи пользователя, которую [!INCLUDE[crm_md](includes/crm_md.md)] использует для получения сведений о наличии товаров из [!INCLUDE[prod_short](includes/prod_short.md)] через веб-службу OData.</span><span class="sxs-lookup"><span data-stu-id="d070c-153">The access key for the user account that [!INCLUDE[crm_md](includes/crm_md.md)] uses to get information about item availability from [!INCLUDE[prod_short](includes/prod_short.md)] through the OData web service.</span></span> <span data-ttu-id="d070c-154">Ключ назначается пользователю, выбранному в поле **Имя пользователя веб-службы OData Business Central**.</span><span class="sxs-lookup"><span data-stu-id="d070c-154">The key is assigned to the user chosen in the **Business Central OData Web Service Username** field.</span></span> <span data-ttu-id="d070c-155">Чтобы получить ключ, выберите кнопку **Найти значение** рядом с именем пользователя, выберите пользователя, выберите **Управление**, затем выберите **Правка**.</span><span class="sxs-lookup"><span data-stu-id="d070c-155">To get the key, choose the **Look up value** button next to the user name, choose the user, choose **Manage**, and then **Edit**.</span></span> <span data-ttu-id="d070c-156">В карточке пользователя выберите **Действия**, **Проверка подлинности**, затем выберите **Изменить ключ веб-службы**.</span><span class="sxs-lookup"><span data-stu-id="d070c-156">On the user card, choose **Actions**, **Authentication**, and then choose **Change Web Service Key**.</span></span> |
| <span data-ttu-id="d070c-157">**Включить интеграцию с заказом на продажу**</span><span class="sxs-lookup"><span data-stu-id="d070c-157">**Enable Sales Order Integration**</span></span> | <span data-ttu-id="d070c-158">Когда сотрудники создают заказы на продажу в [!INCLUDE[crm_md](includes/crm_md.md)] и выполняют заказы в [!INCLUDE[prod_short](includes/prod_short.md)], это интегрирует процесс в [!INCLUDE[crm_md](includes/crm_md.md)].</span><span class="sxs-lookup"><span data-stu-id="d070c-158">When people create sales orders in [!INCLUDE[crm_md](includes/crm_md.md)] and fullfill orders in [!INCLUDE[prod_short](includes/prod_short.md)], this integrates the process in [!INCLUDE[crm_md](includes/crm_md.md)].</span></span> <span data-ttu-id="d070c-159">Дополнительные сведения см. в разделе [Включение интеграции обработки заказов на продажу](/dynamics365/customer-engagement/sales-enterprise/developer/enable-sales-order-processing-integration).</span><span class="sxs-lookup"><span data-stu-id="d070c-159">For more information, see [Enable sales order processing integration](/dynamics365/customer-engagement/sales-enterprise/developer/enable-sales-order-processing-integration).</span></span> <span data-ttu-id="d070c-160">Для этого требуется, чтобы вы предоставили учетные данные для учетной записи пользователя-администратора в [!INCLUDE[crm_md](includes/crm_md.md)].</span><span class="sxs-lookup"><span data-stu-id="d070c-160">This requires that you provide credentials for an administrator user account in [!INCLUDE[crm_md](includes/crm_md.md)].</span></span> <span data-ttu-id="d070c-161">Дополнительные сведения см. в разделе [Обработка данных в заказах на продажу](marketing-integrate-dynamicscrm.md#handling-sales-order-data).</span><span class="sxs-lookup"><span data-stu-id="d070c-161">For more information, see [Handling Sales Order Data](marketing-integrate-dynamicscrm.md#handling-sales-order-data).</span></span> |
|<span data-ttu-id="d070c-162">**Включить подключение к Dynamics 365 Sales**</span><span class="sxs-lookup"><span data-stu-id="d070c-162">**Enable Dynamics 365 Sales Connection**</span></span> | <span data-ttu-id="d070c-163">Включите подключение к [!INCLUDE[crm_md](includes/crm_md.md)].</span><span class="sxs-lookup"><span data-stu-id="d070c-163">Enable the connection to [!INCLUDE[crm_md](includes/crm_md.md)].</span></span> |
| <span data-ttu-id="d070c-164">**Версия SDK Dynamics 365**</span><span class="sxs-lookup"><span data-stu-id="d070c-164">**Dynamics 365 SDK Version**</span></span> | <span data-ttu-id="d070c-165">Это необходимо только в том случае, если выполняется интеграция с локальной версией [!INCLUDE[crm_md](includes/crm_md.md)].</span><span class="sxs-lookup"><span data-stu-id="d070c-165">This is relevant only if you are integrating with an on-premises version of [!INCLUDE[crm_md](includes/crm_md.md)].</span></span> <span data-ttu-id="d070c-166">Это комплект разработки программного обеспечения Dynamics 365 (также называемый Xrm), который используется для подключения [!INCLUDE[prod_short](includes/prod_short.md)] к [!INCLUDE[crm_md](includes/crm_md.md)].</span><span class="sxs-lookup"><span data-stu-id="d070c-166">This is the Dynamics 365 software development kit (also referred to as Xrm) you use to connect [!INCLUDE[prod_short](includes/prod_short.md)] to [!INCLUDE[crm_md](includes/crm_md.md)].</span></span> <span data-ttu-id="d070c-167">Версия должна быть совместима с версией пакета SDK, которая используется [!INCLUDE[crm_md](includes/crm_md.md)], и равна или новее версии, используемой [!INCLUDE[crm_md](includes/crm_md.md)].</span><span class="sxs-lookup"><span data-stu-id="d070c-167">The version must be compatible with the SDK version that is used by [!INCLUDE[crm_md](includes/crm_md.md)], and equal to or newer than the version used by [!INCLUDE[crm_md](includes/crm_md.md)].</span></span> |

### <a name="connection-settings-on-the-microsoft-dynamics-365-connection-setup-page"></a><span data-ttu-id="d070c-168">Параметры подключения на странице настройки подключения Microsoft Dynamics 365</span><span class="sxs-lookup"><span data-stu-id="d070c-168">Connection Settings on the Microsoft Dynamics 365 Connection Setup Page</span></span>

<span data-ttu-id="d070c-169">Введите следующие сведения для подключения из [!INCLUDE[prod_short](includes/prod_short.md)] к [!INCLUDE[crm_md](includes/crm_md.md)].</span><span class="sxs-lookup"><span data-stu-id="d070c-169">Enter the following information for the connection from [!INCLUDE[crm_md](includes/crm_md.md)] to [!INCLUDE[prod_short](includes/prod_short.md)].</span></span>

| <span data-ttu-id="d070c-170">Поле</span><span class="sxs-lookup"><span data-stu-id="d070c-170">Field</span></span> | <span data-ttu-id="d070c-171">Описание</span><span class="sxs-lookup"><span data-stu-id="d070c-171">Description</span></span> |
|--|--|
| <span data-ttu-id="d070c-172">**URL-адрес Dynamics 365 Sales**</span><span class="sxs-lookup"><span data-stu-id="d070c-172">**Dynamics 365 Sales URL**</span></span> | <span data-ttu-id="d070c-173">URL-адрес вашего экземпляра [!INCLUDE[crm_md](includes/crm_md.md)].</span><span class="sxs-lookup"><span data-stu-id="d070c-173">The URL of your [!INCLUDE[crm_md](includes/crm_md.md)] instance.</span></span> <span data-ttu-id="d070c-174">Это позволяет пользователям открывать соответствующие записи в [!INCLUDE[prod_short](includes/prod_short.md)] из записей в [!INCLUDE[crm_md](includes/crm_md.md)], например счет или продукт.</span><span class="sxs-lookup"><span data-stu-id="d070c-174">This enables users to open corresponding records in [!INCLUDE[prod_short](includes/prod_short.md)] from records in [!INCLUDE[crm_md](includes/crm_md.md)], such as an account or product.</span></span> <span data-ttu-id="d070c-175">Записи [!INCLUDE[prod_short](includes/prod_short.md)] открываются в [!INCLUDE[prod_short](includes/prod_short.md)].</span><span class="sxs-lookup"><span data-stu-id="d070c-175">The [!INCLUDE[prod_short](includes/prod_short.md)] records open in [!INCLUDE[prod_short](includes/prod_short.md)].</span></span> |
|<span data-ttu-id="d070c-176">**URL-адрес Dynamics 365 Sales**</span><span class="sxs-lookup"><span data-stu-id="d070c-176">**Dynamics 365 Sales URL**</span></span>|<span data-ttu-id="d070c-177">URL-адрес вашего экземпляра [!INCLUDE[crm_md](includes/crm_md.md)].</span><span class="sxs-lookup"><span data-stu-id="d070c-177">The URL of your [!INCLUDE[crm_md](includes/crm_md.md)] instance.</span></span> <span data-ttu-id="d070c-178">Это позволяет пользователям открывать соответствующие записи в [!INCLUDE[prod_short](includes/prod_short.md)] из записей в [!INCLUDE[crm_md](includes/crm_md.md)], например счет или продукт.</span><span class="sxs-lookup"><span data-stu-id="d070c-178">This enables users to open corresponding records in [!INCLUDE[prod_short](includes/prod_short.md)] from records in [!INCLUDE[crm_md](includes/crm_md.md)], such as an account or product.</span></span> <span data-ttu-id="d070c-179">Записи [!INCLUDE[prod_short](includes/prod_short.md)] открываются в [!INCLUDE[prod_short](includes/prod_short.md)].</span><span class="sxs-lookup"><span data-stu-id="d070c-179">The [!INCLUDE[prod_short](includes/prod_short.md)] records open in [!INCLUDE[prod_short](includes/prod_short.md)].</span></span>|
|<span data-ttu-id="d070c-180">**Веб-служба наличия товаров включена**</span><span class="sxs-lookup"><span data-stu-id="d070c-180">**Item Availability Web Service Enabled**</span></span>|<span data-ttu-id="d070c-181">Разрешите пользователям, которые используют [!INCLUDE[crm_md](includes/crm_md.md)], просматривать наличие товаров (продуктов) в запасах в [!INCLUDE[prod_short](includes/prod_short.md)].</span><span class="sxs-lookup"><span data-stu-id="d070c-181">Enable people who are using [!INCLUDE[crm_md](includes/crm_md.md)] to view the availability of items (products) in inventory in [!INCLUDE[prod_short](includes/prod_short.md)].</span></span> <span data-ttu-id="d070c-182">Если она включена, также необходимо указать имя пользователя и ключ доступа для [!INCLUDE[crm_md](includes/crm_md.md)], чтобы использовать веб-службу OData для наличия товаров (продуктов).</span><span class="sxs-lookup"><span data-stu-id="d070c-182">If you enable this, you must also provide a user name and an access key for the [!INCLUDE[crm_md](includes/crm_md.md)] to use to query OData Web Service for availability of items (products).</span></span> <span data-ttu-id="d070c-183">Дополнительные сведения см. в разделе [Веб-службы OData](/dynamics365/business-central/dev-itpro/webservices/odata-web-services).</span><span class="sxs-lookup"><span data-stu-id="d070c-183">For more information, see [OData Web Services](/dynamics365/business-central/dev-itpro/webservices/odata-web-services).</span></span>|
|<span data-ttu-id="d070c-184">**URL-адрес веб-службы OData Dynamics 365 Business Central**</span><span class="sxs-lookup"><span data-stu-id="d070c-184">**Dynamics 365 Business Central OData Web Service URL**</span></span>|<span data-ttu-id="d070c-185">Если включена веб-служба наличия товаров, URL-адрес веб-службы OData предоставляется для вас.</span><span class="sxs-lookup"><span data-stu-id="d070c-185">If you enable the Item Availability Web Service, the URL for the OData Web service is provided for you.</span></span> <span data-ttu-id="d070c-186">Для использования задайте в этом поле URL-адрес экземпляра [!INCLUDE[prod_short](includes/prod_short.md)].</span><span class="sxs-lookup"><span data-stu-id="d070c-186">Set this field to the URL of the [!INCLUDE[prod_short](includes/prod_short.md)] instance to use.</span></span><br /><br /> <span data-ttu-id="d070c-187">Для возврата в поле URL-адреса по умолчанию для [!INCLUDE[prod_short](includes/prod_short.md)], выберите действие **Сбросить URL-адрес веб-клиента**.</span><span class="sxs-lookup"><span data-stu-id="d070c-187">To reset the field to the default URL for the [!INCLUDE[prod_short](includes/prod_short.md)], choose **Reset Web Client URL** action.</span></span><br /><br /> <span data-ttu-id="d070c-188">Это поле используется только в случае установки решения интеграции [!INCLUDE[prod_short](includes/prod_short.md)] в [!INCLUDE[crm_md](includes/crm_md.md)].</span><span class="sxs-lookup"><span data-stu-id="d070c-188">This field is relevant only if the [!INCLUDE[prod_short](includes/prod_short.md)] Integration Solution is installed in [!INCLUDE[crm_md](includes/crm_md.md)].</span></span>|
|<span data-ttu-id="d070c-189">**Имя пользователя веб-службы OData Dynamics 365 Business Central**</span><span class="sxs-lookup"><span data-stu-id="d070c-189">**Dynamics 365 Business Central OData Web Service Username**</span></span>|<span data-ttu-id="d070c-190">Имя пользователя учетной записи, которую [!INCLUDE[crm_md](includes/crm_md.md)] использует для получения сведений о наличии товаров из [!INCLUDE[prod_short](includes/prod_short.md)] через веб-службу OData.</span><span class="sxs-lookup"><span data-stu-id="d070c-190">The name of the user account that the [!INCLUDE[crm_md](includes/crm_md.md)] uses to get information about item availability from [!INCLUDE[prod_short](includes/prod_short.md)] through OData Web service.</span></span>|
|<span data-ttu-id="d070c-191">**Ключ доступа веб-службы OData Dynamics 365 Business Central**</span><span class="sxs-lookup"><span data-stu-id="d070c-191">**Dynamics 365 Business Central OData Web Service Accesskey**</span></span>|<span data-ttu-id="d070c-192">Ключ доступа учетной записи пользователя, которую [!INCLUDE[crm_md](includes/crm_md.md)] использует для получения сведений о наличии товаров из [!INCLUDE[prod_short](includes/prod_short.md)] через веб-службу OData.</span><span class="sxs-lookup"><span data-stu-id="d070c-192">The access key for the user account that the [!INCLUDE[crm_md](includes/crm_md.md)] uses to get information about item availability from [!INCLUDE[prod_short](includes/prod_short.md)] through OData Web service.</span></span> <span data-ttu-id="d070c-193">Ключ назначается пользователю, выбранному в поле **Имя пользователя веб-службы OData Dynamics 365 Business Central**.</span><span class="sxs-lookup"><span data-stu-id="d070c-193">The key is assigned to the user chosen in the **Dynamics 365 Business Central OData Web Service Username** field.</span></span> <span data-ttu-id="d070c-194">Чтобы получить ключ, выберите кнопку **Найти значение** рядом с именем пользователя, выберите пользователя, выберите **Управление**, затем выберите **Правка**.</span><span class="sxs-lookup"><span data-stu-id="d070c-194">To get the key, choose the **Look up value** button next to the user name, choose the user, choose **Manage**, and then **Edit**.</span></span> <span data-ttu-id="d070c-195">В карточке пользователя выберите **Действия**, **Проверка подлинности**, затем выберите **Изменить ключ веб-службы**.</span><span class="sxs-lookup"><span data-stu-id="d070c-195">On the user card, choose **Actions**, **Authentication**, and then choose **Change Web Service Key**.</span></span>|
|<span data-ttu-id="d070c-196">**Версия SDK Dynamics 365**</span><span class="sxs-lookup"><span data-stu-id="d070c-196">**Dynamics 365 SDK Version**</span></span>|<span data-ttu-id="d070c-197">Если выполняется интеграция с локальной версией [!INCLUDE[crm_md](includes/crm_md.md)], следует использовать набор разработки программного обеспечения Dynamics 365 (также называемый Xrm) для подключения [!INCLUDE[prod_short](includes/prod_short.md)] к [!INCLUDE[crm_md](includes/crm_md.md)].</span><span class="sxs-lookup"><span data-stu-id="d070c-197">If you are integrating with an on-premesis version of [!INCLUDE[crm_md](includes/crm_md.md)], this is the Dynamics 365 software development kit (also referred to as Xrm) you use to connect [!INCLUDE[prod_short](includes/prod_short.md)] to [!INCLUDE[crm_md](includes/crm_md.md)].</span></span> <span data-ttu-id="d070c-198">Выбранная версия должна быть совместима с версией SDK, которая используется приложением [!INCLUDE[crm_md](includes/crm_md.md)].</span><span class="sxs-lookup"><span data-stu-id="d070c-198">The version that you select must be compatible with the SDK version that is used by [!INCLUDE[crm_md](includes/crm_md.md)].</span></span> <span data-ttu-id="d070c-199">Эта версия равна или новее версии, используемой приложением [!INCLUDE[crm_md](includes/crm_md.md)].</span><span class="sxs-lookup"><span data-stu-id="d070c-199">This version equal to or newer than the version used by [!INCLUDE[crm_md](includes/crm_md.md)].</span></span>|

<span data-ttu-id="d070c-200">В дополнение к приведенным выше параметрам введите следующие настройки для [!INCLUDE[crm_md](includes/crm_md.md)].</span><span class="sxs-lookup"><span data-stu-id="d070c-200">In addition to the settings above, enter the following settings for [!INCLUDE[crm_md](includes/crm_md.md)].</span></span>

| <span data-ttu-id="d070c-201">Поле</span><span class="sxs-lookup"><span data-stu-id="d070c-201">Field</span></span> | <span data-ttu-id="d070c-202">Описание</span><span class="sxs-lookup"><span data-stu-id="d070c-202">Description</span></span> |
|--|--|
| <span data-ttu-id="d070c-203">**Интеграция заказов на продажу разрешена**</span><span class="sxs-lookup"><span data-stu-id="d070c-203">**Sales Order Integration is Enabled**</span></span> | <span data-ttu-id="d070c-204">Разрешите пользователям отправлять заказы на продажу и активированные предложения в [!INCLUDE[crm_md](includes/crm_md.md)] и затем просматривать и обрабатывать их в [!INCLUDE[prod_short](includes/prod_short.md)].</span><span class="sxs-lookup"><span data-stu-id="d070c-204">Enable users to submit sales orders and activated quotes in [!INCLUDE[crm_md](includes/crm_md.md)] and then view and process them in [!INCLUDE[prod_short](includes/prod_short.md)].</span></span> <span data-ttu-id="d070c-205">Это интегрирует процесс в [!INCLUDE[crm_md](includes/crm_md.md)].</span><span class="sxs-lookup"><span data-stu-id="d070c-205">This integrates the process in [!INCLUDE[crm_md](includes/crm_md.md)].</span></span> <span data-ttu-id="d070c-206">Дополнительные сведения см. в разделе [Включение интеграции обработки заказов на продажу](/dynamics365/customer-engagement/sales-enterprise/developer/enable-sales-order-processing-integration).</span><span class="sxs-lookup"><span data-stu-id="d070c-206">For more information, see [Enable sales order processing integration](/dynamics365/customer-engagement/sales-enterprise/developer/enable-sales-order-processing-integration).</span></span> |
| <span data-ttu-id="d070c-207">**Автоматически создавать заказы на продажу**</span><span class="sxs-lookup"><span data-stu-id="d070c-207">**Automatically Create Sales Orders**</span></span> | <span data-ttu-id="d070c-208">Создание заказов на продажу в [!INCLUDE[prod_short](includes/prod_short.md)], когда пользователь создает и отправляет заказ на продажу в [!INCLUDE[crm_md](includes/crm_md.md)].</span><span class="sxs-lookup"><span data-stu-id="d070c-208">Create a sales order in [!INCLUDE[prod_short](includes/prod_short.md)] when a user creates and submits one in [!INCLUDE[crm_md](includes/crm_md.md)].</span></span> |
| <span data-ttu-id="d070c-209">**Автоматически обрабатывать предложения по продаже**</span><span class="sxs-lookup"><span data-stu-id="d070c-209">**Automatically Process Sales Quotes**</span></span> | <span data-ttu-id="d070c-210">Обработка предложения по продаже в [!INCLUDE[prod_short](includes/prod_short.md)], когда пользователь создает и активирует его в [!INCLUDE[crm_md](includes/crm_md.md)].</span><span class="sxs-lookup"><span data-stu-id="d070c-210">Process a sales quote in [!INCLUDE[prod_short](includes/prod_short.md)] when a user creates and activates one in [!INCLUDE[crm_md](includes/crm_md.md)].</span></span> |

<!--
### User Account Settings
Integration with Business Central through Dataverse requires an administrator user account and an account that is used only for the connection between the apps. This account is called the "integration user." When you install the CDS Base Integration Solution, permissions for the integration user account are configured in [!INCLUDE[crm_md](includes/crm_md.md)]. If those permissions are changed you might need to reset them. You can do that by reinstalling the Integration Solution or by manually resetting them. The following tables list the minimum permissions for the user accounts in [!INCLUDE[crm_md](includes/crm_md.md)].  -->

### <a name="standard-sales-entity-mapping-for-synchronization"></a><span data-ttu-id="d070c-211">Сопоставление стандартных объектов Sales для синхронизации</span><span class="sxs-lookup"><span data-stu-id="d070c-211">Standard Sales Entity Mapping for Synchronization</span></span>

<span data-ttu-id="d070c-212">Объекты в [!INCLUDE[crm_md](includes/crm_md.md)], например заказы, интегрируются с эквивалентными типами таблиц в [!INCLUDE[prod_short](includes/prod_short.md)], например заказы на продажу.</span><span class="sxs-lookup"><span data-stu-id="d070c-212">Entities in [!INCLUDE[crm_md](includes/crm_md.md)], such as orders, are integrated with equivalent types of tables in [!INCLUDE[prod_short](includes/prod_short.md)],such as sales orders.</span></span> <span data-ttu-id="d070c-213">Для работы с данными [!INCLUDE[crm_md](includes/crm_md.md)] нужно настроить ссылки, называемые связываниями, между таблицами в [!INCLUDE[crm_md](includes/crm_md.md)] и [!INCLUDE[prod_short](includes/prod_short.md)].</span><span class="sxs-lookup"><span data-stu-id="d070c-213">To work with [!INCLUDE[crm_md](includes/crm_md.md)] data you set up links, called couplings, between tables in [!INCLUDE[prod_short](includes/prod_short.md)] and [!INCLUDE[crm_md](includes/crm_md.md)].</span></span>

<span data-ttu-id="d070c-214">В следующей таблице перечислено стандартное соответствие между таблицами в [!INCLUDE[prod_short](includes/prod_short.md)] и [!INCLUDE[crm_md](includes/crm_md.md)], которое предоставляет [!INCLUDE[prod_short](includes/prod_short.md)].</span><span class="sxs-lookup"><span data-stu-id="d070c-214">The following table lists the standard mapping between tables in [!INCLUDE[prod_short](includes/prod_short.md)] and [!INCLUDE[crm_md](includes/crm_md.md)] that [!INCLUDE[prod_short](includes/prod_short.md)] provides.</span></span>

| [!INCLUDE[prod_short](includes/prod_short.md)] | [!INCLUDE[crm_md](includes/crm_md.md)] | <span data-ttu-id="d070c-215">Направление синхронизации</span><span class="sxs-lookup"><span data-stu-id="d070c-215">Synchronization Direction</span></span> | <span data-ttu-id="d070c-216">Фильтр по умолчанию</span><span class="sxs-lookup"><span data-stu-id="d070c-216">Default Filter</span></span> |
|--|--|--|--|
| <span data-ttu-id="d070c-217">Единица измерения</span><span class="sxs-lookup"><span data-stu-id="d070c-217">Unit of Measure</span></span> | <span data-ttu-id="d070c-218">Группа единиц</span><span class="sxs-lookup"><span data-stu-id="d070c-218">Unit Group</span></span> | [!INCLUDE[prod_short](includes/prod_short.md)] -> [!INCLUDE[crm_md](includes/crm_md.md)] |  |
| <span data-ttu-id="d070c-219">Товар</span><span class="sxs-lookup"><span data-stu-id="d070c-219">Item</span></span> | <span data-ttu-id="d070c-220">Продукт</span><span class="sxs-lookup"><span data-stu-id="d070c-220">Product</span></span> | [!INCLUDE[prod_short](includes/prod_short.md)] <span data-ttu-id="d070c-221">-> [!INCLUDE[crm_md](includes/crm_md.md)] и [!INCLUDE[crm_md](includes/crm_md.md)] -> [!INCLUDE[prod_short](includes/prod_short.md)]</span><span class="sxs-lookup"><span data-stu-id="d070c-221">-> [!INCLUDE[crm_md](includes/crm_md.md)] and [!INCLUDE[crm_md](includes/crm_md.md)] -> [!INCLUDE[prod_short](includes/prod_short.md)]</span></span> | <span data-ttu-id="d070c-222">Тип контактов Sales: **Тип продукта** — **Товарный запас**</span><span class="sxs-lookup"><span data-stu-id="d070c-222">Sales contact filter: **Product Type** is **Sales Inventory**</span></span> |
| <span data-ttu-id="d070c-223">Ресурс</span><span class="sxs-lookup"><span data-stu-id="d070c-223">Resource</span></span> | <span data-ttu-id="d070c-224">Продукт</span><span class="sxs-lookup"><span data-stu-id="d070c-224">Product</span></span> | [!INCLUDE[prod_short](includes/prod_short.md)] <span data-ttu-id="d070c-225">-> [!INCLUDE[crm_md](includes/crm_md.md)] и [!INCLUDE[crm_md](includes/crm_md.md)] -> [!INCLUDE[prod_short](includes/prod_short.md)]</span><span class="sxs-lookup"><span data-stu-id="d070c-225">-> [!INCLUDE[crm_md](includes/crm_md.md)] and [!INCLUDE[crm_md](includes/crm_md.md)] -> [!INCLUDE[prod_short](includes/prod_short.md)]</span></span> | <span data-ttu-id="d070c-226">Тип контактов Sales: **Тип продукта** — **Услуги**</span><span class="sxs-lookup"><span data-stu-id="d070c-226">Sales contact filter: **Product Type** is **Services**</span></span> |
| <span data-ttu-id="d070c-227">Ценовая группа клиента</span><span class="sxs-lookup"><span data-stu-id="d070c-227">Customer Price Group</span></span> | <span data-ttu-id="d070c-228">Прайс-лист</span><span class="sxs-lookup"><span data-stu-id="d070c-228">Price List</span></span> | [!INCLUDE[prod_short](includes/prod_short.md)] -> [!INCLUDE[crm_md](includes/crm_md.md)] |  |
| <span data-ttu-id="d070c-229">Цена продажи</span><span class="sxs-lookup"><span data-stu-id="d070c-229">Sales Price</span></span> | <span data-ttu-id="d070c-230">Прайс-лист на продукцию</span><span class="sxs-lookup"><span data-stu-id="d070c-230">Product Price List</span></span> | [!INCLUDE[prod_short](includes/prod_short.md)] -> [!INCLUDE[crm_md](includes/crm_md.md)] | <span data-ttu-id="d070c-231">Фильтр контактов [!INCLUDE[prod_short](includes/prod_short.md)]: **Код продажи** не пустой, **Тип продажи** — **Ценовая группа клиента**</span><span class="sxs-lookup"><span data-stu-id="d070c-231">[!INCLUDE[prod_short](includes/prod_short.md)] contact filter: **Sales Code** is not blank, **Sales Type** is **Customer Price Group**</span></span> |
| <span data-ttu-id="d070c-232">Возможность</span><span class="sxs-lookup"><span data-stu-id="d070c-232">Opportunity</span></span> | <span data-ttu-id="d070c-233">Возможность</span><span class="sxs-lookup"><span data-stu-id="d070c-233">Opportunity</span></span> | [!INCLUDE[prod_short](includes/prod_short.md)] <span data-ttu-id="d070c-234">-> [!INCLUDE[prod_short](includes/cds_long_md.md)] и [!INCLUDE[crm_md](includes/crm_md.md)] -> [!INCLUDE[prod_short](includes/prod_short.md)]</span><span class="sxs-lookup"><span data-stu-id="d070c-234">-> [!INCLUDE[prod_short](includes/cds_long_md.md)] and [!INCLUDE[crm_md](includes/crm_md.md)] -> [!INCLUDE[prod_short](includes/prod_short.md)]</span></span> |  |
| <span data-ttu-id="d070c-235">Заголовок счета продажи</span><span class="sxs-lookup"><span data-stu-id="d070c-235">Sales Invoice Header</span></span> | <span data-ttu-id="d070c-236">Счет</span><span class="sxs-lookup"><span data-stu-id="d070c-236">Invoice</span></span> | [!INCLUDE[prod_short](includes/prod_short.md)] -> [!INCLUDE[crm_md](includes/crm_md.md)] |  |
| <span data-ttu-id="d070c-237">Строка счета продажи</span><span class="sxs-lookup"><span data-stu-id="d070c-237">Sales Invoice Line</span></span> | <span data-ttu-id="d070c-238">Продукт счета</span><span class="sxs-lookup"><span data-stu-id="d070c-238">Invoice Product</span></span> | [!INCLUDE[prod_short](includes/prod_short.md)] -> [!INCLUDE[crm_md](includes/crm_md.md)] |  |
| <span data-ttu-id="d070c-239">Заголовок заказа на продажу</span><span class="sxs-lookup"><span data-stu-id="d070c-239">Sales Order Header</span></span> | <span data-ttu-id="d070c-240">Заказ на продажу</span><span class="sxs-lookup"><span data-stu-id="d070c-240">Sales Order</span></span> | [!INCLUDE[prod_short](includes/prod_short.md)] -> [!INCLUDE[crm_md](includes/crm_md.md)] | <span data-ttu-id="d070c-241">Фильтр заголовков продаж [!INCLUDE[prod_short](includes/prod_short.md)]: **Тип документа** — Заказ, **Статус** — Выпущено</span><span class="sxs-lookup"><span data-stu-id="d070c-241">[!INCLUDE[prod_short](includes/prod_short.md)] Sales Header filter: **Document Type** is Order, **Status** is Released</span></span> |
| <span data-ttu-id="d070c-242">Примечания заказа на продажу</span><span class="sxs-lookup"><span data-stu-id="d070c-242">Sales Order Notes</span></span> | <span data-ttu-id="d070c-243">Примечания заказа на продажу</span><span class="sxs-lookup"><span data-stu-id="d070c-243">Sales Order Notes</span></span> | [!INCLUDE[prod_short](includes/prod_short.md)] <span data-ttu-id="d070c-244">-> [!INCLUDE[crm_md](includes/crm_md.md)] и [!INCLUDE[crm_md](includes/crm_md.md)] -> [!INCLUDE[prod_short](includes/prod_short.md)]</span><span class="sxs-lookup"><span data-stu-id="d070c-244">-> [!INCLUDE[crm_md](includes/crm_md.md)] and [!INCLUDE[crm_md](includes/crm_md.md)] -> [!INCLUDE[prod_short](includes/prod_short.md)]</span></span> |  |

### <a name="synchronization-rules"></a><span data-ttu-id="d070c-245">Правила синхронизации</span><span class="sxs-lookup"><span data-stu-id="d070c-245">Synchronization Rules</span></span>

<span data-ttu-id="d070c-246">В следующей таблице перечислены правила, управляющие синхронизацией между [!INCLUDE[crm_md](includes/crm_md.md)] и [!INCLUDE[prod_short](includes/prod_short.md)].</span><span class="sxs-lookup"><span data-stu-id="d070c-246">The following table lists the rules that control the synchronization between [!INCLUDE[crm_md](includes/crm_md.md)] and [!INCLUDE[prod_short](includes/prod_short.md)].</span></span> <span data-ttu-id="d070c-247">Это в дополнение к правилам, определенным для Dataverse, которые также применяются.</span><span class="sxs-lookup"><span data-stu-id="d070c-247">These are in addition to rules defined for Dataverse, which also apply.</span></span> <span data-ttu-id="d070c-248">Дополнительные сведения см. в разделе [Сопоставление стандартных сущностей](admin-synchronizing-business-central-and-sales.md#standard-table-mapping-for-synchronization).</span><span class="sxs-lookup"><span data-stu-id="d070c-248">For more information, see [Standard Entity Mapping](admin-synchronizing-business-central-and-sales.md#standard-table-mapping-for-synchronization).</span></span>

> [!NOTE]  
> <span data-ttu-id="d070c-249">Изменения данных, которые были сделаны в учетной записи пользователя интеграции, не синхронизируются.</span><span class="sxs-lookup"><span data-stu-id="d070c-249">Changes to data in  that were made by the integration user account are not synchronized.</span></span> <span data-ttu-id="d070c-250">Поэтому рекомендуется не изменять данные при использовании этой учетной записи.</span><span class="sxs-lookup"><span data-stu-id="d070c-250">Therefore, we recommended that you do not change data while using that account.</span></span> <span data-ttu-id="d070c-251">Дополнительные сведения см. в разделе [Настройка учетных записей пользователей для интеграции с Dynamics 365 Sales](admin-setting-up-integration-with-dynamics-sales.md).</span><span class="sxs-lookup"><span data-stu-id="d070c-251">For more information, see [Setting Up User Accounts for Integrating with Dynamics 365 Sales](admin-setting-up-integration-with-dynamics-sales.md).</span></span>

|<span data-ttu-id="d070c-252">Стол</span><span class="sxs-lookup"><span data-stu-id="d070c-252">Table</span></span>|<span data-ttu-id="d070c-253">Правило</span><span class="sxs-lookup"><span data-stu-id="d070c-253">Rule</span></span>|
|-----|----|
|<span data-ttu-id="d070c-254">Единицы измерения</span><span class="sxs-lookup"><span data-stu-id="d070c-254">Units of Measure</span></span>|<span data-ttu-id="d070c-255">Единицы измерения синхронизируются с группами единиц в [!INCLUDE[crm_md](includes/crm_md.md)].</span><span class="sxs-lookup"><span data-stu-id="d070c-255">Units of measure are synchronized with unit groups in [!INCLUDE[crm_md](includes/crm_md.md)].</span></span> <span data-ttu-id="d070c-256">Для группы единиц может быть задана только одна единица измерения.</span><span class="sxs-lookup"><span data-stu-id="d070c-256">There can only be one unit of measure defined in the unit group.</span></span>|
|<span data-ttu-id="d070c-257">Товаров</span><span class="sxs-lookup"><span data-stu-id="d070c-257">Items</span></span>|<span data-ttu-id="d070c-258">При синхронизации товаров с продуктами [!INCLUDE[crm_md](includes/crm_md.md)], [!INCLUDE[prod_short](includes/prod_short.md)] автоматически создает прайс-лист в [!INCLUDE[crm_md](includes/crm_md.md)].</span><span class="sxs-lookup"><span data-stu-id="d070c-258">When synchronizing items with [!INCLUDE[crm_md](includes/crm_md.md)] products, [!INCLUDE[prod_short](includes/prod_short.md)] automatically creates a price list in [!INCLUDE[crm_md](includes/crm_md.md)].</span></span> <span data-ttu-id="d070c-259">Чтобы избежать ошибок синхронизации, не следует изменять данный прайс-лист вручную.</span><span class="sxs-lookup"><span data-stu-id="d070c-259">To avoid synchronization errors, you should not modify this price list manually.</span></span>|
|<span data-ttu-id="d070c-260">Ресурсы</span><span class="sxs-lookup"><span data-stu-id="d070c-260">Resources</span></span>|<span data-ttu-id="d070c-261">Ресурсы синхронизируются с продуктами [!INCLUDE[crm_md](includes/crm_md.md)], имеющими тип "Услуга".</span><span class="sxs-lookup"><span data-stu-id="d070c-261">Resources are synchronized with [!INCLUDE[crm_md](includes/crm_md.md)] products that have product type Service.</span></span>|
|<span data-ttu-id="d070c-262">Ценовые группы клиентов</span><span class="sxs-lookup"><span data-stu-id="d070c-262">Customer Price Groups</span></span>|<span data-ttu-id="d070c-263">Ценовые группы клиентов синхронизируются с прайс-листами Sales.</span><span class="sxs-lookup"><span data-stu-id="d070c-263">Customer price groups are synchronized with Sales price lists.</span></span>|
|<span data-ttu-id="d070c-264">Цены продажи</span><span class="sxs-lookup"><span data-stu-id="d070c-264">Sales Prices</span></span>|<span data-ttu-id="d070c-265">Цены Sales с типом продажи "Ценовая группа клиента" и определенным кодом продаж, синхронизируются со строками прайс-листов [!INCLUDE[crm_md](includes/crm_md.md)].</span><span class="sxs-lookup"><span data-stu-id="d070c-265">Sales prices that have sales type Customer Price Group and have a sales code defined are synchronized with [!INCLUDE[crm_md](includes/crm_md.md)] price list lines</span></span>|
|<span data-ttu-id="d070c-266">Возможные сделки</span><span class="sxs-lookup"><span data-stu-id="d070c-266">Opportunities</span></span>|<span data-ttu-id="d070c-267">Возможные сделки синхронизируются с возможными сделками [!INCLUDE[crm_md](includes/crm_md.md)].</span><span class="sxs-lookup"><span data-stu-id="d070c-267">Opportunities are synchronized with [!INCLUDE[crm_md](includes/crm_md.md)] opportunities.</span></span> <span data-ttu-id="d070c-268">Значение кода менеджера по продажам определяет владельца связанной таблицы в [!INCLUDE[crm_md](includes/crm_md.md)].</span><span class="sxs-lookup"><span data-stu-id="d070c-268">The Salesperson Code value defines the owner of the coupled table in [!INCLUDE[crm_md](includes/crm_md.md)].</span></span>|
|<span data-ttu-id="d070c-269">Учтенные счета продажи</span><span class="sxs-lookup"><span data-stu-id="d070c-269">Posted Sales Invoices</span></span>|<span data-ttu-id="d070c-270">Учтенные счета продажи синхронизируются со счетами продажи.</span><span class="sxs-lookup"><span data-stu-id="d070c-270">Posted sales invoices are synchronized with sales invoices.</span></span> <span data-ttu-id="d070c-271">Прежде чем счет можно будет синхронизировать, рекомендуется синхронизировать все остальные таблицы, которые могут быть использованы в нем, от менеджеров по продажам до прайс-листов.</span><span class="sxs-lookup"><span data-stu-id="d070c-271">Before an invoice can be synchronized, it is better to synchronize all other tables that can participate in the invoice, from salespersons to price lists.</span></span> <span data-ttu-id="d070c-272">Значение кода менеджера по продажам в заголовке счета определяет владельца связанной таблицы в Sales.</span><span class="sxs-lookup"><span data-stu-id="d070c-272">The Salesperson Code value in the invoice header defines the owner of the coupled table in Sales.</span></span>|
|<span data-ttu-id="d070c-273">Заказы на продажу</span><span class="sxs-lookup"><span data-stu-id="d070c-273">Sales Orders</span></span>|<span data-ttu-id="d070c-274">Когда включена интеграция заказов на продажу, заказы на продажу в [!INCLUDE[prod_short](includes/prod_short.md)], которые созданы из отправленных заказов на продажу в [!INCLUDE[crm_md](includes/crm_md.md)], синхронизируются с заказами на продажу в INCLUDE SALES, когда они выпущены.</span><span class="sxs-lookup"><span data-stu-id="d070c-274">When sales order integration is enabled, sales orders in [!INCLUDE[prod_short](includes/prod_short.md)] that are created from submitted sales orders in [!INCLUDE[crm_md](includes/crm_md.md)] are synchronized with sales orders in INCLUDE SALES when they are released.</span></span> <span data-ttu-id="d070c-275">Прежде чем синхронизировать заказы, рекомендуется сначала синхронизировать все таблицы, связанные с заказом, такие как продавцы и прайс-листы.</span><span class="sxs-lookup"><span data-stu-id="d070c-275">Before you synchronize orders, we recommend that you first synchronize all tables that the are involved with the order, such as sales persons and price lists.</span></span> <span data-ttu-id="d070c-276">Поле кода менеджера по продажам в заголовке заказа определяет владельца связанной таблицы в [!INCLUDE[crm_md](includes/crm_md.md)].</span><span class="sxs-lookup"><span data-stu-id="d070c-276">The Salesperson Code field in the order header defines the owner of the coupled table in [!INCLUDE[crm_md](includes/crm_md.md)].</span></span>|

### <a name="synchronization-jobs-for-a-sales-integration"></a><span data-ttu-id="d070c-277">Задания синхронизации для интеграции Sales</span><span class="sxs-lookup"><span data-stu-id="d070c-277">Synchronization Jobs for a Sales Integration</span></span>

<span data-ttu-id="d070c-278">Задания выполняются в следующем порядке во избежание зависимостей связывания между таблицами.</span><span class="sxs-lookup"><span data-stu-id="d070c-278">The jobs are run in the following order to avoid coupling dependencies between tables.</span></span> <span data-ttu-id="d070c-279">Есть дополнительные задания, доступные из Dataverse.</span><span class="sxs-lookup"><span data-stu-id="d070c-279">There are additional jobs available from Dataverse.</span></span> <span data-ttu-id="d070c-280">Дополнительные сведения см. в разделе [Использование очередей работ для планирования задач](./admin-job-queues-schedule-tasks.md).</span><span class="sxs-lookup"><span data-stu-id="d070c-280">For more information, see [Use Job Queues to Schedule Tasks](./admin-job-queues-schedule-tasks.md).</span></span>

1. <span data-ttu-id="d070c-281">Задание синхронизации "ЕДИНИЦА ИЗМЕРЕНИЯ — Dynamics 365 Sales"</span><span class="sxs-lookup"><span data-stu-id="d070c-281">UNITOFMEASURE - Dynamics 365 Sales synchronization job</span></span>  
2. <span data-ttu-id="d070c-282">Задание синхронизации "РЕСУРС-ПРОДУКТ - Dynamics 365 Sales"</span><span class="sxs-lookup"><span data-stu-id="d070c-282">RESOURCE-PRODUCT - Dynamics 365 Sales synchronization job</span></span>  
3. <span data-ttu-id="d070c-283">Задание синхронизации "ТОВАР-ПРОДУКТ — Dynamics 365 Sales"</span><span class="sxs-lookup"><span data-stu-id="d070c-283">ITEM-PRODUCT - Dynamics 365 Sales synchronization job</span></span>  
4. <span data-ttu-id="d070c-284">Задание синхронизации "CUSTPRCGRP-PRICE — Dynamics 365 Sales".</span><span class="sxs-lookup"><span data-stu-id="d070c-284">CUSTPRCGRP-PRICE - Dynamics 365 Sales synchronization job.</span></span>
5. <span data-ttu-id="d070c-285">Задание синхронизации "SALESPRC-PRODPRICE — Dynamics 365 Sales".</span><span class="sxs-lookup"><span data-stu-id="d070c-285">SALESPRC-PRODPRICE - Dynamics 365 Sales synchronization job.</span></span>
6. <span data-ttu-id="d070c-286">Задание синхронизации "POSTEDSALESINV-INV — Dynamics 365 Sales".</span><span class="sxs-lookup"><span data-stu-id="d070c-286">POSTEDSALESINV-INV - Dynamics 365 Sales synchronization job.</span></span>

### <a name="default-synchronization-job-queue-entries"></a><span data-ttu-id="d070c-287">Операции очереди заданий синхронизации по умолчанию</span><span class="sxs-lookup"><span data-stu-id="d070c-287">Default Synchronization Job Queue Entries</span></span>

<span data-ttu-id="d070c-288">В следующей таблице описываются задания синхронизации по умолчанию для Sales.</span><span class="sxs-lookup"><span data-stu-id="d070c-288">The following table describes the default synchronization jobs for Sales.</span></span>  

|<span data-ttu-id="d070c-289">Операция очереди работ</span><span class="sxs-lookup"><span data-stu-id="d070c-289">Job Queue Entry</span></span>|<span data-ttu-id="d070c-290">Описание</span><span class="sxs-lookup"><span data-stu-id="d070c-290">Description</span></span>|<span data-ttu-id="d070c-291">Направление</span><span class="sxs-lookup"><span data-stu-id="d070c-291">Direction</span></span>|<span data-ttu-id="d070c-292">Сопоставление таблиц интеграции</span><span class="sxs-lookup"><span data-stu-id="d070c-292">Integration Table Mapping</span></span>|<span data-ttu-id="d070c-293">Частота синхронизации по умолчанию (мин)</span><span class="sxs-lookup"><span data-stu-id="d070c-293">Default Synchronization Frequency (mins)</span></span>|<span data-ttu-id="d070c-294">Время бездействия по умолчанию (мин)</span><span class="sxs-lookup"><span data-stu-id="d070c-294">Default inactivity sleep time (mins)</span></span>|  
|---------------------|---------------------------------------|---------------|-------------------------------|-----|-----|  
|<span data-ttu-id="d070c-295">Задание синхронизации "ЕДИНИЦА ИЗМЕРЕНИЯ — Dynamics 365 Sales"</span><span class="sxs-lookup"><span data-stu-id="d070c-295">UNITOFMEASURE - Dynamics 365 Sales synchronization job</span></span>|<span data-ttu-id="d070c-296">Синхронизирует группы единиц [!INCLUDE[crm_md](includes/crm_md.md)] с единицами измерения [!INCLUDE[prod_short](includes/prod_short.md)].</span><span class="sxs-lookup"><span data-stu-id="d070c-296">Synchronizes [!INCLUDE[crm_md](includes/crm_md.md)] unit groups with [!INCLUDE[prod_short](includes/prod_short.md)] units of measure.</span></span>|<span data-ttu-id="d070c-297">Из [!INCLUDE[prod_short](includes/prod_short.md)] в [!INCLUDE[crm_md](includes/crm_md.md)]</span><span class="sxs-lookup"><span data-stu-id="d070c-297">From [!INCLUDE[prod_short](includes/prod_short.md)] to [!INCLUDE[crm_md](includes/crm_md.md)]</span></span>|<span data-ttu-id="d070c-298">ЕДИНИЦА ИЗМЕРЕНИЯ</span><span class="sxs-lookup"><span data-stu-id="d070c-298">UNIT OF MEASURE</span></span>|<span data-ttu-id="d070c-299">30</span><span class="sxs-lookup"><span data-stu-id="d070c-299">30</span></span>|<span data-ttu-id="d070c-300">720</span><span class="sxs-lookup"><span data-stu-id="d070c-300">720</span></span><br> <span data-ttu-id="d070c-301">(12 ч.)</span><span class="sxs-lookup"><span data-stu-id="d070c-301">(12 hrs)</span></span>|
|<span data-ttu-id="d070c-302">Задание синхронизации "РЕСУРС-ПРОДУКТ - Dynamics 365 Sales"</span><span class="sxs-lookup"><span data-stu-id="d070c-302">RESOURCE-PRODUCT - Dynamics 365 Sales synchronization job</span></span>|<span data-ttu-id="d070c-303">Синхронизирует продукты [!INCLUDE[crm_md](includes/crm_md.md)] с ресурсами [!INCLUDE[prod_short](includes/prod_short.md)].</span><span class="sxs-lookup"><span data-stu-id="d070c-303">Synchronizes [!INCLUDE[crm_md](includes/crm_md.md)] products with [!INCLUDE[prod_short](includes/prod_short.md)] resources.</span></span>|<span data-ttu-id="d070c-304">Из [!INCLUDE[prod_short](includes/prod_short.md)] в [!INCLUDE[crm_md](includes/crm_md.md)]</span><span class="sxs-lookup"><span data-stu-id="d070c-304">From [!INCLUDE[prod_short](includes/prod_short.md)] to [!INCLUDE[crm_md](includes/crm_md.md)]</span></span>|<span data-ttu-id="d070c-305">РЕСУРС-ПРОДУКТ</span><span class="sxs-lookup"><span data-stu-id="d070c-305">RESOURCE-PRODUCT</span></span>|<span data-ttu-id="d070c-306">30</span><span class="sxs-lookup"><span data-stu-id="d070c-306">30</span></span>|<span data-ttu-id="d070c-307">720</span><span class="sxs-lookup"><span data-stu-id="d070c-307">720</span></span><br> <span data-ttu-id="d070c-308">(12 ч.)</span><span class="sxs-lookup"><span data-stu-id="d070c-308">(12 hrs)</span></span>|
|<span data-ttu-id="d070c-309">Задание синхронизации "ТОВАР-ПРОДУКТ — Dynamics 365 Sales"</span><span class="sxs-lookup"><span data-stu-id="d070c-309">ITEM - PRODUCT - Dynamics 365 Sales synchronization job</span></span>|<span data-ttu-id="d070c-310">Синхронизирует продукты [!INCLUDE[crm_md](includes/crm_md.md)] с товарами [!INCLUDE[prod_short](includes/prod_short.md)].</span><span class="sxs-lookup"><span data-stu-id="d070c-310">Synchronizes [!INCLUDE[crm_md](includes/crm_md.md)] products with [!INCLUDE[prod_short](includes/prod_short.md)] items.</span></span>|<span data-ttu-id="d070c-311">Из [!INCLUDE[prod_short](includes/prod_short.md)] в [!INCLUDE[crm_md](includes/crm_md.md)]</span><span class="sxs-lookup"><span data-stu-id="d070c-311">From [!INCLUDE[prod_short](includes/prod_short.md)] to [!INCLUDE[crm_md](includes/crm_md.md)]</span></span>|<span data-ttu-id="d070c-312">ТОВАР-ПРОДУКТ</span><span class="sxs-lookup"><span data-stu-id="d070c-312">ITEM-PRODUCT</span></span>|<span data-ttu-id="d070c-313">30</span><span class="sxs-lookup"><span data-stu-id="d070c-313">30</span></span>|<span data-ttu-id="d070c-314">1440</span><span class="sxs-lookup"><span data-stu-id="d070c-314">1440</span></span><br> <span data-ttu-id="d070c-315">(24 ч.)</span><span class="sxs-lookup"><span data-stu-id="d070c-315">(24 hrs)</span></span>|
|<span data-ttu-id="d070c-316">Задание синхронизации "CUSTPRCGRP-PRICE — Dynamics 365 Sales"</span><span class="sxs-lookup"><span data-stu-id="d070c-316">CUSTPRCGRP-PRICE - Dynamics 365 Sales synchronization job</span></span>|<span data-ttu-id="d070c-317">Синхронизирует прайс-листы продаж [!INCLUDE[crm_md](includes/crm_md.md)] с ценовыми группами клиентов [!INCLUDE[prod_short](includes/prod_short.md)].</span><span class="sxs-lookup"><span data-stu-id="d070c-317">Synchronizes [!INCLUDE[crm_md](includes/crm_md.md)] sales price lists with [!INCLUDE[prod_short](includes/prod_short.md)] customer price groups.</span></span>| |<span data-ttu-id="d070c-318">ЦЕНОВЫЕ ГРУППЫ КЛИЕНТОВ — ПРАЙС-ЛИСТЫ ПРОДАЖ</span><span class="sxs-lookup"><span data-stu-id="d070c-318">CUSTOMER PRICE GROUPS-SALES PRICE LISTS</span></span>|<span data-ttu-id="d070c-319">30</span><span class="sxs-lookup"><span data-stu-id="d070c-319">30</span></span>|<span data-ttu-id="d070c-320">1440</span><span class="sxs-lookup"><span data-stu-id="d070c-320">1440</span></span><br> <span data-ttu-id="d070c-321">(24 ч.)</span><span class="sxs-lookup"><span data-stu-id="d070c-321">(24 hrs)</span></span>|
|<span data-ttu-id="d070c-322">Задание синхронизации "SALESPRC-PRODUCTPRICE — Dynamics 365 Sales"</span><span class="sxs-lookup"><span data-stu-id="d070c-322">SALESPRC-PRODUCTPRICE - Dynamics 365 Sales synchronization job</span></span>|<span data-ttu-id="d070c-323">Синхронизирует цены продуктов [!INCLUDE[crm_md](includes/crm_md.md)] с ценами продажи [!INCLUDE[prod_short](includes/prod_short.md)].</span><span class="sxs-lookup"><span data-stu-id="d070c-323">Synchronizes [!INCLUDE[crm_md](includes/crm_md.md)] product prices with [!INCLUDE[prod_short](includes/prod_short.md)] sales prices.</span></span>||<span data-ttu-id="d070c-324">ЦЕНА ПРОДУКТА — ЦЕНА ПРОДАЖ</span><span class="sxs-lookup"><span data-stu-id="d070c-324">PRODUCT PRICE-SALES PRICE</span></span>|<span data-ttu-id="d070c-325">30</span><span class="sxs-lookup"><span data-stu-id="d070c-325">30</span></span>|<span data-ttu-id="d070c-326">1440</span><span class="sxs-lookup"><span data-stu-id="d070c-326">1440</span></span><br> <span data-ttu-id="d070c-327">(24 ч.)</span><span class="sxs-lookup"><span data-stu-id="d070c-327">(24 hrs)</span></span>|
|<span data-ttu-id="d070c-328">Задание синхронизации "POSTEDSALESINV-INV — Dynamics 365 Sales"</span><span class="sxs-lookup"><span data-stu-id="d070c-328">POSTEDSALESINV-INV - Dynamics 365 Sales synchronization job</span></span>|<span data-ttu-id="d070c-329">Синхронизирует счета [!INCLUDE[crm_md](includes/crm_md.md)] с учтенными счетами продаж [!INCLUDE[prod_short](includes/prod_short.md)].</span><span class="sxs-lookup"><span data-stu-id="d070c-329">Synchronizes [!INCLUDE[crm_md](includes/crm_md.md)] invoices with [!INCLUDE[prod_short](includes/prod_short.md)] posted sales invoices.</span></span>|<span data-ttu-id="d070c-330">Из [!INCLUDE[prod_short](includes/prod_short.md)] в [!INCLUDE[crm_md](includes/crm_md.md)]</span><span class="sxs-lookup"><span data-stu-id="d070c-330">From [!INCLUDE[prod_short](includes/prod_short.md)] to [!INCLUDE[crm_md](includes/crm_md.md)]</span></span>|<span data-ttu-id="d070c-331">СЧЕТА — УЧТЕННЫЕ СЧЕТА ПРОДАЖ</span><span class="sxs-lookup"><span data-stu-id="d070c-331">INVOICES-POSTED SALES INVOICES</span></span>|<span data-ttu-id="d070c-332">30</span><span class="sxs-lookup"><span data-stu-id="d070c-332">30</span></span>|<span data-ttu-id="d070c-333">1440</span><span class="sxs-lookup"><span data-stu-id="d070c-333">1440</span></span><br> <span data-ttu-id="d070c-334">(24 ч.)</span><span class="sxs-lookup"><span data-stu-id="d070c-334">(24 hrs)</span></span>|
|<span data-ttu-id="d070c-335">Синхронизация "Статистика по клиенту — Dynamics 365 Sales"</span><span class="sxs-lookup"><span data-stu-id="d070c-335">Customer Statistics - Dynamics 365 Sales synchronization</span></span>|<span data-ttu-id="d070c-336">Обновление организаций [!INCLUDE[crm_md](includes/crm_md.md)] с новейшими данными клиентов [!INCLUDE[prod_short](includes/prod_short.md)].</span><span class="sxs-lookup"><span data-stu-id="d070c-336">Updates [!INCLUDE[crm_md](includes/crm_md.md)] accounts with the latest [!INCLUDE[prod_short](includes/prod_short.md)] customer data.</span></span> <span data-ttu-id="d070c-337">В [!INCLUDE[crm_md](includes/crm_md.md)] данная информация отображается в форме быстрого просмотра **Статистика организации Business Central** организаций, которые связаны с клиентами [!INCLUDE[prod_short](includes/prod_short.md)].</span><span class="sxs-lookup"><span data-stu-id="d070c-337">In [!INCLUDE[crm_md](includes/crm_md.md)], this information appears in **Business Central Account Statistics** quick view form of accounts that are coupled to [!INCLUDE[prod_short](includes/prod_short.md)] customers.</span></span><br /><br /> <span data-ttu-id="d070c-338">Эти данные можно также обновлять вручную из каждой записи клиента.</span><span class="sxs-lookup"><span data-stu-id="d070c-338">This data can also be updated manually from each customer record.</span></span> <span data-ttu-id="d070c-339">Дополнительные сведения см. в разделе [Связывание и синхронизация записей вручную](admin-how-to-couple-and-synchronize-records-manually.md).</span><span class="sxs-lookup"><span data-stu-id="d070c-339">For more information, see [Couple and Synchronize Records Manually](admin-how-to-couple-and-synchronize-records-manually.md).</span></span> </BR></BR><span data-ttu-id="d070c-340">**Примечание.** Эта запись очереди заданий используется только в случае установки решения интеграции [!INCLUDE[prod_short](includes/prod_short.md)] в [!INCLUDE[crm_md](includes/crm_md.md)].</span><span class="sxs-lookup"><span data-stu-id="d070c-340">**Note:**  This job queue entry is relevant only if the [!INCLUDE[prod_short](includes/prod_short.md)] integration solution is installed in [!INCLUDE[crm_md](includes/crm_md.md)].</span></span> |<span data-ttu-id="d070c-341">Неприменимо</span><span class="sxs-lookup"><span data-stu-id="d070c-341">Not applicable</span></span>|<span data-ttu-id="d070c-342">Неприменимо</span><span class="sxs-lookup"><span data-stu-id="d070c-342">Not applicable</span></span>|<span data-ttu-id="d070c-343">30</span><span class="sxs-lookup"><span data-stu-id="d070c-343">30</span></span>|<span data-ttu-id="d070c-344">Неприменимо</span><span class="sxs-lookup"><span data-stu-id="d070c-344">Not applicable</span></span>| 

## <a name="connecting-business-central-on-premises-versions-earlier-than-version-16"></a><span data-ttu-id="d070c-345">Подключение локальных версий Business Central до версии 16</span><span class="sxs-lookup"><span data-stu-id="d070c-345">Connecting Business Central On-Premises Versions Earlier Than Version 16</span></span>
<span data-ttu-id="d070c-346">Рабочая группа Microsoft Power Platform [объявила](/power-platform/important-changes-coming#deprecation-of-office365-authentication-type-and-organizationserviceproxy-class-for-connecting-to-dataverse), что она объявляет устаревшим тип проверки подлинности Office365.</span><span class="sxs-lookup"><span data-stu-id="d070c-346">The Microsoft Power Platform team has [announced](/power-platform/important-changes-coming#deprecation-of-office365-authentication-type-and-organizationserviceproxy-class-for-connecting-to-dataverse) that it is deprecating the Office365 authentication type.</span></span> <span data-ttu-id="d070c-347">Если вы используете локальную версию [!INCLUDE[prod_short](includes/prod_short.md)] On-Premises более раннюю, чем версия 16, необходимо использовать тип проверки подлинности OAuth для подключения к [!INCLUDE[crm_md](includes/crm_md.md)] Online.</span><span class="sxs-lookup"><span data-stu-id="d070c-347">If you are using [!INCLUDE[prod_short](includes/prod_short.md)] on-premises that is earlier than version 16, you must use the OAuth authentication type to connect to [!INCLUDE[crm_md](includes/crm_md.md)] online.</span></span> <span data-ttu-id="d070c-348">Шаги в этом разделе описывают, как установить соединение.</span><span class="sxs-lookup"><span data-stu-id="d070c-348">The steps in this section describe how to make the connection.</span></span>

### <a name="prerequisites"></a><span data-ttu-id="d070c-349">Предварительные требования</span><span class="sxs-lookup"><span data-stu-id="d070c-349">Prerequisites</span></span>

- <span data-ttu-id="d070c-350">Вы должны иметь подписку Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="d070c-350">You must have a Microsoft Azure subscription.</span></span> <span data-ttu-id="d070c-351">Пробная учетная запись будет работать для регистрации приложения.</span><span class="sxs-lookup"><span data-stu-id="d070c-351">A trial account will work for application registration.</span></span>
- [!INCLUDE[crm_md](includes/crm_md.md)] <span data-ttu-id="d070c-352">настроен на использование одного из следующих типов аутентификации:</span><span class="sxs-lookup"><span data-stu-id="d070c-352">is configured to use one of the following authentication types:</span></span>

   - <span data-ttu-id="d070c-353">Office365 (устаревшая версия)</span><span class="sxs-lookup"><span data-stu-id="d070c-353">Office365 (legacy)</span></span>

     > [!IMPORTANT]
     > <span data-ttu-id="d070c-354">С апреля 2022 года поддержка Office365 (устаревшая версия) будет прекращена.</span><span class="sxs-lookup"><span data-stu-id="d070c-354">Effective April 2022, Office365 (legacy) will no longer be supported.</span></span> <span data-ttu-id="d070c-355">Дополнительные сведения см. в разделе [Запланированные важные изменения (устаревания) в Power Apps, Power Automate и приложениях для взаимодействия с клиентами](/power-platform/important-changes-coming#deprecation-of-office365-authentication-type-and-organizationserviceproxy-class-for-connecting-to-dataverse).</span><span class="sxs-lookup"><span data-stu-id="d070c-355">For more information, see [Important changes (deprecations) coming in Power Apps, Power Automate and customer engagement apps](/power-platform/important-changes-coming#deprecation-of-office365-authentication-type-and-organizationserviceproxy-class-for-connecting-to-dataverse).</span></span>

   - <span data-ttu-id="d070c-356">OAuth</span><span class="sxs-lookup"><span data-stu-id="d070c-356">OAuth</span></span>

### <a name="to-connect-a-version-of-business-central-earlier-than-version-16"></a><span data-ttu-id="d070c-357">Подключение версии Business Central до версии 16</span><span class="sxs-lookup"><span data-stu-id="d070c-357">To connect a version of Business Central earlier than version 16</span></span>

1. <span data-ttu-id="d070c-358">Импортируйте решение интеграции Microsoft Dynamics 365 Business Central в вашу среду [!INCLUDE[crm_md](includes/crm_md.md)].</span><span class="sxs-lookup"><span data-stu-id="d070c-358">Import the Microsoft Dynamics 365 Business Central Integration Solution into your [!INCLUDE[crm_md](includes/crm_md.md)] environment.</span></span> <span data-ttu-id="d070c-359">Решение интеграции доступно в папке CrmCustomization на установочном DVD-диске Business Central.</span><span class="sxs-lookup"><span data-stu-id="d070c-359">The integration solution is available in the CrmCustomization folder on your Business Central installation DVD.</span></span> <span data-ttu-id="d070c-360">Существует несколько версий решения, например DynamicsNAVIntegrationSolution_v8, DynamicsNAVIntegrationSolution_v9 или DynamicsNAVIntegrationSolution_v91.</span><span class="sxs-lookup"><span data-stu-id="d070c-360">There are multiple versions of the solution, such as DynamicsNAVIntegrationSolution_v8 or DynamicsNAVIntegrationSolution_v9 or DynamicsNAVIntegrationSolution_v91.</span></span> <span data-ttu-id="d070c-361">Решение, которое вы должны импортировать, зависит от версии [!INCLUDE[crm_md](includes/crm_md.md)], к которой вы подключаетесь.</span><span class="sxs-lookup"><span data-stu-id="d070c-361">The solution you should import depends on the version of [!INCLUDE[crm_md](includes/crm_md.md)] you're connecting to.</span></span> [!INCLUDE[crm_md](includes/crm_md.md)] <span data-ttu-id="d070c-362">Online требует решения интеграции DynamicsNAVIntegrationSolution_v91.</span><span class="sxs-lookup"><span data-stu-id="d070c-362">online requires the DynamicsNAVIntegrationSolution_v91 integration solution.</span></span>
2. <span data-ttu-id="d070c-363">Создайте неинтерактивного пользователя интеграции в своей среде [!INCLUDE[crm_md](includes/crm_md.md)] и назначьте этому пользователю следующие роли безопасности.</span><span class="sxs-lookup"><span data-stu-id="d070c-363">Create a non-interactive integration user in your [!INCLUDE[crm_md](includes/crm_md.md)] environment, and assign the user the following security roles.</span></span> <span data-ttu-id="d070c-364">Дополнительные сведения см. в разделе [Создание неинтерактивной учетной записи пользователя](/power-platform/admin/create-users-assign-online-security-roles#create-a-non-interactive-user-account).</span><span class="sxs-lookup"><span data-stu-id="d070c-364">For more information, see [Create a non-interactive user account](/power-platform/admin/create-users-assign-online-security-roles#create-a-non-interactive-user-account).</span></span>

   * <span data-ttu-id="d070c-365">Администратор интеграции Dynamics 365 Business Central</span><span class="sxs-lookup"><span data-stu-id="d070c-365">Dynamics 365 Business Central Integration Administrator</span></span>
   * <span data-ttu-id="d070c-366">Пользователь интеграции Dynamics 365 Business Central</span><span class="sxs-lookup"><span data-stu-id="d070c-366">Dynamics 365 Business Central Integration User</span></span>

   > [!Important]
   > <span data-ttu-id="d070c-367">У этого пользователя не должно быть роли безопасности системного администратора.</span><span class="sxs-lookup"><span data-stu-id="d070c-367">This user must not have the System Administrator security role.</span></span> <span data-ttu-id="d070c-368">Кроме того, вы не можете использовать учетную запись системного администратора в качестве пользователя интеграции.</span><span class="sxs-lookup"><span data-stu-id="d070c-368">Also, you cannot use the system administrator account as the integration user.</span></span>

3.  <span data-ttu-id="d070c-369">На портале Azure создайте регистрацию приложения для [!INCLUDE[prod_short](includes/prod_short.md)].</span><span class="sxs-lookup"><span data-stu-id="d070c-369">In Azure portal, create an app registration for [!INCLUDE[prod_short](includes/prod_short.md)].</span></span> <span data-ttu-id="d070c-370">Для шагов см. раздел [Регистрация приложения в Azure Active Directory](/dynamics365/business-central/dev-itpro/administration/register-app-azure#register-an-application-in-azure-active-directory).</span><span class="sxs-lookup"><span data-stu-id="d070c-370">For the steps, see [Register an application in Azure Active Directory](/dynamics365/business-central/dev-itpro/administration/register-app-azure#register-an-application-in-azure-active-directory).</span></span> <span data-ttu-id="d070c-371">Настройки, относящиеся к подключению к [!INCLUDE[crm_md](includes/crm_md.md)], являются делегированными разрешениями.</span><span class="sxs-lookup"><span data-stu-id="d070c-371">The settings that are specific to connecting to [!INCLUDE[crm_md](includes/crm_md.md)] are the delegated permissions.</span></span> <span data-ttu-id="d070c-372">В следующей таблице перечислены и описаны разрешения.</span><span class="sxs-lookup"><span data-stu-id="d070c-372">The following table lists and describes the permissions.</span></span>

   |<span data-ttu-id="d070c-373">API / Имя разрешения</span><span class="sxs-lookup"><span data-stu-id="d070c-373">API / Permission Name</span></span> |<span data-ttu-id="d070c-374">Тип</span><span class="sxs-lookup"><span data-stu-id="d070c-374">Type</span></span>  |<span data-ttu-id="d070c-375">Описание</span><span class="sxs-lookup"><span data-stu-id="d070c-375">Description</span></span>  |
   |---------|---------|---------|
   |<span data-ttu-id="d070c-376">Financials.ReadWrite.All</span><span class="sxs-lookup"><span data-stu-id="d070c-376">Financials.ReadWrite.All</span></span>     |<span data-ttu-id="d070c-377">Делегировано</span><span class="sxs-lookup"><span data-stu-id="d070c-377">Delegated</span></span>|<span data-ttu-id="d070c-378">Требуется для [!INCLUDE[prod_short](includes/prod_short.md)].</span><span class="sxs-lookup"><span data-stu-id="d070c-378">Required for [!INCLUDE[prod_short](includes/prod_short.md)].</span></span>    |
   |<span data-ttu-id="d070c-379">user_impersonation</span><span class="sxs-lookup"><span data-stu-id="d070c-379">user_impersonation</span></span>     |<span data-ttu-id="d070c-380">Делегировано</span><span class="sxs-lookup"><span data-stu-id="d070c-380">Delegated</span></span>|<span data-ttu-id="d070c-381">Требуется для [!INCLUDE[crm_md](includes/crm_md.md)].</span><span class="sxs-lookup"><span data-stu-id="d070c-381">Required for [!INCLUDE[crm_md](includes/crm_md.md)].</span></span>|
   
4. <span data-ttu-id="d070c-382">В [!INCLUDE[prod_short](includes/prod_short.md)] найдите пункт **Настройка подключения Microsoft Dynamics 365**, затем выберите связанную ссылку.</span><span class="sxs-lookup"><span data-stu-id="d070c-382">In [!INCLUDE[prod_short](includes/prod_short.md)], search for **Microsoft Dynamics 365 Connection Setup**, and then choose the related link.</span></span> 
5. <span data-ttu-id="d070c-383">На странице **Настройка подключения Microsoft Dynamics 365** в поле **Тип аутентификации** выберите вариант для OAuth.</span><span class="sxs-lookup"><span data-stu-id="d070c-383">On the **Microsoft Dynamics 365 Connection Setup** page, in the **Authentication Type** field, choose the option for OAuth.</span></span> 
6. <span data-ttu-id="d070c-384">Выберите версию CRM SDK, соответствующую версии решения, импортированного на шаге 1.</span><span class="sxs-lookup"><span data-stu-id="d070c-384">Choose the CRM SDK version that matches solution version you imported in step 1.</span></span>
7. <span data-ttu-id="d070c-385">В поле **Адрес сервера** введите URL-адрес вашей среды [!INCLUDE[crm_md](includes/crm_md.md)], затем введите имя пользователя и пароль для пользователя интеграции.</span><span class="sxs-lookup"><span data-stu-id="d070c-385">In the **Server Address** field, enter the URL of your [!INCLUDE[crm_md](includes/crm_md.md)] environment, and then enter the user name and password for the integration user.</span></span>
8. <span data-ttu-id="d070c-386">В поле **Строка подключения** укажите идентификатор регистрации приложения.</span><span class="sxs-lookup"><span data-stu-id="d070c-386">In the **Connection String** field, specify the ID of the app registration.</span></span> <span data-ttu-id="d070c-387">В этом поле есть два токена, в которых должен быть указан идентификатор вашего приложения.</span><span class="sxs-lookup"><span data-stu-id="d070c-387">This field has two tokens in which the ID of your application should be specified.</span></span>

   |<span data-ttu-id="d070c-388">Маркер</span><span class="sxs-lookup"><span data-stu-id="d070c-388">Token</span></span>           |<span data-ttu-id="d070c-389">Описание</span><span class="sxs-lookup"><span data-stu-id="d070c-389">Description</span></span>  |
   |----------------|-------------|
   |<span data-ttu-id="d070c-390">**AppId**</span><span class="sxs-lookup"><span data-stu-id="d070c-390">**AppId**</span></span>       |<span data-ttu-id="d070c-391">Установите идентификатор приложения.</span><span class="sxs-lookup"><span data-stu-id="d070c-391">Set to the application ID.</span></span>      |
   |<span data-ttu-id="d070c-392">**RedirectUri**</span><span class="sxs-lookup"><span data-stu-id="d070c-392">**RedirectUri**</span></span> |<span data-ttu-id="d070c-393">Установите идентификатор приложения, но добавьте префикс **app://**.</span><span class="sxs-lookup"><span data-stu-id="d070c-393">Set to the application ID, but add the **app://** prefix.</span></span>         |

    <span data-ttu-id="d070c-394">**Пример** В следующем примере показана строка подключения.</span><span class="sxs-lookup"><span data-stu-id="d070c-394">**Example** The following example shows a connection string.</span></span>

    ```
    AuthType=OAuth;Username=jsmith@contoso.onmicrosoft.com;Password=****;Url=https://contosotest.crm.dynamics.com;AppId=<your AppId>;RedirectUri=app://<your AppId>;TokenCacheStorePath=;LoginPrompt=Auto
    ```
9. <span data-ttu-id="d070c-395">Включите подключение.</span><span class="sxs-lookup"><span data-stu-id="d070c-395">Enable the connection.</span></span>

> [!Note]
> <span data-ttu-id="d070c-396">Если вы хотите настроить подключение к экземпляру [!INCLUDE[crm_md](includes/crm_md.md)] с определенным типом проверки подлинности, заполните поля на экспресс-вкладке **Сведения о типе проверки подлинности**.</span><span class="sxs-lookup"><span data-stu-id="d070c-396">If you want to configure a connection to a [!INCLUDE[crm_md](includes/crm_md.md)] instance with a specific authentication type, fill in the fields on the **Authentication Type Details** FastTab.</span></span> <span data-ttu-id="d070c-397">Для получения дополнительной информации см. раздел [Аутентификация с веб-службами Microsoft Dataverse](/powerapps/developer/data-platform/authentication).</span><span class="sxs-lookup"><span data-stu-id="d070c-397">For more information, see [Authentication with Microsoft Dataverse web services](/powerapps/developer/data-platform/authentication).</span></span> <span data-ttu-id="d070c-398">Этот шаг не требуется при подключении к сетевой версии [!INCLUDE[prod_short](includes/prod_short.md)].</span><span class="sxs-lookup"><span data-stu-id="d070c-398">This step is not required when connecting an online version of [!INCLUDE[prod_short](includes/prod_short.md)].</span></span>

## <a name="see-also"></a><span data-ttu-id="d070c-399">См. также</span><span class="sxs-lookup"><span data-stu-id="d070c-399">See Also</span></span>

<span data-ttu-id="d070c-400">[Настройка учетных записей пользователя для интеграции с [!INCLUDE[crm_md](includes/crm_md.md)]](admin-setting-up-integration-with-dynamics-sales.md)</span><span class="sxs-lookup"><span data-stu-id="d070c-400">[Setting Up User Accounts for Integrating with [!INCLUDE[crm_md](includes/crm_md.md)]](admin-setting-up-integration-with-dynamics-sales.md)</span></span>  
<span data-ttu-id="d070c-401">[Настройка подключения к [!INCLUDE[crm_md](includes/crm_md.md)]](admin-how-to-set-up-a-dynamics-crm-connection.md)</span><span class="sxs-lookup"><span data-stu-id="d070c-401">[Set Up a Connection to [!INCLUDE[crm_md](includes/crm_md.md)]](admin-how-to-set-up-a-dynamics-crm-connection.md)</span></span>  
<span data-ttu-id="d070c-402">[Синхронизация Business Central и [!INCLUDE[crm_md](includes/crm_md.md)]](admin-synchronizing-business-central-and-sales.md)</span><span class="sxs-lookup"><span data-stu-id="d070c-402">[Synchronizing Business Central and [!INCLUDE[crm_md](includes/crm_md.md)]](admin-synchronizing-business-central-and-sales.md)</span></span>  
[<span data-ttu-id="d070c-403">Подготовка Dynamics 365 Sales к локальной интеграции</span><span class="sxs-lookup"><span data-stu-id="d070c-403">Preparing Dynamics 365 Sales for Integration on-premises</span></span>](/dynamics365/business-central/dev-itpro/administration/prepare-dynamics-365-for-sales-for-integration)


[!INCLUDE[footer-include](includes/footer-banner.md)]
