---
title: Отображение пользовательских отчетов Power BI
description: Можно использовать информационную панель Power BI для отображения отчетов Power BI и получить дополнительную аналитическую информацию о данных записей в ключевых списках.
author: jswymer
ms.topic: conceptual
ms.devlang: al
ms.search.keywords: 'business intelligence, KPI, Odata, Power App, SOAP, analysis'
ms.date: 12/13/2023
ms.author: jswymer
ms.service: dynamics-365-business-central
---
# Создание отчетов Power BI для отображения данных списков в [!INCLUDE[prod_short](includes/prod_short.md)]

[!INCLUDE[prod_long](includes/prod_long.md)] включает элемент управления информационной панели Power BI на многих ключевых страницах списка. Цель этой информационной панели — отображать отчеты Power BI, которые связаны с записями в списках, обеспечивая дополнительное понимание данных. Идея заключается в том, что при перемещении между строками в списке отчет обновляется в соответствии с выбранной операцией.

[!INCLUDE[prod_long](includes/prod_long.md)] поставляется с некоторыми из этих отчетов. Вы также можете создавать свои собственные пользовательские отчеты, которые будут отображаться на этой информационной панели. Создание этих отчетов аналогично созданию других отчетов. Но есть несколько правил разработки, которым вы должны следовать, чтобы отчеты отображались должным образом. Эти правила объясняются в этой статье.

> [!NOTE]
> Для получения общей информации о создании и публикации отчетов Power BI для Business Central см. раздел [Создание отчетов Power BI для отображения данных [!INCLUDE [prod_long](includes/prod_long.md)]](across-how-use-financials-data-source-powerbi.md). 

## Предварительные требования

- Учетная запись Power BI.
- Power BI Desktop.

<!-- 
For more information about getting started, see [Use [!INCLUDE[prod_short](includes/prod_short.md)] as a Power BI Data Source](across-how-use-financials-data-source-powerbi.md).-->

## Создание отчета для страницы со списком

1. Запустите Power BI Desktop.
2. Выберите **Получить данные** и начните выбирать источник данных для отчета.

    Укажите страницы списка Business Central, которые содержат данные, которые вы хотите включить в отчет. Например, чтобы создать отчет для списка **Счета продажи**, включите страницы, относящиеся к продажам.

    Для получения дополнительной информации следуйте инструкциям раздела [Добавление [!INCLUDE[prod_short](includes/prod_short.md)] как источника данных в Power BI Desktop](across-how-use-financials-data-source-powerbi.md#getdata).

3. Задайте фильтр отчета.

    Чтобы обновить данные для выбранной записи в списке, вы добавляете фильтр в отчет. Фильтр должен включать поле источника данных, которое используется для уникальной идентификации каждой записи в списке. С точки зрения разработчика это поле является *первичным ключом*. В большинстве случаев первичным ключом для списка является **Номер**. .

    Чтобы установить фильтр, выполните следующие действия:

    1. В области **Фильтры** выберите поле первичного ключа из списка доступных полей.
    2. Перетащите это поле в область **Фильтры** и поместите в поле **Фильтры на всех страницах**.
    3. Установите в параметре **Тип фильтра** значение **Простая фильтрация**. Это не может быть страничный, визуальный или расширенный фильтр.

    ![Настройка фильтра отчета для отчета "Активность счетов продаж".](./media/across-how-use-powerbi-reports-factbox/financials-powerbi-report-filter-v3.png)
4. Разработайте макет отчета.

    Создайте макет, перетаскивая поля и добавляя визуализации. Дополнительные сведения см. в разделе [Работа с представлением отчета в Power BI Desktop](/power-bi/create-reports/desktop-report-view) в документации по Power BI.

5. См. следующие разделы об изменении размера отчета и использовании нескольких страниц.

6. Сохраните отчет и назовите его.

    Дайте отчету имя, содержащее имя страницы списка, связанной с отчетом, как это сделано в клиенте. В имени регистр не учитывается. Предположим, отчет предназначен для страницы списка **Счета продажи**. В этом случае добавьте слова **счета продажи** где-нибудь в названии, например **my sales invoices.pbix** или **my_Sales Invoices_list.pbix**.

    Это соглашение об именах не является обязательным. Однако это делает выбор отчетов в [!INCLUDE[prod_short](includes/prod_short.md)] быстрее. Когда страница выбора отчета открывается со страницы списка, она автоматически применяет фильтр на основе имени страницы. Синтаксис фильтра: `@*<caption>*`, как `@*Sales Invoices*`. Эта фильтрация выполняется для ограничения отображаемых отчетов. Пользователи могут удалить фильтр, чтобы получить полный список доступных отчетов в Power BI.

7. Когда вы закончите, опубликуйте отчет как обычно.

    Для получения дополнительной информации см. раздел [Публикация отчета](across-how-use-financials-data-source-powerbi.md#publish-reports).

8. Протестируйте отчет.

    После того как отчет был опубликован в вашей рабочей области, он должен быть доступен на информационной панели Power BI на странице списка в [!INCLUDE[prod_short](includes/prod_short.md)].

    Чтобы протестировать его, выполните следующие шаги.

    1. Откройте [!INCLUDE[prod_short](includes/prod_short.md)] и перейдите на страницу списка.
    2. Если вы не видите информационную панель Power BI, перейдите на панель действий, затем выберите **Действия** > **Показать** > **Показать/скрыть отчеты Power BI**.
    3. На информационной панели Power BI выберите **Выбрать отчеты**, выберите поле **Включить** для отчета, затем выберите **ОК**.

    Если отчет разработан правильно, он отображается.  

## Задание размера и цвета отчета

Отчет должен иметь размер 325 х 310 пикселей. Этот размер обеспечивает правильное масштабирование отчета в доступном пространстве элемента управления информационной панелью Power BI в [!INCLUDE[prod_short](includes/prod_short.md)]. Чтобы определить размер отчета, поместите фокус вне области макета отчета, а затем щелкните значок валика.

![Настройка ширины и высоты отчета для отчета "Активность счетов продаж".](./media/across-how-use-powerbi-reports-factbox/financials-powerbi-report-sizing-v3.png)

Можно изменить ширину и высоту отчета, выбрав значение **Пользовательский** в поле **Тип**.

Если необходимо, чтобы фон отчета смешивался с цветом фона элемента управления информационной панелью Power BI, задайте пользовательский цвет фона отчета как *#FFFFFF* (белый). 

> [!TIP]
> Используйте файл темы [!INCLUDE [prod_short](includes/prod_short.md)] для создания отчетов с тем же цветовым стилем, что и приложения [!INCLUDE [prod_short](includes/prod_short.md)]. Дополнительные сведения см. в разделе [Использование темы отчета [!INCLUDE [prod_short](includes/prod_short.md)]](across-how-use-financials-data-source-powerbi.md#theme).

## Отчеты с несколькими страницами

В Power BI можно создать один отчет с несколькими страницами. Однако для отчетов, которые отображаются со страницами списков, рекомендуется создавать не более одной страницы. На информационной панели Power BI отображается только первая страница отчета.

## Устранение проблем

В этом разделе объясняется, как устранять проблемы, с которыми вы можете столкнуться при попытке просмотреть отчет Power BI для страницы списка в [!INCLUDE[prod_short](includes/prod_short.md)].  

### Вы не видите информационную панель Power BI на странице списка

По умолчанию информационная панель Power BI скрыт от просмотра. Чтобы показать информационную панель на странице, на панели действий выберите **Действия** > **Показать** > **Показать/скрыть отчеты Power BI**.

### Вы не видите отчет на странице выбора отчета

В названии отчета нет названия страницы списка, которая отображается. Очистите фильтр, чтобы получить полный список доступных отчетов Power BI.  

### Отчет загружен, но пуст, не отфильтрован или неправильно отфильтрован

Убедитесь, что фильтр отчета содержит правильный первичный ключ. В большинстве случаев это поле **Номер**, но в таблице **Операция ГК**, например, следует использовать поле **Номер операции**.

### Отчет загружен, но показывает страницу, которую вы не ожидали

Убедитесь, что страница, которую вы хотите отобразить, является первой страницей в вашем отчете.  

### В отчетах отображаются ненужная серая граница, отчет слишком мал или слишком большой

Проверьте, что отчет имеет размер 325 х 310 пикселей. Сохраните отчет, а затем обновите страницу списка.  

## См. также

[Включение бизнес-данных для Power BI](admin-powerbi.md)  
[Использование [!INCLUDE[prod_short](includes/prod_short.md)] как источника данных Power BI](across-how-use-financials-data-source-powerbi.md)  
[Подготовка к ведению бизнеса](ui-get-ready-business.md)  
[Настройка [!INCLUDE[prod_short](includes/prod_short.md)]](setup.md)  
[Финансы](finance.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
