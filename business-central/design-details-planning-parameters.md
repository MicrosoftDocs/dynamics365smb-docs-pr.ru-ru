---
title: Сведения о проектировании — параметры планирования
description: 'В этой статье рассматривается различные параметры планирования, которые вы можете использовать, и их влияние на систему планирования.'
author: brentholtorf
ms.author: bholtorf
ms.reviewer: bholtorf
ms.topic: conceptual
ms.date: 04/26/2023
ms.custom: bap-template
---
# Технические подробности: параметры планирования

В этой статье рассматривается различные параметры планирования, которые можно использовать в [!INCLUDE[prod_short](includes/prod_short.md)].  

То, как система управляет поставкой товаров, определяется различными параметрами на страницах **Карточка товара**, **Единица хранения** и **Настройка модуля "Производство"**. В следующей таблице поясняется, как система планирования использует эти параметры.  

|Назначение|Параметры|
|-------------|---------------|
|Определяет, планируется ли товар|Политика дозаказа = Пусто|
|Определение времени дозаказа|Горизонт планирования<br /><br /> Точка повтора заказа<br /><br /> Страховой запас времени|
|Определение количества для дозаказа|Кол-во страхового запаса<br /><br /> Политика дозаказа:<br /><br /> -   Фикс. кол-во дозаказа и кол-во для дозаказа<br />-   Максимальное количество и максимальный запас<br />-   Заказ<br />-   Партия на партию|
|Оптимизация времени и количества дозаказа|Период перепланирования<br /><br /> Период накопления лота<br /><br /> Буферный период|
|Изменение заказов на поставку|Минимальное количество заказа<br /><br /> Максимальное количество заказа<br /><br /> Заказать несколько|
|Разделение запланированного элемента|Политика производства:<br /><br /> -  Изготовление на склад<br />- Изготовление на заказ|

## Определяет, планируется ли товар  

Чтобы включить товар или единицу хранения в процесс планирования, необходимо назначить им политику дозаказа. В противном случае их необходимо планировать вручную, например, с помощью функции "Планирование заказов".  

## Определение времени дозаказа  

Предложения по дозаказу обычно выпускаются, только когда прогнозируемое доступное количество равное или меньше данного количества. Точка дозаказа определяет количество. В противном случае количество будет равно нулю. Нуль можно скорректировать, введя количество страхового запаса. Если вы определили страховое время подготовки, предложение будет доставлено в течение периода до требуемой даты удовлетворения спроса.  

Поле **Горизонт планирования** используется политиками точки дозаказа (**Фикс. кол-во дозаказа** и **Максимальное количество**). Уровень запасов проверяется после каждого горизонта планирования. Первый горизонт планирования начинается в начальную дату планирования.  

> [!NOTE]  
> При расчете горизонтов планирования система планирования игнорирует рабочие календари, определенные в поле **Код базового календаря** на страницах **Информация об организации** и **Карточка склада**.  

На странице **Настройка модуля "Производство"** следует установить страховое время подготовки по умолчанию равным хотя бы одному дню. Требуемая дата удовлетворения спроса может быть известна, но не требуемое время. Планирование строит график в обратном порядке, чтобы удовлетворить общий спрос. Если не указать страховое время подготовки, товары могут прибыть слишком поздно для удовлетворения спроса.  

Поля **Период перепланирования**, **Период накопления лота** и **Буферный период** также играют роль в определении момента дозаказа. Для получения дополнительных сведений см. [Оптимизация сроков и объемов дозаказа](design-details-planning-parameters.md#optimize-when-and-how-much-to-reorder).  

## Определение количества для дозаказа

Если система планирования обнаруживает необходимость в дозаказе, политика дозаказа определяет, когда следует дозаказать товары и в каком количестве.  

Система планирования не зависит от политики дозаказа и обычно использует следующую логику.  

1. Вычисляется количество предложения по заказу, необходимое для выхода на минимальный уровень запаса товара (обычно уровень страхового запаса). Если ничего не указано, минимальный уровень запасов равен нулю.  
2. Если прогнозируемые доступные запасы ниже страхового запаса, предлагается заказ на поставку с обратным планированием. Кол--во заказа позволит по меньшей мере наполнить страховой запас. Его можно увеличить совокупным спросом в пределах горизонта планирования, политикой повторного заказа и модификаторами заказов.  
3. Если прогнозируемые запасы ниже точки дозаказа или равны ей (рассчитаны на основе совокупных изменений в горизонте планирования) и выше количества страхового запаса, предлагается исключительный заказ с прямым планированием. И полный спрос, который необходимо удовлетворить, и политика дозаказа будут определять количество заказа. Как минимум количество заказа будет равно точке дозаказа.  
4. Если имеется дополнительный общий спрос, который должен быть удовлетворен до даты окончания предложения по заказу с прямым планированием, и этот спрос уменьшает текущие рассчитанные прогнозируемые доступные запасы до значения ниже количества страхового запаса, количество заказа увеличивается для восполнения дефицита. Затем предложенный заказ на поставку планируется в обратном порядке от даты удовлетворения совокупного спроса, который мог бы нарушить количество страхового запаса.  
5. Если поле **Горизонт планирования** не заполнено, будет добавлен только полный спрос на ту же дату требуемого удовлетворения спроса.  

### Политики дозаказа  

Следующие политики дозаказа влияют на дозаказываемое количество. Подробнее о политиках дозаказа см. в статье [Технические подробности: обработка политик дозаказа](design-details-handling-reordering-policies.md).  

|Политика дозаказа|Описанием|  
|-----------------------|---------------------------------------|  
|**Фикс. кол-во повтора заказа **|Как минимум количество заказа будет равно количеству дозаказа. Вы можете увеличить количество для удовлетворения спроса или выхода на требуемый уровень запасов. Эта политика повторного заказа, как правило, используется с точкой повторного заказа.|  
|**Максимальное кол-во **|Количество заказа вычисляется для выхода на максимальные запасы. Если используются модификаторы количества, максимальный уровень запасов можно нарушить. не рекомендуется использовать горизонт планирования вместе с максимальным количеством. Горизонт планирования, как правило, переопределяется. Эта политика повторного заказа, как правило, используется с точкой повторного заказа.|  
|**Заказ**|Количество заказа рассчитывается так, чтобы удовлетворить все отдельные события спроса, а набор спрос-предложение остается связанным до исполнения. Параметры планирования не учитываются.|  
|**Партия на партию**|Количество рассчитывается для удовлетворения суммарного спроса, который нужно удовлетворить в данном горизонте планирования.|  

## Оптимизация времени и количества дозаказа  

Планировщик может настроить параметры планирования, чтобы ограничить предложения по перепланированию, аккумулировать спрос (динамическое количество дозаказа) или избежать незначительных операций планирования. Следующие поля позволяют оптимизировать время и количество дозаказа.  

|Поле|Описанием|  
|---------------------------------|---------------------------------------|  
|**Период перепланирования**|Это поле определяет, должно ли указание перепланировать существующий заказ или отменять его и создавать новый. Существующий заказ будет перепланирован в том же периоде перепланирования до текущего предложения и до одного периода перепланирования после текущего предложения.<br><br>**Примечание.** Этот параметр работает только с политикой дозаказа **Партия на партию**.|  
|**Период накопления лота**|Если политика дозаказа действует на уровне партий, это поле используется для объединения нескольких потребностей в поставках в один заказ на поставку. Начиная с первой плановой поставки система накапливает все потребности в поставке в следующем периоде накопления лота в одном заказе, который размещается на дату первой поставки. Спрос за пределами периода накопления лота не покрывается этой поставкой.|  
|**Буферный период**|Это поле используется, чтобы избежать незначительного перепланирования существующих поставок. Изменение с даты поставки на один буферный период с даты поставки не приведет к созданию сообщений о действиях.<br /><br /> Буферный период определяет период времени, в течение которого система планирования не должна предлагать перепланировать существующие заказы на поставку на более позднюю дату. Это ограничивает объем незначительного перепланирования имеющейся поставки на более позднюю дату, если перепланированная дата входит в буферный период.<br /><br /> В результате положительная дельта между предложенной новой датой поставки и исходной датой поставки всегда будет больше буферного периода.|  

> [!NOTE]
> Если политика дозаказа — "Партия на партию", значение поля **Период накопления лота** поле должно быть больше или равно значению поля **Буферный период**. В противном случае буферный период уменьшается во время процедуры планирования в соответствии с периодом накопления лота.  

Время периода перепланирования, буферного периода и периода накопления лота отсчитывается от даты поставки. Горизонт планирования основан на начальной дате планирования, как показано на следующей иллюстрации.  

:::image type="content" source="media/supply_planning_5_time_bucket_elements.png" alt-text="Элементы горизонта планирования.":::

В следующих примерах черные стрелки представляют существующую поставку (вверх) и спрос (вниз). Красные, зеленые и оранжевые стрелки обозначают предложения по планированию.  

**Пример 1**. Измененная дата находится за пределами периода перепланирования, что приводит к отмене существующей поставки. Предлагается новая поставка для удовлетворения спроса в период накопления лота.  

:::image type="content" source="media/supply_planning_5_recheduling_period_lot_accumulation_period.png" alt-text="Период перепланирования и период накопления лота":::

**Пример 2**. Измененная дата находится в пределах периода перепланирования, что приводит к перепланированию существующей поставки. Предлагается новая поставка для удовлетворения спроса за пределами периода накопления лота.  

:::image type="content" source="media/supply_planning_5_recheduling_period_lot_accum_period_reschedule.png" alt-text="Период перепланирования, период накопления лота и перепланирование":::

**Пример 3**. В буферном периоде имеется спрос, и количество поставки в периоде накопления лота соответствует количеству поставки. Следующий спрос не удовлетворен, поэтому предложена новая поставка.  

:::image type="content" source="media/supply_planning_5_dampener_period_lot_accumulation_period.png" alt-text="Буферный период и период накопления лота":::

**Пример 4**. В буферном периоде имеется спрос, и дата поставки остается неизменной. Однако текущее количество поставки не покрывает спрос в период накопления лота. Предлагается действие по изменению количества для существующего заказа на поставку.  

:::image type="content" source="media/supply_planning_5_dampener_period_lot_accum_period_change_qty.png" alt-text="Буферный период, период накопления лота и изменение количества":::

**Значения по умолчанию.** По умолчанию поле **Горизонт планирования** и три поля периода дозаказа не заполнены. Для всех полей за исключением поля **Буферный период** это означает значение 0D (ноль дней). Если поле **Буферный период** пустое, будет использоваться глобальное значение в поле **Буферный период по умолчанию** на странице **Производство - настройка**.  

## Изменение заказов на поставку  

Если количество предложения заказа вычислено, один или более модификаторов заказа могут скорректировать это количество. Например, максимальное количество заказа больше или равно минимальному количеству заказа, которое больше или равно множителю заказа.  

Количество уменьшается, если оно превышает максимальное количество заказа. Затем оно увеличивается, если оно ниже минимального количества заказа. Наконец, оно округляется в большую сторону, чтобы соответствовать определенному множителю заказа. В любом остатке используются те же коррекции, пока общий спрос не будет удовлетворен в предложениях заказа.  

## Разделение товаров  

Поле **Политика производства** на странице **Карточка товара** определяет, какие другие заказы будут предлагаться расчетом MRP.  

Если используется вариант **Изготовление на склад**, заказы будут связаны только с данным товаром.  

Если используется вариант **Изготовление на заказ**, система планирования анализирует производственную спецификацию товара и создает связанные предложения по заказам на те товары на нижних уровнях, которые также определены как изготавливаемые на заказ. Это продолжается при наличии товаров на заказ в нисходящих структурах спецификации.

## Использование кодов нижнего уровня для управления производным спросом

Используйте коды нижнего уровня, чтобы распространить производный спрос на компоненты на нижние уровни спецификации. Подробнее о кодах нижнего уровня см. в статье [Приоритет/код нижнего уровня товара](design-details-central-concepts-of-the-planning-system.md#item-priority--low-level-code).

Существует возможность присвоить код нижнего уровня каждой части структуры изделия или структурированной спецификации. Верхний уровень заключительной сборки указывается как уровень 0 — конечный товар. Чем выше номер кода низшего уровня, тем ниже данный товар находится в иерархии. Например, конечные товары имеют код нижнего уровня 0, а части товара, которые используются для сборки конечного товара, имеют коды нижнего уровня 1, 2, 3 и так далее. Результатом является координация планирования частей компонента с потребностями номеров частей более высокого уровня. При составлении плана, спецификация раскрывается в журнале планирования, и полная потребность для уровня 0 спускается по уровням планирования в качестве полной потребности для другого уровня планирования.

На странице **Настройка модуля "Производство"** с помощью переключателя **Динамический код нижнего уровня** укажите, следует ли сразу же назначать и вычислять коды нижнего уровня для каждого компонента в структуре продукта. При наличии больших объемов данных использование этой функции может отрицательно повлиять на скорость работы программы, например при автоматической коррекции себестоимости. Необходимо учесть, что отменить действие этой функции нельзя, поэтому следует быть осторожными при ее использовании.

Как альтернативу для автоматических вычислений, которые производятся динамически, если выбрано это поле, можно выполнить пакетное задание **Вычислить код нижнего уровня** из меню **Производство**, выбрав команду **Проектирование товаров**, **Вычислить код нижнего уровня**.

> [!IMPORTANT]
> Если переключатель **Динамический код нижнего уровня** не включен, вы должны запустить пакетное задание **Вычислить код нижнего уровня**, прежде чем рассчитывать план поставки (пакетное задание **Вычислить план**).  

> [!NOTE]
> Хотя переключатель **Динамический код нижнего уровня** включен, коды нижнего уровня компонентов не изменяются динамически, если родительская спецификация удаляется или становится несертифицированной. Это может затруднить добавление новых товаров в конец структуры продукта, так как может быть превышено максимальное количество кодов нижнего уровня. Таким образом, для крупных структур продуктов, которые достигают ограничения на количество кодов нижнего уровня, можно периодически запускать пакетное задание **Вычислить код нижнего уровня**, чтобы сохранить структуру.  

## См. также  

[Технические подробности: обработка политик дозаказа](design-details-handling-reordering-policies.md)  
[Технические подробности: балансировка спроса и поставок](design-details-balancing-demand-and-supply.md)  
[Сведения о проектировании: основные понятия системы планирования](design-details-central-concepts-of-the-planning-system.md)

[!INCLUDE[footer-include](includes/footer-banner.md)]