---
title: Устранение неполадок и исправление измерений
description: 'Узнайте, как устранять типичные ошибки измерений и как исправлять измерения после их использования в разнесенных транзакциях.'
author: brentholtorf
ms.topic: conceptual
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms.search.keywords: 'dimension, correction, correct, business intelligence'
ms.search.form: '116, 540, 2588'
ms.date: 09/27/2021
ms.author: bholtorf
---

# <a name="troubleshooting-and-correcting-dimensions"></a><a name="troubleshooting-and-correcting-dimensions"></a>Устранение неполадок и исправление измерений

Представления финансовой отчетности и аналитики часто полагаются на данные из измерений. Несмотря на имеющиеся меры предосторожности, иногда случаются ошибки, которые могут привести к неточностям. В этом разделе описываются некоторые из типичных ошибок и объясняется, как исправить назначения аналитик в разнесенных транзакциях, чтобы финансовые отчеты были точными.

## <a name="troubleshooting-dimensions-errors"></a><a name="troubleshooting-dimensions-errors"></a>Устранение ошибок измерений

При учете строк документов или журнала, которые содержат измерения, могут возникать различные ошибки, однако они обычно связаны с ошибочной настройкой или назначением измерений.

> [!NOTE]
> В следующем списке потенциальных сообщений об ошибках, коды *%X* являются заполнителями для переменных данных, которые фактическое сообщение будет содержать в пользовательском интерфейсе в зависимости от контекста. Например, *%1 %2 заблокировано.* может отображаться в пользовательском интерфейсе как "ОБЛАСТЬ кода измерения заблокировано".  

|Проблема|Сообщение об ошибке|Возможное решение|
|-----|-------------|-----------------|
|Заблокированное измерение|%1 %2 заблокировано.|-Найдите неучтенные документы, содержащие набор измерений с заблокированным измерением, и разблокируйте его.<br />-Удалите строку набора измерений для заблокированного измерения.|
|Удаленное измерение|Не удается найти %1 %2.|-Восстановите отсутствующее измерение.<br />-Найдите неучтенные документы, содержащие набор измерений с отсутствующим измерением и добавьте его.<br />-Удалите строку набора измерений для отсутствующего измерения.|
|Заблокированное значение измерения|%1 %2 - %3 заблокировано.|-Найдите неучтенные документы, содержащие набор измерений с заблокированным значением измерения, и разблокируйте его.<br />-Удалите строку набора измерений для заблокированного значения измерения.|
|Удаленное значение измерения|    %1 для %2 отсутствует.|-Восстановите отсутствующее значение измерения.<br />-Найдите неучтенные документы, содержащие набор измерений с отсутствующим значением измерения и добавьте его.<br />-Удалите строку набора измерений для отсутствующего значения измерения.|
|Запрещенное значение измерения|Тип значения измерения для %1 %2 - %3 не должен иметь значение %4.|-Измените поле **Тип значения измерения** на странице **Значения измерения** на **Стандарт** или **Сумма (от)**.<br />-Удалите строку набора измерений для заблокированного значения измерения.|
|Заблокированная комбинация измерений|Измерения %1 и %2 нельзя использовать одновременно.|-Найдите неучтенные документы, содержащие набор измерений с заблокированной комбинацией измерений, и разблокируйте ее.<br />-Измените один из конфликтующих наборов разрешений для комбинации измерений.|
|Заблокированная комбинация значений измерений|Комбинации измерений %1 - %2 и %3 - %4 нельзя использовать одновременно.|-Найдите неучтенные документы, содержащие набор измерений с заблокированной комбинацией значений измерений, и разблокируйте ее.<br />-Измените один из конфликтующих наборов разрешений для комбинации значений измерений.|
|Пустой код значений измерений для измерения по умолчанию, где поле **Учет значения** содержит **Код обязателен**|-Выберите %1 для %2 %3.<br />-Выберите %1 для %2 %3 для %4 %5.|-Измените поле **Учет значения** на странице **Измерение по умолчанию**.<br />-Введите непустое значение измерения для конфликтующего измерения в наборе измерений.|
|Неправильный код значений измерений для измерения по умолчанию, где поле **Учет значения** содержит **Единый код**|-Выберите %1 %2 для %3 %4.<br />-Выберите %1 %2 для %3 %4 для %5 %6|-Измените поле **Учет значения** на странице **Измерение по умолчанию**.<br />-Введите требуемое значение измерения для конфликтующего измерения в наборе измерений.|
|Непустой код значений измерений для пустого измерения по умолчанию, где поле **Учет значения** содержит **Единый код**|-%1 %2 должно быть пусто.<br />-%1 %2 должно быть пусто для %3 %4.|-Измените поле **Учет значения** на странице **Измерение по умолчанию**.<br />-Введите пустой код значений измерения для конфликтующего измерения в наборе измерений.|
|Непредусмотренное значение измерения для измерения по умолчанию, где поле **Учет значения** содержит **Нет кода**|-%1 %2 не должно упоминаться.<br />-%1 %2 не должно упоминаться для %3 %4|-Измените поле **Учет значения** на странице **Измерение по умолчанию**.<br />-Удалите конфликтующую строку из набора измерений.|
|Корректировка измерений не выполняется правильно.||-Выберите **Сброс**, чтобы вернуть корректировку в состояние черновика. Это сбрасывает изменения, и вы можете снова запустить исправление.|

## <a name="changing-dimension-assignments-after-posting"></a><a name="changing-dimension-assignments-after-posting"></a>Изменение назначений измерений после разноски

Если вы обнаружите, что в разнесенных записях главной книги использовалось неверное измерение, вы можете исправить значения измерений и обновить аналитические представления. Это поможет поддерживать точность ваших финансовых отчетов и анализов.

> [!IMPORTANT]
> Функции исправления измерений предназначены только для того, чтобы сделать финансовую отчетность точной. Корректировки измерений применяются только к записям в главной книге. Они не изменяют измерения, назначенные записям в других главных книгах для той же транзакции. Между измерениями, назначенными в главной книге и в субкнигах, будет несоответствие.

### <a name="setting-up-dimension-corrections"></a><a name="setting-up-dimension-corrections"></a>Настройка корректировок измерений

При настройке корректировок размеров необходимо учитывать две вещи:

* Есть ли измерения, которые вы не хотите позволять людям изменять? На странице **Параметры корректировки измерений** укажите измерения, изменение которых вы хотите заблокировать.
* Кому вы хотите разрешить изменять измерения? Чтобы люди могли вносить изменения, назначьте разрешение **D365 КОРРЕКЦИЯ ИЗМЕРЕНИЙ** пользователям. Разрешения позволяют им создавать корректировки измерений, запускать их и, при необходимости, отменять. Они также смогут указать заблокированные измерения. Дополнительные сведения см. в разделе [Назначение разрешений пользователям и группам](ui-define-granular-permissions.md). 

### <a name="correcting-a-dimension"></a><a name="correcting-a-dimension"></a>Корректировка измерения

Вы можете вручную выбрать одну или несколько записей главной книги или использовать фильтры для выбора наборов записей. При необходимости вы также можете добавить или удалить измерения. 

1. Чтобы начать корректировку измерений, используйте одну из следующих страниц:

    * На странице **Регистр ГК**, выбрав регистр, а затем выбрав действие **Корректировать измерения**. Начнется корректировка записей в выбранном регистре.
    * На странице **Операции Главной книги**, выбрав действие **Корректировка измерений**. 

2. В поле **Описание** введите информацию об изменении. Другие люди могут использовать эту информацию позже, чтобы понять, что было сделано.
3. На экспресс-вкладке **Выбранные операции книги** выберите соответствующие записи.

    > [!IMPORTANT]
    > Когда вы меняете выбор, значения на экспресс-вкладке **Изменения корректировок измерений** сбрасываются. Поэтому всегда выбирайте записи, прежде чем указывать изменения значений измерений.

   Параметры рассматриваются в таблице ниже.

   |Параметр  |Описание  |
   |---------|---------|
   |Добавить связанные операции     |Добавьте записи главной книги, которые находятся в том же регистре главной книги.|   
   |Добавить по фильтру     |Используйте критерии фильтрации при добавлении записей в главную книгу.|
   |Ручной выбор     |Выберите определенные записи в главной книге.         |
   |Добавить по измерениям     |Отфильтруйте записи главной книги по измерениям.         |
   |Удалить операции     |Отмена выбора операций ГК.         |
   |Управление критериями выбора     |Следите за процессом выбора и, при необходимости, отмените выбор.         |

4. На экспресс-вкладке **Изменения корректировок измерений** выберите измерение, которое вы хотите изменить, в поде **Код измерения**, и новое значение в поле **Новый код значения измерения**.
5. Чтобы проверить исправление, выберите **Проверить изменения измерений**. Дополнительные сведения см. в разделе [Проверка корректировок измерений](finance-troubleshooting-correcting-dimensions.md#validating-dimension-corrections).
6. Выберите **Выполнить**.

### <a name="validating-dimension-corrections"></a><a name="validating-dimension-corrections"></a>Проверка корректировок измерений

Прежде чем запускать исправление, рекомендуется сначала проверить его. При проверке проверяется наличие ограничений на разноску значений для счетов ГК, ограничений для измерений, а также не заблокированы ли значения измерений. Во время проверки статус исправления устанавливается на **Выполняется проверка**. После подтверждения исправления результат отображается в поле **Статус проверки**. Если были обнаружены ошибки, вы можете использовать действие **Просмотреть ошибки**, чтобы изучить их. После исправления ошибки необходимо использовать действие **Открыть повторно** для запуска исправления или новой проверки.

Вы можете запустить исправление немедленно или запланировать его запуск на более позднее время. Если вы выполняете исправления для большого набора данных, мы рекомендуем запланировать его запуск в нерабочее время. Дополнительные сведения см. в разделе [Корректировки измерений для больших наборов данных](finance-troubleshooting-correcting-dimensions.md#dimension-corrections-on-large-data-sets).

### <a name="undoing-a-correction"></a><a name="undoing-a-correction"></a>Отмена коррекции

Если после коррекции измерения вам не нравится то, что вы видите, вы можете использовать действие **Отменить** для сброса на предыдущее значение. Однако вы можете отменить только самое последнее исправление. Перед тем как отменить исправление, вы можете проверить изменения, которые будут отменены. Например, это полезно, если ограничения измерений изменились после внесения исправления.

Если действие "Отменить" недоступно, например, из-за того, что вы внесли много исправлений, вы можете использовать действие **Копировать в черновик**, чтобы начать новую коррекцию для тех же записей.

### <a name="dimension-corrections-on-large-data-sets"></a><a name="dimension-corrections-on-large-data-sets"></a>Корректировки измерений для больших наборов данных

Будьте осторожны при исправлении больших наборов записей, например, наборов, включающих более 10000 записей. По возможности мы рекомендуем использовать фильтры для корректировки наборов данных меньшего размера. Также рекомендуется вносить исправления в нерабочее время. 

### <a name="use-analysis-views-with-dimension-corrections"></a><a name="use-analysis-views-with-dimension-corrections"></a>Использование аналитических представлений с коррекциями измерений

Если параметр **Обновлять при учете** включен для аналитического представления, [!INCLUDE[prod_short](includes/prod_short.md)] может представление, когда выполняется учет документов и журналов. Вы также можете обновлять представления с включенным этим параметром с результатами корректировок измерений. Для этого включите переключатель **Обновление аналитических представлений**. Обновление аналитических представлений может повлиять на производительность, особенно для больших наборов данных, поэтому мы рекомендуем обновлять аналитические представления только для небольших наборов данных.  

### <a name="viewing-historical-dimension-corrections"></a><a name="viewing-historical-dimension-corrections"></a>Просмотр исторических корректировок измерений

Если операция в главной книге была исправлена, вы можете изучить это изменение с помощью действия **История корректировок измерений**.

### <a name="handling-incomplete-corrections"></a><a name="handling-incomplete-corrections"></a>Обработка незавершенных корректировок

Если корректировка не завершена, на карточке корректировки отобразится предупреждение. Если это произойдет, вы можете использовать действие **Сброс**, чтобы вернуть корректировку к статусу черновика и отменить изменения. Затем вы можете снова запустить корректировку.

> [!NOTE]
> Сброс невыполненной корректировки не повлияет на обновления аналитических представлений, поскольку они происходят в конце процесса корректировки.

### <a name="use-cost-accounting-with-corrected-gl-entries"></a><a name="use-cost-accounting-with-corrected-gl-entries"></a>Использование учета затрат с исправленными записями главной книги

После исправления измерений ваши данные для учета затрат будут рассинхронизированы. В учете затрат используются измерения для агрегирования сумм для центров затрат и объектов затрат, а также для выполнения распределения затрат. Изменение измерений для записей главной книги, вероятно, будет означать, что вы повторно запустите свои модели учета затрат. Нужно ли вам просто удалить несколько регистров затрат и повторно запустить распределения, или вам нужно удалить все и повторно запустить все ваши модели, зависит от данных, которые были обновлены, и от того, как настроены ваши возможности учета затрат. Необходимо вручную определить, где корректировки измерений повлияют на учет затрат, и где необходимы обновления. [!INCLUDE[prod_short](includes/prod_short.md)] в настоящее время не предоставляет автоматизированного способа сделать это.

## <a name="see-related-microsoft-training"></a><a name="see-related-microsoft-training"></a>См. соответствующее [обучение Microsoft](/training/modules/dimensions-dynamics-365-business-central/)

## <a name="see-also"></a><a name="see-also"></a>См. также

[Работа с измерениями](finance-dimensions.md)  
[Анализ данных по измерениям](bi-how-analyze-data-dimension.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
