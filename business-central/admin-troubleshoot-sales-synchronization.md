---
title: Устранение ошибок синхронизации | Документация Майкрософт
description: Предоставляет некоторые рекомендации по выявлению и устранению ошибок синхронизации.
services: project-madeira
documentationcenter: ''
author: bholtorf
ms.service: dynamics365-business-central
ms.topic: conceptual
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms.search.keywords: ''
ms.date: 10/01/2020
ms.author: bholtorf
ms.openlocfilehash: ba7ec915dabd40a1f2287eb3310d1fad23f6090e
ms.sourcegitcommit: ff2b55b7e790447e0c1fcd5c2ec7f7610338ebaa
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/15/2021
ms.locfileid: "5377852"
---
# <a name="troubleshooting-synchronization-errors"></a><span data-ttu-id="24c6f-103">Устранение ошибок синхронизации</span><span class="sxs-lookup"><span data-stu-id="24c6f-103">Troubleshooting Synchronization Errors</span></span>
[!INCLUDE[prod_short](includes/cc_data_platform_banner.md)]

<span data-ttu-id="24c6f-104">Интеграция [!INCLUDE[prod_short](includes/prod_short.md)] с [!INCLUDE[prod_short](includes/cds_long_md.md)] — сложный процесс, и иногда что-то идет не так.</span><span class="sxs-lookup"><span data-stu-id="24c6f-104">There are lots of moving parts involved in integrating [!INCLUDE[prod_short](includes/prod_short.md)] with [!INCLUDE[prod_short](includes/cds_long_md.md)], and sometimes things go wrong.</span></span> <span data-ttu-id="24c6f-105">В этом разделе рассказывается о некоторых типичных ошибках, которые могут возникнуть, и даются советы о том, как их исправить.</span><span class="sxs-lookup"><span data-stu-id="24c6f-105">This topic points out some of the typical errors that occur and gives some pointers for how to fix them.</span></span>

<span data-ttu-id="24c6f-106">Ошибки часто возникают либо из-за того, что пользователь что-то сделал со связанными записями, либо из-за неправильной настройки интеграции.</span><span class="sxs-lookup"><span data-stu-id="24c6f-106">Errors often occur either because of something that a user has done to coupled records, or something is wrong with how the integration is set up.</span></span> <span data-ttu-id="24c6f-107">Ошибки, относящиеся к связанным записям, пользователи могут устранить самостоятельно.</span><span class="sxs-lookup"><span data-stu-id="24c6f-107">For errors related to coupled records, users can resolve those themselves.</span></span> <span data-ttu-id="24c6f-108">Эти ошибки вызваны такими действиями, как удаление данных в одном, но не в обоих бизнес-приложениях, с последующей синхронизацией.</span><span class="sxs-lookup"><span data-stu-id="24c6f-108">These errors are caused by actions such as deleting data in one, but not both, business apps and then synchronizing.</span></span> <span data-ttu-id="24c6f-109">Для получения дополнительной информации см. раздел [Просмотр статуса синхронизации](admin-how-to-view-synchronization-status.md).</span><span class="sxs-lookup"><span data-stu-id="24c6f-109">For more information, see [View the Status of a Synchronization](admin-how-to-view-synchronization-status.md).</span></span>

## <a name="example"></a><span data-ttu-id="24c6f-110">Пример</span><span class="sxs-lookup"><span data-stu-id="24c6f-110">Example</span></span>
<span data-ttu-id="24c6f-111">В этом видео показан пример устранения ошибок, возникших при синхронизации с Sales.</span><span class="sxs-lookup"><span data-stu-id="24c6f-111">This video shows an example of how to troubleshoot errors that happened while synchronizing with Sales.</span></span> <span data-ttu-id="24c6f-112">Процесс будет одинаковым для любой интеграции.</span><span class="sxs-lookup"><span data-stu-id="24c6f-112">The process will be the same for all integrations.</span></span> 

> [!VIDEO https://go.microsoft.com/fwlink/?linkid=2097304]

<span data-ttu-id="24c6f-113">Ошибки, связанные с настройкой интеграции, обычно требуют участия администратора.</span><span class="sxs-lookup"><span data-stu-id="24c6f-113">Errors that are related to how the integration is set up typically require an administrator's attention.</span></span> <span data-ttu-id="24c6f-114">Вы можете просмотреть эти ошибки на странице **Ошибки синхронизации интеграции**.</span><span class="sxs-lookup"><span data-stu-id="24c6f-114">You can view these errors on the **Integration Synchronization Errors** page.</span></span> <span data-ttu-id="24c6f-115">Примеры некоторых типичных проблем:</span><span class="sxs-lookup"><span data-stu-id="24c6f-115">Examples of some typical issues include:</span></span>  
  
* <span data-ttu-id="24c6f-116">Права и роли, назначенные пользователям, неверны.</span><span class="sxs-lookup"><span data-stu-id="24c6f-116">The permissions and roles assigned to users are not correct.</span></span>  
* <span data-ttu-id="24c6f-117">Учетная запись администратора была указана в качестве пользователя интеграции.</span><span class="sxs-lookup"><span data-stu-id="24c6f-117">The administrator account was specified as the integration user.</span></span>  
* <span data-ttu-id="24c6f-118">Пароль пользователя интеграции настроен так, чтобы требовать смены при входе пользователя в систему.</span><span class="sxs-lookup"><span data-stu-id="24c6f-118">The integration user's password is set to require a change when the user signs in.</span></span>  
* <span data-ttu-id="24c6f-119">Курсы обмена валют не указаны ни в одном, ни в другом приложении.</span><span class="sxs-lookup"><span data-stu-id="24c6f-119">The exchange rates for currencies are not specified in one or the other app.</span></span>  
  
<span data-ttu-id="24c6f-120">Вы должны вручную устранить эти ошибки, но эта страница также может оказаться полезной.</span><span class="sxs-lookup"><span data-stu-id="24c6f-120">You must manually resolve the errors, but there are a few ways in which the page helps you.</span></span> <span data-ttu-id="24c6f-121">Например:</span><span class="sxs-lookup"><span data-stu-id="24c6f-121">For example:</span></span>  

* <span data-ttu-id="24c6f-122">Поля **Источник** и **Назначение** могут содержать ссылки на строку, в которой была обнаружена ошибка.</span><span class="sxs-lookup"><span data-stu-id="24c6f-122">The **Source** and **Destination** fields may contain links to the row where the error was found.</span></span> <span data-ttu-id="24c6f-123">Щелкните ссылку, чтобы изучить ошибку.</span><span class="sxs-lookup"><span data-stu-id="24c6f-123">Click the link to investigate the error.</span></span>  
* <span data-ttu-id="24c6f-124">Действия **Удалить записи старше 7 дней** и **Удалить все записи** помогут очистить список.</span><span class="sxs-lookup"><span data-stu-id="24c6f-124">The **Delete Entries Older than 7 Days** and the **Delete All Entries** actions will clean up the list.</span></span> <span data-ttu-id="24c6f-125">Как правило, эти действия используются после устранения причины ошибки, которая влияет на многие записи.</span><span class="sxs-lookup"><span data-stu-id="24c6f-125">Typically, you use these actions after you have resolved the cause of an error that affects many records.</span></span> <span data-ttu-id="24c6f-126">При этом следует соблюдать осторожность.</span><span class="sxs-lookup"><span data-stu-id="24c6f-126">Use caution, however.</span></span> <span data-ttu-id="24c6f-127">Эти действия могут удалить ошибки, которые все еще актуальны.</span><span class="sxs-lookup"><span data-stu-id="24c6f-127">These actions might delete errors that are still relevant.</span></span>

<span data-ttu-id="24c6f-128">Иногда временные метки в записях могут вызывать конфликты.</span><span class="sxs-lookup"><span data-stu-id="24c6f-128">Sometimes the timestamps on records can cause conflicts.</span></span> <span data-ttu-id="24c6f-129">В таблице "Запись интеграции CDS" хранятся временные метки "Время последнего изменения операции синхронизации" и "Время последнего изменения CDS операции синхронизации" для последней интеграции, выполненной в обоих направлениях для строки.</span><span class="sxs-lookup"><span data-stu-id="24c6f-129">The "CDS Integration Record" table keeps the timestamps "Last Synch. Modified On" and "Last Synch. CDS Modified On" for the last integration done in both directions for a row.</span></span> <span data-ttu-id="24c6f-130">Эти временные метки сравниваются с временными метками в записях Business Central и Sales.</span><span class="sxs-lookup"><span data-stu-id="24c6f-130">These timestamps are compared to timestamps on Business Central and Sales records.</span></span> <span data-ttu-id="24c6f-131">В Business Central временная метка находится в таблице записей интеграции.</span><span class="sxs-lookup"><span data-stu-id="24c6f-131">In Business Central, the timestamp is in the Integration Record table.</span></span>

<span data-ttu-id="24c6f-132">Вы можете фильтровать записи, которые должны быть синхронизированы, сравнивая временные метки строк в таблице "Сопоставление таблиц интеграции" с полями "Синхронизировать измененные по фильтру" и "Синхр. внутр. табл.</span><span class="sxs-lookup"><span data-stu-id="24c6f-132">You can filter on records that are to be synched by comparing row timestamps in the table "Integration Table Mapping" fields "Synch. Modified On Filter" and "Synch. Int. Tbl.</span></span> <span data-ttu-id="24c6f-133">изм.</span><span class="sxs-lookup"><span data-stu-id="24c6f-133">Mod.</span></span> <span data-ttu-id="24c6f-134">по флтр."</span><span class="sxs-lookup"><span data-stu-id="24c6f-134">On Fltr.".</span></span>

<span data-ttu-id="24c6f-135">Сообщение об ошибке конфликта "Невозможно обновить запись клиента, так как у нее более поздняя дата обновления, чем у записи организации." или "Невозможно обновить запись организации, так как у нее более поздняя дата обновления, чем у записи клиента" может произойти, если строка имеет метку времени, которая больше, чем IntegrationTableMapping."Синхронизировать измененные по фильтру", но это не более поздняя версия, чем отметка времени в записи интеграции Sales.</span><span class="sxs-lookup"><span data-stu-id="24c6f-135">The conflict error message "Cannot update the Customer record because it has a later modified date than the Account record" or "Cannot update the Account record because it has a later modified date than the Customer record" can happen if a row has a timestamp that is bigger than IntegrationTableMapping."Synch. Modified On Filter" but it is not more recent than the timestamp on Sales Integration Record.</span></span> <span data-ttu-id="24c6f-136">Это означает, что исходная строка была синхронизирована вручную, а не записью очереди заданий.</span><span class="sxs-lookup"><span data-stu-id="24c6f-136">It means that the source row was synced manually, not by the job queue entry.</span></span> 

<span data-ttu-id="24c6f-137">Конфликт возникает потому, что строка назначения также была изменена — отметка времени строки более поздняя, чем отметка времени в записи интеграции Sales.</span><span class="sxs-lookup"><span data-stu-id="24c6f-137">The conflict happens because the destination row was also changed  - the row timestamp is more recent than Sales Integration Record's timestamp.</span></span> <span data-ttu-id="24c6f-138">Проверка назначения происходит только для двунаправленных таблиц.</span><span class="sxs-lookup"><span data-stu-id="24c6f-138">The destination check happens only for bi-directional tables.</span></span> 

<span data-ttu-id="24c6f-139">Эти записи теперь перемещены на страницу "Пропущенные синхронизированные записи", которую можно найти на странице "Настройка подключения Microsoft Dynamics" в Business Central.</span><span class="sxs-lookup"><span data-stu-id="24c6f-139">These records are now moved to the "Skipped Synch. Records" page, which you open from the Microsoft Dynamics Connection Setup page in Business Central.</span></span> <span data-ttu-id="24c6f-140">Там вы можете указать изменения, которые нужно сохранить, а затем снова синхронизировать записи.</span><span class="sxs-lookup"><span data-stu-id="24c6f-140">There you can specify the changes to keep, and then synchronize the records again.</span></span>

## <a name="remove-couplings-between-records"></a><span data-ttu-id="24c6f-141">Удаление связей между записями</span><span class="sxs-lookup"><span data-stu-id="24c6f-141">Remove Couplings Between Records</span></span>
<span data-ttu-id="24c6f-142">Когда что-то пойдет не так с вашей интеграцией и вам нужно разъединить записи, чтобы прекратить их синхронизацию, вы можете сделать это для одной или нескольких записей за раз.</span><span class="sxs-lookup"><span data-stu-id="24c6f-142">When something goes wrong in your integration and you need to uncouple records to stop synchronizing them, you can do so for one or more records at a time.</span></span> <span data-ttu-id="24c6f-143">Вы можете отменить связывание одной или нескольких записей со страниц списка или страницы **Ошибки синхронизации связанных данных**, выбрав одну или несколько строк и выбрав **Удалить связывание**.</span><span class="sxs-lookup"><span data-stu-id="24c6f-143">You can uncouple one or more records from list pages or the **Coupled Data Synchronization Errors** page by choosing one or more lines and choosing **Delete Coupling**.</span></span> <span data-ttu-id="24c6f-144">Вы также можете удалить все связывания для одного или нескольких сопоставлений таблиц на странице **Сопоставления таблиц интеграции**.</span><span class="sxs-lookup"><span data-stu-id="24c6f-144">You can also remove all couplings for one or more table mappings on the **Integration Table Mappings** page.</span></span> 

## <a name="see-also"></a><span data-ttu-id="24c6f-145">См. также</span><span class="sxs-lookup"><span data-stu-id="24c6f-145">See Also</span></span>
[<span data-ttu-id="24c6f-146">Интеграция с Microsoft Dataverse</span><span class="sxs-lookup"><span data-stu-id="24c6f-146">Integrating with Microsoft Dataverse</span></span>](admin-prepare-dynamics-365-for-sales-for-integration.md)  
[<span data-ttu-id="24c6f-147">Настройка учетных записей пользователя для интеграции с Microsoft Dataverse</span><span class="sxs-lookup"><span data-stu-id="24c6f-147">Setting Up User Accounts for Integrating with Microsoft Dataverse</span></span>](admin-setting-up-integration-with-dynamics-sales.md)  
[<span data-ttu-id="24c6f-148">Настройка подключения к Microsoft Dataverse</span><span class="sxs-lookup"><span data-stu-id="24c6f-148">Set Up a Connection to Microsoft Dataverse</span></span>](admin-how-to-set-up-a-dynamics-crm-connection.md)  
[<span data-ttu-id="24c6f-149">Связывание и синхронизация записей вручную</span><span class="sxs-lookup"><span data-stu-id="24c6f-149">Couple and Synchronize Records Manually</span></span>](admin-how-to-couple-and-synchronize-records-manually.md)  
[<span data-ttu-id="24c6f-150">Просмотр статуса синхронизации</span><span class="sxs-lookup"><span data-stu-id="24c6f-150">View the Status of a Synchronization</span></span>](admin-how-to-view-synchronization-status.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]