---
title: Настройка и использование соединителя Shopify
description: Различные сценарии интеграции для демонстрации рабочего процесса между Shopify и Business Central
ms.date: 06/21/2022
ms.topic: article
ms.service: dynamics365-business-central
ms.search.form: '30101, 30102, 30106, 30107, 30113, 30115, 30126'
ms.reviewer: solsen
author: brentholtorf
ms.author: bholtorf
---

# Пошаговое руководство: настройка и использование соединителя Shopify

В этом разделе демонстрируются некоторые типичные сценарии и проводятся шаги по тестированию или обучению пользователей рабочему процессу интегрированного [!INCLUDE[prod_short](../includes/prod_short.md)] и магазина Shopify.

## Предварительные требования 

### Shopify

У вас должны быть:

- учетная запись Shopify
- интернет-магазин Shopify

Дополнительные сведения о создании пробных версий Shopify и рекомендуемых настройках см. в разделе [Создание и настройка учетной записи Shopify](shopify-account.md).

### Business Central

Необходимо иметь учетную запись [!INCLUDE[prod_short](../includes/prod_short.md)]. 

Например, вы можете создать демонстрационную учетную запись или использовать пробную версию. Узнайте больше в разделах [Подготовка демонстрационных сред для Dynamics 365 Business Central](/dynamics365/business-central/dev-itpro/administration/demo-environment) и [Регистрация в пробной версии](../trial-signup.md). 

## Подключение Business Central к магазину Shopify

В [!INCLUDE[prod_short](../includes/prod_short.md)] выполните следующие шаги:

1. Выберите ![Лампочка, которая открывает функцию Что вы хотите сделать.](../media/ui-search/search_small.png "Что вы хотите сделать") введите **Магазины Shopify**, а затем выберите связанную ссылку.
2. Выберите действие **Создать**.
3. В поле **Код** введите `DEMO1`.
4. В поле **URL-адрес Shopify** введите URL-адрес интернет-магазина, к которому вы хотите подключиться.
5. Установите переключатель в положение **Включено**, а затем посмотрите и примите условия использования.

Настройте магазин Shopify, как описано в следующих шагах:

1. Выключите переключатель **Разрешить фоновые синхронизации**.
2. Выберите *В Shopify* в поле **Синхронизировать товар**.
3. Выберите *В Shopify* в поле **Синхронизировать изображения товара**.
4. Включите переключатель **Синхронизировать атрибуты товара**.
5. Включите переключатель **Отслеживание запасов**.
6. Выберите *Отклонить* в поле **Политика запасов по умолчанию** .
7. Включите переключатель **Автоматическое создание неизвестных клиентов**.
8. Заполните поле **Код шаблона клиента** соответствующим шаблоном.
9. Заполните **Счет стоимости доставки**, **Счет чаевых** счетом доходов. Например, в США используйте `40100`.
10. Включите переключатель **Автоматическое создание заказов**.

Настройка сопоставлений складов:

1. Выберите действие **Места**, чтобы открыть **Адреса магазинов Shopify**.
2. Выберите действие **Получить места Shopify** для импорта всех местоположений, определенных в Shopify. Выберите местоположение по умолчанию в Shopify
3. В **Фильтре по складу** введите `''|EAST|MAIN`.
4. Включите переключатель **Местонахождение продукта по умолчанию**.
5. Выберите *Прогнозируемый доступный остаток на сегодня* в поле **Расчет запасов**, чтобы включить синхронизацию запасов для выбранного местоположения Shopify.

## Пошаговое руководство: начало продаж товаров в Интернете

### Сценарий

Допустим, вы хотите попробовать Shopify в качестве интернет-магазина, не тратя много времени на настройку, особенно потому, что вы уже правильно управляете своими товарами в [!INCLUDE[prod_short](../includes/prod_short.md)]. После того как вы запустите свой интернет-магазин Shopify, вы сразу же получите новых клиентов, которые довольны вашим магазином и обслуживанием. Поэтому они решают оставить чаевые на кассе.

### Шаги

В [!INCLUDE[prod_short](../includes/prod_short.md)] выполните следующие шаги:

1. Выберите ![Лампочка, которая открывает функцию Что вы хотите сделать.](../media/ui-search/search_small.png "Что вы хотите сделать") введите **Продукты Shopify** и выберите соответствующую ссылку.
2. Выберите действие **Добавить товары**.
3. В поле **Код магазина** введите *DEMO1*.
4. Установите фильтр `CHAIR` в поле **Код категории товара** (при необходимости добавьте поле фильтра).
5. Выберите **ОК** и дождитесь завершения начальной синхронизации товаров и цен.
6. Выберите действие **Синхронизировать изображения продуктов**.
7. Выберите действие **Синхронизация запасов**.

В поле **Интернет-магазин Shopify**
> [!Tip]  
> Откройте **Администрирование Shopify**, перейдя по URL-адресу, указанному в поле **URL-адрес** страницы **Карточка магазина Shopify**. Затем выберите значок глаза рядом с каналом продаж **Интернет-магазин**, расположенным на боковой панели **Администрирование Shopify**. 

Откройте каталог продуктов. Примечание.

* Названия продуктов, их изображения и цены.
* Индикатор наличия (распродано для товаров, которых нет в наличии).

Выберите любой товар, который можно продать, например `BERLIN Swivel Chair, yellow`. Обратите внимание, что описание содержит атрибуты товара.

Нажмите кнопку **Купить сейчас** и перейдите к оформлению заказа.

1. В поле **Электронная почта или номер мобильного телефона** введите `cl@contoso.com` (или адрес электронной почты, на который вы хотите получать подтверждения заказа и доставки).
2. В полях **Имя** и **Фамилия** введите `Claudia Lawson`.
3. Введите местный адрес.
4. Установите флажок **Сохранить эту информацию для следующего раза**.
5. Нажмите кнопку **Перейти к покупкам**.
6. Оставьте `Standard` в качестве способа доставки, а затем нажмите кнопку **Перейти к оплате**.
7. Выберите чаевые в размере `10%`.
8. В поле **Кредитная карта** введите `1`, если вы используете *(для тестирования) Bogus Gateway*, либо введите `5555 5555 5555 4444`, если вы используете *Shopify Payments* в тестовом режиме.
9. Заполните поле **Имя на карте**.
10. В поле **Годен до** введите текущие месяц/год.
11. В поле **Код безопасности** введите `111`.
12. Нажмите кнопку **Заплатить**.

В [!INCLUDE[prod_short](../includes/prod_short.md)] выполните следующие шаги:

1. Выберите ![Лампочка, которая открывает функцию Что вы хотите сделать.](../media/ui-search/search_small.png "Что вы хотите сделать") и введите **Заказы Shopify**, а затем выберите связанную ссылку.
2. Выберите действие **Синхронизировать заказы из Shopify**.
3. Выберите **ОК**.

Импортированный заказ готов к обработке.

1. Выберите импортированный заказ, чтобы открыть окно **Заказ Shopify**.
2. Будут созданы новый клиент и заказ на продажу.
3. Ознакомьтесь с действиями **Риск** и **Стоимость доставки**.
4. Выберите действие **Заказ на продажу**, чтобы открыть окно **Заказ на продажу**. Заказ на продажу — это потребность, которая при необходимости может быть покрыта сборкой, производством или закупкой с помощью механизма планирования. Он также поддерживает различные процессы складской обработки с полным разделением обязанностей.
5. Выберите действие **Открыть повторно**.
6. В поле **Агент** введите `DHL`.
7. В поле **Номер трасс. посылки** введите `123456789`.
8. Выберите действие **Учет**, выберите параметр **Отгрузить и выставить счет** и выберите кнопку **ОК**.

Теперь физические и финансовые данные регистрируются в [!INCLUDE[prod_short](../includes/prod_short.md)]. Пришло время сообщить Shopify об изменениях.

1. Выберите ![Лампочка, которая открывает функцию Что вы хотите сделать.](../media/ui-search/search_small.png "Что вы хотите сделать") значок, введите **Синхронизировать отгрузки в Shopify**, а затем выберите связанную ссылку.
2. Выберите **ОК**.

В **Администрирование Shopify** обратите внимание, что заказ теперь помечен как *Выполненный*. Вы также можете просмотреть сведения о доставке и увидеть там URL-адрес отслеживания. Если вы снова запустите **Синхронизировать заказы из Shopify**, заказ будет заархивирован в обеих системах.

## Пошаговое руководство: приглашение клиентов в новый интернет-магазин

### Сценарий

После успешного быстрого запуска нового интернет-магазина вам нужно, чтобы ваши текущие клиенты посетили его и начали делать заказы.

### Шаги

В [!INCLUDE[prod_short](../includes/prod_short.md)] выполните следующие шаги:

1. Выберите значок ![Лампочка, которая открывает функцию «Что вы хотите сделать»](../media/ui-search/search_small.png "Что вы хотите сделать"), введите **Магазины Shopify** и выберите соответствующую ссылку.
2. Выберите магазин **DEMO1**, для которого вы хотите синхронизировать клиентов, чтобы открыть страницу **Карточка магазина Shopify**.
3. Выберите действие **Синхронизировать клиентов**.

В **Администрирование Shopify** обратите внимание, что клиенты были импортированы. Откройте одного из клиентов и обратите внимание, что имя и фамилия клиента поступают из поля **Имя контакта** **Карточки клиента**. Название компании можно найти в адресе по умолчанию, связанном с клиентом. Выберите **Отправить приглашение учетной записи**, чтобы пригласить клиента.

## Пошаговое руководство: тонкая настройка управления товарами

### Сценарий 

Вы хотели бы добавить больше гибкости и контроля в свои процессы, связанные с управлением товарами. Вы хотите улучшить описание продукта и хотели бы добавить дополнительные этапы проверки, прежде чем продукты станут доступны для конечного клиента.

### Шаги

В [!INCLUDE[prod_short](../includes/prod_short.md)] выполните следующие шаги:

Подготовка данных.

1. Выберите значок ![Лампочка, которая открывает функцию «Что вы хотите сделать»](../media/ui-search/search_small.png "Что вы хотите сделать"), введите **Ценовая группа клиента**, а затем выберите связанную ссылку.
2. Добавление новой ценовой группы. В поле **Код** введите `SHOPIFY`.
3. Закройте окно **Ценовая группа клиентов**.
4. Выберите значок ![Лампочка, которая открывает функцию «Что вы хотите сделать»](../media/ui-search/search_small.png "Что вы хотите сделать"), введите **Товары**, а затем выберите связанную ссылку.

Выберите товар **1896-S, стол Athens** и выполните указанные ниже действия.

1. Выберите действие **Варианты**, а затем добавьте два варианта, `PREMIUM, Athens Desk, Premium edition` и `ESSENTIAL, Athens Desk, Essential edition`.
2. Выберите действие **Расширенный текст** и создайте новый расширенный текст, действительный для всех языковых кодов. В поле **Описание** введите `Shopify`. 
3. Добавьте следующий текст с HTML-тегами: `<b>Simple stylish design</b> blends with any ensemble. <i>Available in two editions.</i>`. Закройте страницу **Расширенный текст** и вернитесь к карточке товара.
4. Выберите действие **Цены продажи** и добавьте новые цены, как показано в следующей таблице:

  |График|**Тип продажи**|**Код продажи**|Тип|Код|Код варианта<br>(добавление поля через персонализацию)|Цена единицы|
  |------|------------|------------|------------|------------|------------|------------|
  |1|Ценовая группа клиентов|SHOPIFY|Пункт меню|1896-S|ESSENTIAL|700|
  |2|Ценовая группа клиентов|SHOPIFY|Товар|1896-S|PREMIUM|1000|

5. Выберите действие **Торговые скидки** и добавьте новую скидку:

* **Тип продажи** *Скидочная группа клиента*
* **Код продажи** *РОЗНИЦА*
* **Тип** *Товар*
* **Код** *1896-S*
* **Код единицы измерения** *ШТ.*
* **Скидка строки %** *10*

6. Выберите действие **Ссылки на товары** и добавьте следующие строки:

  |График|**Тип ссылки**|**Номер ссылки**|Код варианта|
  |------|------------|------------|------------|
  |1|Штрихкод|77777777|ESSENTIAL|
  |2|Штрихкод|11111111|PREMIUM|


Выберите товар **1920-S, стол для конференций ANTWERP** и выполните указанные ниже действия.

1. Выберите **Настроить запасы** и в поле **Новые запасы** введите `100` для местоположений *ВОСТОК* и *ЗАПАД*. 
2. Выберите **ОК**.

Настройка параметров синхронизации.

1. Выберите значок ![Лампочка, которая открывает функцию «Что вы хотите сделать»](../media/ui-search/search_small.png "Что вы хотите сделать"), введите **Магазины Shopify** и выберите соответствующую ссылку.
2. Выберите магазин *DEMO1*, для которого вы хотите синхронизировать товары, чтобы открыть страницу «Карточка магазина Shopify».
3. Выберите *SHOPIFY* в поле **Ценовая группа клиента**.
4. Выберите *РОЗНИЦА* в поле **Скидочная группа клиента**.
5. Включите поле **Синхронизировать расширенный текст товара**.
6. Выберите *Номер товара + Код варианта* в поле **Сопоставление SKU**.
7. Выберите *Черновик* в поле **Статус созданных продуктов**.
8. Выберите *Статус в архиве* в поле **Действие для удаленного продукта**.

Выполните синхронизацию.

1. Выберите значок ![Лампочка, которая открывает функцию «Что вы хотите сделать»](../media/ui-search/search_small.png "Что вы хотите сделать"), введите **Магазины Shopify** и выберите соответствующую ссылку.
2. Выберите магазин *DEMO1*, для которого вы хотите синхронизировать товары, чтобы открыть страницу **Карточка магазина Shopify**.
3. Выберите действие **Продукты**, чтобы открыть окно **Продукты Shopify**.
4. Выберите действие **Добавить товары**.
5. Установите фильтр *СТОЛ|ПАРТА* в поле **Код категории товара**.
6. Выберите действие **Синхронизировать изображения продуктов**.
7. Выберите действие **Синхронизация запасов**.

Будут добавлены продукты. Обратите внимание, что для статуса установлено *Черновик*, поэтому товары не отображаются в интернет-магазине Shopify.

1. Выберите строку с товаром *1920-S, стол для конференций ANTWERP*. В **Название для SEO** введите `Rectangular meeting table Antwerp, 10 seats, black`.
2. Выберите *Активно* в поле **Статус**.
3. Выберите строку с товаром *1906-S, трибуна ATHENS*, а затем выберите действие **Удалить**.

В **Администрирование Shopify** обратите внимание, что все продукты имеют разные статусы.

* Для *Стол для конференций ANTWERP* статусом является *Активно*, потому что мы изменили статус в окне **Продукт Shopify**.
* Для *Стол ATHENS* статусом является *Черновик*, потому что мы настроили в качестве статуса по умолчанию для всех добавленных продуктов *Черновик*.
* Для *Трибуна ATHENS* статусом является *В архиве*, потому что мы настроили магазин на автоматическое присвоение статуса *В архиве* для удаленных продуктов.

Обратите внимание, что запасами для «Стол для конференций ANTWERP» является значение «100», потому что мы настроили систему для использования запасов только из двух местоположений «ОСНОВНОЕ» и «ВОСТОК». Запасы в других местах (ЗАПАД) игнорируются.

* Откройте *Стол для конференций ANTWERP* и обратите внимание на поля **Пользовательский тип**, **Поставщик**, **Вес**, **Цена за единицу** и раздел **Предварительный просмотр списка поисковых систем**.
* Откройте пункт *Стол Athens*, прокрутите вниз до раздела **Варианты** и обратите внимание, как заполнено поле **SKU**.
* Выберите **Изменить**, чтобы просмотреть штрих-код и цены.
* Измените статус пункта *Стол Athens* на *Активно* и выберите действие **Предварительный просмотр**.

В **Интернет-магазине Shopify** откройте каталог товаров и найдите товар *Стол ATHENS*. Обратите внимание, что доступны различные варианты. Для разных вариантов цены являются разными. Обратите внимание на информацию о скидках.

## Пошаговое руководство: импорт товаров из Shopify

### Сценарий 

У вас уже есть успешный интернет-магазин, и вы хотели бы начать использовать [!INCLUDE[prod_short](../includes/prod_short.md)] в качестве программного обеспечения для управления бизнесом. Вам нужно импортировать как можно больше данных из Shopify. 

### Шаги

Это продолжение [Пошагового руководства: начало продаж товаров в Интернете](walkthrough-setting-up-and-using-shopify.md#walkthrough-start-selling-products-online). Вы также можете попробовать использовать собственные данные, например, свой магазин Shopify или песочницу.

В [!INCLUDE[prod_short](../includes/prod_short.md)] выполните следующие шаги:

#### Подготовка данных

1. Перейдите на бесплатную 30-дневную пробную версию без примеров данных. Дополнительную информацию см. в разделе [Добавление собственных данных в пустую пробную версию](/dynamics365/business-central/dev-itpro/administration/trials-subscriptions#add-your-own-data-to-an-empty-trial-company).
2. Выберите значок ![Лампочка, которая открывает функцию «Что вы хотите сделать»](../media/ui-search/search_small.png "Что вы хотите сделать"), введите **Магазины Shopify**, а затем выберите связанную ссылку.
3. Выберите действие **Создать**.
4. В поле **Код** введите `DEMO2`.
5. В поле **URL-адрес Shopify** введите URL-адрес интернет-магазина, к которому вы хотите подключиться.
6. Установите переключатель в положение **Включено**, а затем посмотрите и примите условия использования.

Настройте магазин Shopify, как описано в следующих шагах:

7. Выключите переключатель **Разрешить фоновые синхронизации**.
8. Выберите *Из Shopify* в поле **Синхронизировать товар**.
9. Включите переключатель **Автоматически создавать неизвестные товары**.
10. Заполните поле **Код шаблона товара** соответствующим шаблоном.
11. Выберите *Из Shopify* в поле **Синхронизировать изображения товара**.
12. Выберите *Все клиенты* в **Импорт клиентов из Shopify**
13. Включите переключатель **Автоматическое создание неизвестных клиентов**.

#### Выполните синхронизацию

1. Выберите значок ![Лампочка, которая открывает функцию «Что вы хотите сделать»](../media/ui-search/search_small.png "Что вы хотите сделать"), введите **Магазины Shopify** и выберите соответствующую ссылку.
2. Выберите магазин *DEMO2*, для которого вы хотите синхронизировать данные, чтобы открыть страницу **Карточка магазина Shopify**.
3. Выберите действие **Синхронизировать продукцию**.
4. Выберите действие **Синхронизировать изображения продуктов**.
5. Выберите действие **Синхронизировать клиентов**.

### Результаты

* Продукты Shopify импортированы. Чтобы проверить, выберите значок ![Лампочка, которая открывает функцию Что вы хотите сделать.](../media/ui-search/search_small.png "Что вы хотите сделать"), введите **Продукты Shopify** и выберите соответствующую ссылку.
* Созданы товары с изображениями. Чтобы проверить, выберите значок ![Лампочка, которая открывает функцию Что вы хотите сделать.](../media/ui-search/search_small.png "Что вы хотите сделать"), введите **Товар**, а затем выберите связанную ссылку.
* Клиенты Shopify импортированы. Чтобы проверить, выберите значок ![Лампочка, которая открывает функцию Что вы хотите сделать.](../media/ui-search/search_small.png "Что вы хотите сделать"), введите **Клиенты Shopify**, а затем выберите связанную ссылку.
* Клиенты созданы. Чтобы проверить, выберите значок ![Лампочка, которая открывает функцию Что вы хотите сделать.](../media/ui-search/search_small.png "Что вы хотите сделать"), введите **Клиенты**, а затем выберите связанную ссылку.


## См. также

[Начало работы с соединителем Shopify](get-started.md)  
