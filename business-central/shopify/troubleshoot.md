---
title: Устранение неполадок Shopify и синхронизация с Business Central
description: Узнайте, что делать, если что-то пошло не так во время синхронизации данных между Shopify и Business Central
ms.date: 08/19/2022
ms.topic: article
ms.service: dynamics365-business-central
ms.search.form: 30118, 30119, 30120,
author: edupont04
ms.author: andreipa
ms.reviewer: solsen
ms.openlocfilehash: 47b0d72283b4d017bb522c3e71f6c61501b59d5b
ms.sourcegitcommit: 38b1272947f64a473de910fe81ad97db5213e6c3
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 08/29/2022
ms.locfileid: "9361946"
---
# <a name="troubleshooting-shopify-and-business-central-synchronization"></a>Устранение неполадок синхронизации Shopify и Business Central

Можно столкнуться с ситуациями, когда вам необходимо устранить неполадки при синхронизации данных между Shopify и [!INCLUDE[prod_short](../includes/prod_short.md)]. На этой странице описаны действия по устранению некоторых распространенных сценариев, которые могут возникнуть.

## <a name="logs"></a>Журналы

Если задача синхронизации не удалась, вы можете активировать ведение журнала, активировав переключатель **Включить журнал** на странице **Карточка магазина Shopify**. Затем вы можете вручную запустить задачу синхронизации и просмотреть журналы.

1. Выберите ![Лампочка, которая открывает функцию Что вы хотите сделать 1.](../media/ui-search/search_small.png "Что вы хотите сделать") значок, введите **Записи в журнале Shopify**, а затем выберите связанную ссылку.
2. Выберите соответствующую запись журнала и откройте страницу **Запись в журнале Shopify**.
3. Просмотрите запрос, код состояния и описание, а также значения ответа.

Потом не забудьте отключить ведение журнала, чтобы избежать негативного влияния на производительность и увеличения размера базы данных.

Со страницы **Записи в журнале Shopify** вы можете инициировать удаление всех записей журнала или тех, которые старше семи дней.

## <a name="data-capture"></a>Сбор данных

Независимо от настроек **Активации ведения журналов**, некоторые ответы Shopify будут всегда записываться в журнал, поэтому вы можете проверить или скачать их с помощью страницы **Список сбора данных**.

Выберите действие **Полученные данные Shopify** на одной из следующих страниц:

- **Заказ Shopify**
- **Выполнение заказов Shopify**
- **Стоимость доставки заказа Shopify**
- **Транзакции по заказам Shopify**
- **Выплаты Shopify**
- **Платежные транзакции Shopify**
- **Транзакции Shopify**

## <a name="reset-sync"></a>Сброс синхронизации

Для оптимальной производительности соединитель импортирует только клиентов, продукты и заказы, созданные или измененные с момента последней синхронизации. На странице **Карточка магазина Shopify** есть функции, изменяющие дату/время последней синхронизации или полностью сбрасывающие ее. Эта функция гарантирует, что при запуске синхронизации будут синхронизированы все данные, а не только изменения с момента последней синхронизации.

Эта функция применяется только к синхронизации из Shopify в [!INCLUDE[prod_short](../includes/prod_short.md)]. Она может быть полезна, если вам нужно восстановить удаленные данные, такие как продукты, клиенты или удаленные заказы.

## <a name="request-the-access-token"></a>Запрос токена доступа

Если [!INCLUDE[prod_short](../includes/prod_short.md)] не подключается к вашей учетной записи Shopify, попробуйте запросить токен доступа из Shopify. Этот запрос может потребоваться при ротации ключей безопасности или изменении необходимых разрешений (областей действия).

1. Выберите значок ![Лампочка, которая открывает функцию Что вы хотите сделать 1.](../media/ui-search/search_small.png "Что вы хотите сделать"), и введите **Магазины Shopify** и выберите связанную ссылку.
2. Выберите магазин, токен доступа которого вы хотите получить, чтобы открыть страницу **Карточка магазина Shopify**.
3. Выберите действие **Запрос доступа**.
4. Если будет предложено, войдите в свою учетную запись Shopify.

Будет активирован переключатель **Имеет AccessKey**.

### <a name="verify-and-enable-permissions-to-make-http-requests-when-running-in-a-non-production-environment"></a>Проверка и включение разрешения для выполнения HTTP-запросов при работе в непроизводственной среде

Для корректной работы расширению соединителя Shopify требуется разрешение на выполнение HTTP-запросов. При тестировании в песочницах HTTP-запросы запрещены для всех расширений.

1. Выберите значок ![Лампочка, которая открывает функцию Что вы хотите сделать 1.](../media/ui-search/search_small.png "Что вы хотите сделать"), введите **управление расширениями**, затем выберите связанную ссылку.
2. Выберите расширение *Соединитель Shopify*.
3. Выберите действие **Настроить**, чтобы открыть страницу **Настройка расширения**.
4. Убедитесь, что переключатель **Разрешить запросы HTTPClient** включен.

## <a name="rotate-the-shopify-access-token"></a>Ротация токена доступа Shopify

Следующие процедуры описывают, как выполнять ротацию маркера доступа, используемого соединителем Shopify для доступа к вашему интернет-магазину Shopify.

### <a name="in-shopify"></a>В Shopify

1. Из своего пункта **Администрирование Shopify** перейдите в пункт [Приложения](https://www.shopify.com/admin/apps).
2. Выберите **Удалить** в строке с приложением **Dynamics 365 Business Central**.
3. Выберите **Удалить** в открывшемся сообщении.

### <a name="in-prod_short"></a>В [!INCLUDE[prod_short](../includes/prod_short.md)]

1. Выберите значок ![Лампочка, которая открывает функцию Что вы хотите сделать 1.](../media/ui-search/search_small.png "Что вы хотите сделать"), и введите **Магазины Shopify** и выберите связанную ссылку.
2. Выберите магазин, для токена доступа которого вы хотите выполнить ротацию, чтобы открыть страницу **Карточка магазина Shopify**.
3. Выберите действие **Запрос доступа**.
4. При появлении запроса войдите в свою учетную запись Shopify, проверьте конфиденциальность и разрешения, а затем нажмите кнопку **Установить приложение**.

## <a name="known-issues"></a>Известные проблемы

*Общая бизнес-группа* не может быть нулевой или пустой; в поле клиента должно быть значение. Для исправления:

На странице **Карточка магазина Shopify** заполните поле **Код шаблона клиента** с шаблоном, который имеет заполненное значение **Общая бизнес-группа**. Этот шаблон клиента используется не только для создания клиентов, но и для расчета цены продажи и при создании документов продажи.

### <a name="importing-data-to-your-shopify-shop-isnt-enabled-go-to-the-shop-card-to-enable-it"></a>Импорт данных в ваш магазин Shopify не включен. Перейдите в карточку магазина, чтобы включить его

В окне **Карточка магазина Shopify** включите выключатель **Разрешить синхронизацию данных в Shopify**.  Этот переключатель предназначен для защиты интернет-магазина от получения демо-данных от [!INCLUDE[prod_short](../includes/prod_short.md)].

## <a name="see-also"></a>См. также

[Начало работы с соединителем для Shopify](get-started.md)