---
title: Начало работы с соединителем для Shopify
description: Первые шаги при настройке соединения между Business Central и Shopify
ms.date: 03/27/2023
ms.topic: article
ms.service: dynamics365-business-central
ms.reviewer: solsen
ms.search.form: '30100, 30101, 30102, 30103, 30104, 30135,'
author: AndreiPanko
ms.author: andreipa
---

# Начало работы с соединителем Shopify

Свяжите магазин (или магазины) Shopify с [!INCLUDE [prod_short](../includes/prod_short.md)], чтобы максимально повысить эффективность вашего бизнеса. Управляйте и просматривайте аналитику о своем бизнесе и вашем магазине Shopify как единое целое.

Чтобы использовать Shopify с [!INCLUDE [prod_short](../includes/prod_short.md)], сначала необходимо выполнить ряд действий. Эта статья представляет собой руководство по интеграции вашего магазина Shopify с [!INCLUDE [prod_short](../includes/prod_short.md)].

## Предварительные требования для Shopify

У вас должны быть:

- учетная запись Shopify
- интернет-магазин Shopify

Чтобы узнать больше о том, как создавать пробные версии Shopify, и о рекомендуемых настройках, перейдите к разделу [Создание и настройка учетной записи Shopify](shopify-account.md).

## Предварительные требования для Business Central

- Убедитесь, что приложение **[Соединитель Shopify](https://go.microsoft.com/fwlink/?linkid=2196238)** установлено.

  Это приложение предварительно устанавливается для всех новых учетных записей и пробных версий. Подробнее об установке приложений из AppSource см. в разделе [Установка и удаление расширений](../ui-extensions-install-uninstall.md#install). Выполните шаги, перечисленные ниже, если у вас нет [!INCLUDE[prod_short](../includes/prod_short.md)].

- Убедитесь, что пользователь обладает необходимыми правами. На соединитель Shopify распространяется набор разрешений **Shopify — Admin (SHPFY — ADMIN)**. Подробнее см. в статьях [Создание пользователей в соответствии с лицензиями](../ui-how-users-permissions.md) и [Назначение разрешений пользователям и группам](../ui-define-granular-permissions.md).

## Установка приложения Dynamics 365 Business Central для вашего интернет-магазина Shopify

Для существующих экземпляров [!INCLUDE[prod_short](../includes/prod_short.md)] этот шаг является необязательным и может быть пропущен.

1. Найдите приложение [Dynamics 365 Business Central](https://apps.shopify.com/dynamics-365-business-central) в магазине приложений [Shopify AppStore](https://apps.shopify.com/)
2. Нажмите кнопку **Добавить приложение**. В случае появления соответствующего запроса войдите в свою учетную запись Shopify. Выберите нужный интернет-магазин, если у вас их несколько.
3. Ознакомившись с конфиденциальностью и разрешениями, нажмите кнопку **Установить приложение**.

   Вы можете найти и открыть установленное приложение **Dynamics 365 Business Central** в разделе **App** на боковой панели страницы **Shopify admin**.
4. Выберите **Зарегистрироваться**, чтобы начать пробный период [!INCLUDE[prod_short](../includes/prod_short.md)], или **Войти**, если у вас уже есть [!INCLUDE[prod_short](../includes/prod_short.md)]. Вы будете перенаправлены на свою страницу [Business Central](https://businesscentral.dynamics.com).
5. В [!INCLUDE[prod_short](../includes/prod_short.md)] выполните следующие шаги:

## Подключение Business Central к интернет-магазину Shopify

1. Выберите ![Лампочка, которая открывает функцию Что вы хотите сделать.](../media/ui-search/search_small.png "Что вы хотите сделать") значок, введите **магазин Shopify** и выберите связанную ссылку.
2. Выберите действие **Создать**.  
3. В поле **Код** введите код, по которому магазин будет легко найти в [!INCLUDE[prod_short](../includes/prod_short.md)]. Например, название может подсказывать, что продает магазин (например, "Мебель" или "Кофе") или в какой стране или регионе он работает.
4. В поле **URL-адрес Shopify** введите URL-адрес интернет-магазина, к которому вы подключаетесь. Используйте следующий формат: `https://{shop}.myshopify.com/`.
5. Включите переключатель **Включено**, а затем просмотрите и примите условия использования.
6. Если будет предложено, войдите в свою учетную запись Shopify. Ознакомьтесь с политикой конфиденциальности и разрешениями, после чего нажмите кнопку **Установить приложение**.

Повторите шаги 2–6 для всех интернет-магазинов, которые хотите подключить.

### Известные проблемы

- Браузер блокирует всплывающее окно. При включении переключателя **Включено** [!INCLUDE [prod_short](../includes/prod_short.md)] ожидает токен доступа от Shopify и в это время отображает страницу **Ожидание отклика — не закрывайте эту страницу**. Если эта страница будет закрыта или заблокирована, вы не сможете подключиться к Shopify. Подробнее см. в статье [Запрос токена доступа](troubleshoot.md#request-the-access-token)
- [Ошибка: Ошибка Oauth, invalid_request: не удалось найти приложение API для Shopify с api_key](troubleshoot.md#error-oauth-error-invalid_request-could-not-find-shopify-api-application-with-api_key)
- [Не удается подключиться из песочницы](troubleshoot.md#verify-and-enable-permissions-to-make-http-requests-in-a-non-production-environment)

## Дальнейшие шаги

Теперь ваш интернет-магазин подключен к [!INCLUDE[prod_short](../includes/prod_short.md)]. На следующих этапах вы определите, как и что синхронизировать.

- [Синхронизация товаров](synchronize-items.md)
- [Синхронизация клиентов](synchronize-customers.md)
- [Синхронизация заказов](synchronize-orders.md)

## Стратегии тестирования

Возможны разные подходы к тестированию интеграции, и каждый подход имеет свои плюсы и минусы.

Вы можете подключаться к учетным записям [!INCLUDE[prod_short](../includes/prod_short.md)] и Shopify так часто, как хотите. Соединитель Shopify воздействует только на среду, а если точнее, на компанию, в которой он включен. Вы можете подключаться к одному и тому же интернет-магазину Shopify из разных сред или компаний. Вы можете отключить и снова включить соединитель.

Можно легко повторно запустить тесты синхронизации. Соединитель позволяет удалять импортированные данные, такие как продукты, клиенты и заказы, а затем снова их импортировать. Достаточно просто [сбросить синхронизацию](troubleshoot.md#reset-sync).

### Песочница Shopify и песочница Business Central

Это, пожалуй, самый безопасный способ протестировать интеграцию. Вместо использования песочницы Shopify вы также можете использовать пробную подписку или магазин разработки. В [!INCLUDE[prod_short](../includes/prod_short.md)] вы также можете использовать тестовую компанию в рабочей среде.

Чтобы узнать больше о песочницах [!INCLUDE[prod_short](../includes/prod_short.md)], перейдите к разделу [Создание новой среды](/dynamics365/business-central/dev-itpro/administration/tenant-admin-center-environments#create-a-new-environment).

### Песочница Shopify и рабочая среда Business Central

Эта конфигурация *не* рекомендуется для тестирования, поскольку соединитель Shopify может создавать или изменять товары и клиентов. Он также может создавать документы продажи, такие как заказы и счета-фактуры. Эти документы может быть трудно отменить.
 
Если вам необходимо использовать эту конфигурацию, мы рекомендуем вам просмотреть и, возможно, отключить следующие параметры:

* **Автоматически создавать неизвестный товар** — чтобы не создавались товары;
* **Shopify может обновлять товары** — чтобы не обновлялись сопоставленные товары;
* **Автоматически создавать неизвестного клиента** — чтобы не создавались клиенты и контакты;
* **Shopify может обновлять клиентов** — чтобы не обновлялись существующие клиенты;
* **Автоматически создавать заказы на продажу** — чтобы не создавались заказы на продажу и счета-фактуры продажи.

Дополнительные сведения см. в статье [Восстановление среды](/dynamics365/business-central/dev-itpro/administration/tenant-admin-center-backup-restore).

### Рабочая среда Shopify и песочница Business Central

Желательно сделать резервную копию ваших данных. Например, вы можете экспортировать свои продукты и клиентов. Дополнительные сведения см. в статье [Использование CSV-файлов для резервного копирования информации магазина](https://help.shopify.com/en/manual/shopify-admin/duplicate-store#using-csv-files-to-back-up-store-information).

Отключите переключатель **Разрешить синхронизацию данных с Shopify**, чтобы [!INCLUDE[prod_short](../includes/prod_short.md)] не производил запись в Shopify. В этом случае вы сможете импортировать продукты, изображения, клиентов и заказы из Shopify. Но вы не сможете отправлять товары, цены, уровни запасов, клиентов, информацию о выполнении в Shopify.

Если вы оставите переключатель **Разрешить синхронизацию данных с Shopify** включенным, можно дополнительно предусмотреть следующие защитные меры:

*   Выберите **Черновик** в поле **Статус создания продукта**, чтобы гарантировать, что экспортированные продукты не будут доступны покупателям. Вы можете проверить, как продукция выглядит в интернет-магазине, а также синхронизировать цены, варианты и уровни запасов. Только не забудьте использовать фильтры на странице **Добавить товар в Shopify**, чтобы ограничить количество экспортируемых товаров.
* Выключите переключатель **Экспорт клиента в Shopify**, чтобы не передавать клиентов в Shopify.

## См. соответствующее [обучение Microsoft](/training/paths/use-shopify-connector-dynamics-365-business-central/)

## См. также

[Пошаговое руководство: настройка и использование соединителя Shopify](walkthrough-setting-up-and-using-shopify.md)  

