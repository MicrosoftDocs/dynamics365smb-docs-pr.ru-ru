---
title: Синхронизируйте товары и запасы
description: Настройте и запустите синхронизацию товаров между Shopify и Business Central
ms.date: 06/06/2023
ms.topic: article
ms.service: dynamics365-business-central
ms.search.form: '30116, 30117, 30126, 30127,'
author: AndreiPanko
ms.author: andreipa
ms.reviewer: bholtorf
---

# Синхронизируйте товары и запасы

**Товары** в [!INCLUDE[prod_short](../includes/prod_short.md)] представляют собой эквивалент *продуктов* в Shopify и включают в себя физические товары, цифровые загрузки, услуги и подарочные карты, которые вы продаете. Существует основные причины синхронизировать товары:

1. Управление данными осуществляется главным образом в [!INCLUDE[prod_short](../includes/prod_short.md)]. Вам нужно экспортировать все или некоторые данные оттуда в Shopify и сделать их видимыми. Вы можете экспортировать название товара, описание, изображение, цены, наличие, варианты, информацию о поставщике и штрих-код. После экспорта вы можете просмотреть товары или сразу сделать их видимыми.
2. При импорте заказа из Shopify информация о товаре необходима для дальнейшей обработки документа в [!INCLUDE[prod_short](../includes/prod_short.md)].

Предыдущие два сценария всегда включены.

Третий сценарий заключается в управлении данными в Shopify, но пакетом импорте этих товаров в [!INCLUDE[prod_short](../includes/prod_short.md)]. Этот сценарий может быть полезен для событий переноса данных, например, когда вы хотите связать существующий интернет-магазин с новой средой [!INCLUDE[prod_short](../includes/prod_short.md)].

## Определение синхронизации товаров

1. Выберите в поиске ![Лампочка, которая открывает функцию "Что вы хотите сделать".](../media/ui-search/search_small.png "Что вы хотите сделать") значок и введите **Магазин Shopify**. Откройте магазин, для которого вы хотите настроить синхронизацию товаров.
2. В поле **Синхронизировать товар** выберите нужный вариант.

   Параметры приведены в таблице ниже.

|Параметр|Описание|
|------|-----------|
|**Пусто**| Продукция импортируется вместе с импортом заказов. Продукция экспортируется в Shopify, когда пользователь выполняет действие **Добавить элемент** со страницы **Shopify Товары**. Этот вариант является процессом по умолчанию.|
|**На Shopify**| Выберите этот параметр, если после первоначальной синхронизации, инициированной действием **Добавить товар**, вы планируете обновлять продукцию вручную с помощью действия **Синхронизировать продукт** или с помощью очереди заданий для повторяющихся обновлений. Не забудьте активировать поле **Можно обновить продукцию Shopify**. Если он не включен, он равен параметры **Пустой** (процесс по умолчанию). Дополнительные сведения см. в разделе [Экспорт товаров в Shopify](synchronize-items.md#export-items-to-shopify).|
|**С Shopify**| Выберите этот вариант, если вы планируете импортировать продукцию из Shopify оптом; либо вручную с помощью действия **Синхронизировать продукцию** либо с помощью очереди заданий для повторяющихся обновлений. Дополнительные сведения см. в разделе [Импорт товаров из Shopify](synchronize-items.md#import-items-from-shopify).|

> [!NOTE]
> Изменение направления работы функции **Синхронизировать товар** с **Из Shopify** на **в Shopify** не будет иметь эффекта, если не включить параметр **Может обновлять продукты Shopify**.

## Импорт товаров из Shopify

Сначала импортируйте товары либо в пакетном режиме из Shopify или вместе с заказами, чтобы добавить их в таблицы **Продукт Shopify** и **Вариант Shopify**. Затем сопоставьте импортированные продукты и варианты с товарами и вариантами в [!INCLUDE[prod_short](../includes/prod_short.md)]. Управляйте процессом с помощью следующих параметров:

|Поле|Описание|
|------|-----------|
|**Автоматически создавать неизвестные товары**|Когда продукция и варианты Shopify импортируются в [!INCLUDE[prod_short](../includes/prod_short.md)], функция [!INCLUDE[prod_short](../includes/prod_short.md)] сначала пытается сначала найти соответствующую запись в списке товаров. **Сопоставление SKU** влияет на то, как выполняется сопоставление, и создает новый товар и/или вариант товара. Включите этот параметр, если вы хотите создать новый товар или если соответствующей записи не существует. Новый товар создается с использованием импортированных данных и **Кода шаблона товара**. Если этот параметр не включен, вам нужно будет создать товар вручную и использовать действие **Сопоставить продукт** на странице **Продукты Shopify**.|
|**Код шаблона товара**|Используйте это поле вместе с переключателем **Автоматически создавать неизвестные товары**.<br>Выберите шаблон, который хотите использовать для автоматически созданных товаров.|
|**Сопоставление SKU**|Выберите, как вы хотите использовать значение **SKU**, импортированное из Shopify во время сопоставления и создания товара/варианта. Подробнее см. в разделе [Влияние SKU и штрих-кодов продуктов Shopify на сопоставление и создание товаров и вариантов в Business Central](synchronize-items.md#effect-of-shopify-product-skus-and-barcodes-on-mapping-and-creating-items-and-variants-in-business-central).|
|**Разделитель полей SKU**|Используйте это поле, когда параметр **Сопоставление SKU** установлен в значение **[№ товара + код варианта](synchronize-items.md#effect-of-shopify-product-skus-and-barcodes-on-mapping-and-creating-items-and-variants-in-business-central)**.<br>Определите разделитель, который будет использоваться для разделения SKU.<br>Таким образом, если в Shopify вы создаете вариант с SKU "1000/001", вы вводите "/" в поле **Разделитель полей SKU**, чтобы создать номенклатурный номер в [!INCLUDE[prod_short](../includes/prod_short.md)] как "1000", а код варианта товара как "001".|
|**Префикс варианта**|Используйте вместе с **Сопоставлением SKU**, установленным на параметр **Код варианта** или **№ товара + код варианта** в качестве запасной функции, когда SKU, поступающий из Shopify, пустой.<br>Если вы хотите создать вариант товара в [!INCLUDE[prod_short](../includes/prod_short.md)] автоматически, вам нужно будет ввести значение в поле **Код**. По умолчанию используется значение, указанное в поле SKU, импортированное из Shopify. Однако, если поле SKU пусто, будет сгенерирован код, начинающийся с определенного префикса варианта и "001".|
|**Shopify может обновить товар**|Выберите этот вариант, если вы хотите автоматически обновлять товары и/или варианты.|

### Влияние SKU и штрих-кодов продуктов Shopify на сопоставление и создание товаров и вариантов в Business Central

Когда товары ввозятся из Shopify в **Товары Shopify** и таблицы **Вариантов Shopify**, [!INCLUDE[prod_short](../includes/prod_short.md)] пытается найти существующие записи.

В следующей таблице описывается разница между параметрами в поле **Сопоставление SKU**.

|Параметр|Влияние на сопоставление|Влияние на создание|
|------|-----------------|------------------|
|**Пусто**|Поле SKU не используется в процедуре сопоставления товаров.|Не влияет на создание товара.<br>Этот параметр предотвращает создание вариантов. В заказе на продажу используется только основной товар. Вариант по-прежнему можно сопоставить вручную на странице **Продукция Shopify**.|
|**Код товара**|Выберите этот вариант, если поле SKU содержит номер товара|Не влияет на создание товара без вариантов. Для товара с вариантами каждый вариант создается как отдельный товар.<br>Таким образом, если в Shopify есть продукт с двумя вариантами, а их единицы хранения – "1000" и "2000", то [!INCLUDE[prod_short](../includes/prod_short.md)] создаст два товара с номерами "1000" и "2000".|
|**Код варианта**|Поле SKU не используется в процедуре сопоставления товаров.|Не влияет на создание товара. При создании варианта товара в качестве кода используется значение поля SKU. Если поле SKU пусто, код генерируется из данных в поле **Префикс варианта**.|
|**№ товара + код варианта**|Выберите этот вариант, если поле SKU содержит номер товара, и код варианта товара разделен значением, определенным в поле **Разделитель полей SKU**.|При создании товара первая часть значения поля SKU назначается как **Номер**. Если поле SKU пусто, то номер товара генерируется с использованием числового ряда, определенного в поле **Код шаблона элемента** или **Номера товаров** на странице **Настройка запасов**.<br>При создании товара функция варианта использует вторую часть значения поля SKU как **Код**. Если поле SKU пусто, код генерируется из данных в поле **Префикс варианта**.|
|**№ товара поставщика**|Выберите этот вариант, если поле SKU содержит номер товара поставщика. В этом случае **Код поставщика товара** не используется на странице **Карточка товара**; скорее используется **№ товара поставщика** из **Каталог поставщиков товара**. Если найденная запись из *Каталога поставщиков товаров* содержит код варианта, этот код используется для сопоставления вариантов Shopify.|Если соответствующий поставщик существует в [!INCLUDE[prod_short](../includes/prod_short.md)], значение SKU будет использоваться как **Номер поставщика товара** на странице **Карточка товара** и как **Ссылка на товар** типа *поставщика*. <br>Запрещает создавать варианты. Это полезно, когда вы хотите использовать только основной товар в заказе на продажу. Вы по-прежнему сможете сопоставить вариант вручную со страницы **Продукция Shopify**.|
|**Штрихкод**|Выберите этот вариант, если поле SKU содержит штрихкод. Поиск осуществляется среди **Ссылок на товары** типа *штрих-кода*. Если найденная запись ссылок на товары содержит код варианта, этот код варианта используется для сопоставления варианта Shopify.|Не влияет на создание товара. <br>Запрещает создавать варианты. Это имеет смысл, когда вы хотите использовать только основной товар в заказе на продажу. Вы по-прежнему сможете сопоставить вариант вручную со страницы **Продукция Shopify**.|

В следующей таблице показано влияние поля **Штрихкод**.

|Влияние на сопоставление|Влияние на создание|
|-----------------|------------------|
|Поиск осуществляется на **Ссылки на товары**, содержащие тип штрих-кода для значения в поле **Штрих-код** в Shopify. Если найденная запись ссылок на товары содержит код варианта, этот код варианта используется для сопоставления варианта Shopify.|Штрих-код сохраняется как **Ссылка на товар** для товара и варианта товара.|

> [!NOTE]  
> Вы можете инициировать сопоставление выбранных продуктов/вариантов, выбрав **Попробовать найти сопоставление продуктов**, или всех импортированных несопоставленных продуктов, выбрав **Попробовать найти сопоставления**.

## Экспорт товаров в Shopify

Выберите элементы из вашего списка товаров, которые требуется экспортировать в Shopify. Используйте действие **Добавить товар** на странице **Товары Shopify** для добавления товаров в список продуктов Shopify. 

>[!IMPORTANT]
>Товар будет добавлен только в канал продаж **Интернет-магазин**. Вам необходимо публиковать товары в других каналах продаж, например Shopify POS, из Shopify.

Вы управляете процессом экспорта товаров с помощью следующих параметров:

|Поле|Описание|
|------|-----------|
|**Синхронизировать расширенный текст товара**|Выберите это поле, чтобы синхронизировать расширенный текст товара. Так как он будет добавлен в поле **Описание**, он может содержать HTML-код. |
|**Синхронизировать атрибуты товара**|Выберите это поле для синхронизации атрибутов товара. Атрибуты отформатированы в виде таблицы и включены в поле **Описание** в Shopify.|
|**Синхронизировать маркетинговый текст о товаре**|Выберите это поле, чтобы синхронизировать маркетинговый текст для товара. Хотя маркетинговый текст является своего рода описанием, он отличается от информации в поле **Описание**. Поле **Описание** обычно используется в качестве краткого отображаемого имени для быстрой идентификации продукта. Маркетинговый текст имеет более развернутое описательное содержание. Он предназначен для добавления маркетингового и рекламного контента. Затем этот текст можно опубликовать вместе с товаром в Shopify. Существует два способа создания маркетингового текста: Можно использовать Copilot, который предлагает текст, сгенерированный ИИ, или начать с нуля.|
|**Код языка**|Выберите это поле, если хотите использовать переведенные версии для заголовка, атрибутов и расширенного текста.|
|**Сопоставление SKU**|Выберите, как вы хотите заполнять поле SKU в Shopify. Среди поддерживаемых вариантов:<br> - **Номер товара** — для использования номера товара как для продуктов, так и для вариантов.<br> - **Номер товара + код варианта** — для создания SKU путем объединения значений двух полей. Для товаров без вариантов используется только номер товара.<br>- **Номер поставщика товара** — используется номер поставщика товара, определенный в **Карточке товара** как для продуктов, так и для вариантов.<br> - **Штрихкод** — чтобы использовать тип штрихкода **Ссылка на товар**. Эта опция учитывает варианты.|
|**Разделитель полей SKU**|Определите разделитель для варианта **Номера товара + код варианта**.|
|**С прослеживанием запасов**| Выберите, как система должна заполнять поле **Отслеживание запасов** для продукции, экспортируемой в Shopify. Вы можете обновить информацию о доступности из [!INCLUDE[prod_short](../includes/prod_short.md)] для продукции в Shopify, для которой активировано отслеживание запасов. Подробнее см. в разделе [Запасы](synchronize-items.md#sync-inventory-to-shopify).|
|**Политика запасов по умолчанию**|Выберите *Отклонить* для предотвращения отрицательных запасов на стороне Shopify.|
|**Может обновлять продукцию Shopify**|Определите это поле, если [!INCLUDE[prod_short](../includes/prod_short.md)] может только создавать товары, либо может также обновлять их. Выберите этот параметр, если после первоначальной синхронизации, инициированной действием **Добавить товар**, вы планируете обновлять продукцию вручную с помощью действия **Синхронизировать продукт** или с помощью очереди заданий для повторяющихся обновлений. Не забудьте выбрать **В Shopify** в поле **Синхронизация предметов**.<br>Параметр **Может обновлять продукты Shopify** не влияет на синхронизацию цен, изображений или уровней запасов, которые настраиваются с помощью независимых элементов управления.<br>Если параметр **Может обновлять продукты Shopify** включен, следующие поля на стороне Shopify будут обновляться на уровне продукта, а при необходимости и на уровне варианта: **Единица хранения**, **Штрих-код**, **Вес**. Поля **Название**, **Тип продукта**, **Поставщик**,  **Описание** продукта также будут обновляться, если экспортируемые значения не пусты. Для описания это означает, что вам нужно включить какой-либо из переключателей **Синхронизировать расширенный текст товара**, **Синхронизировать маркетинговый текст о товаре** или **Синхронизировать атрибуты товара**, и атрибуты, расширенный текст или маркетинговый текст должны иметь значения. Если у продукта есть варианты, вариант будет добавлен или удален, если необходимо.|

### Обзор сопоставления полей

|Shopify|Источник при экспорте из [!INCLUDE[prod_short](../includes/prod_short.md)]|Цель при импорте в [!INCLUDE[prod_short](../includes/prod_short.md)]|
|------|-----------------|-----------------|
|Состояние|Согласно полю **Статусу созданных продуктов** в **Карточке магазина Shopify**. Узнайте больше в разделе [Ad-Hock обновления продуктов Shopify](synchronize-items.md#ad-hoc-updates-of-shopify-products).|Не используется.|
|Должность | **Описание**. Если код языка определен и существует соответствующий перевод товара, вместо описания будет использоваться перевод.|**Описание**|
|Описанием|Сочетает в себе расширенные тексты, маркетинговый текст и атрибуты, если соответствующие переключатели активированы на карточке магазина Shopify. Учитывается код языка.|Не используется.|
|Заголовок страницы директора|Фиксированное значение: пустое. Узнайте больше в разделе [Ad-Hock обновления продуктов Shopify](synchronize-items.md#ad-hoc-updates-of-shopify-products).|Не используется.|
|Описание мета-данных директора|Фиксированное значение: пустое. Узнайте больше в разделе [Ad-Hock обновления продуктов Shopify](synchronize-items.md#ad-hoc-updates-of-shopify-products).|Не используется.|
|Мультимедиа|**Изображение**. Узнайте больше в разделе [Синхронизация изображения товаров](synchronize-items.md#sync-item-images)|**Изображение**|
|Цена|Расчет цены для конечного покупателя включает в себя цену единицы товара, ценовую группу клиента, скидочную группу клиента и код валюты. Узнайте больше в разделе [Синхронизация цен](synchronize-items.md#sync-prices-with-shopify)|**Цена единицы**. Цена импортируется только во вновь созданные товары, однако при дальнейших синхронизациях не обновляется.|
|Сравнительная цена|Расчет цены без скидки.|Не используется.|
|Стоимость единицы товара|**Себестоимость единицы**|**Себестоимость единицы**. Себестоимость единицы импортируется только во вновь созданные товары и при дальнейших синхронизациях не обновляется.|
|Единица хранения|Узнайте об единицах хранения SKU в пункте **Сопоставление SKU** в разделе [Экспорт товаров в Shopify](synchronize-items.md#export-items-to-shopify).|Узнайте об единицах хранения SKU в разделе [Влияние SKU и штрих-кодов продуктов Shopify на сопоставление и создание товаров и вариантов в Business Central](synchronize-items.md#effect-of-shopify-product-skus-and-barcodes-on-mapping-and-creating-items-and-variants-in-business-central).|
|Штрихкод|**Ссылки на товары** типа штрихкода.|**Ссылки на товары** типа штрихкода.|
|Проследить количество|Согласно полю **Отслеживанию запасов** на странице **Карточка магазина Shopify**. Подробнее см. в разделе [Запасы](synchronize-items.md#sync-inventory-to-shopify). Используется только при первом экспорте продукта.|Не используется.|
|Продолжайте продавать, когда товара нет в наличии|Согласно **Стандартной политике запасов** в **Карточке магазина Shopify**. Используется только при первом экспорте продукта.|Не используется.|
|Тип|**Описание** из **Код категории товара**. Если тип не указан в Shopify, он добавляется как настраиваемый тип.|**Код категории товара**. Сопоставление по описанию.|
|Поставщик|**Имя** поставщика из поля **Номер поставщика**|**Номер поставщика** – сопоставление по имени.|
|Вес|**Вес брутто**.|Не используется.|
|Облагается налогом|Фиксированное значение: включено.|Не используется.|
|Коды налогов|**Код налоговой группы**. Актуально только для налогов с продаж. Подробнее см. в разделе [Настройка налогов](setup-taxes.md).|Не используется.|

### Теги

Просмотрите импортированные теги на информационной панели **Теги** на странице **Продукция Shopify**. На этой же странице для редактирования тегов выберите действие **Теги**.
Если в поле **Синхронизировать товар** выбран вариант **В Shopify**, назначенные теги экспортируются в Shopify при следующей синхронизации.

## Запуск синхронизации товаров

Полная или частичная синхронизация товаров может выполняться разными способами.

### Первоначальная синхронизация товаров из Business Central в Shopify

1. Введите в поиске ![Лампочка, которая открывает функцию "Что вы хотите сделать".](../media/ui-search/search_small.png "Что вы хотите сделать") введите **Продукты Shopify** и выберите соответствующую ссылку.
2. Выберите действие **Добавить товары**.
3. В поле **Код магазина** укажите код. Если вы откроете окно **Продукция Shopify** со страницы **Карточка магазина**, код магазина будет заполнен автоматически.
4. Если вы настроили синхронизацию изображений и инвентаря, вы можете включить их в один и тот же процесс. Включение их в один и тот же процесс удобно для демонстрационных сценариев или при работе с небольшим объемом данных. 
5. При необходимости определите фильтры для товаров. Например, вы можете фильтровать по номеру товара или коду категории товара.
6. Выберите **ОК**.

Полученные товары автоматически создаются в Shopify с ценами. В зависимости от сделанного вами выбора могут быть включены изображения и уровни ресурсов. Операция может занять некоторое время, если добавляется большое количество товаров.

### Синхронизировать продукты из Shopify в Business Central

1. Введите в поиске ![Лампочка, которая открывает функцию "Что вы хотите сделать".](../media/ui-search/search_small.png "Что вы хотите сделать") значок, введите **магазин Shopify** и выберите связанную ссылку.
2. Выберите магазин, для которого вы хотите синхронизировать товары, чтобы открыть страницу **Карточка магазина Shopify**.
3. Выберите действие **Синхронизировать продукцию**.

В качестве альтернативы вы можете использовать действие **Синхронизировать продукты** на странице **Продукты Shopify** или найти пакетное задание **Синхронизировать продукты**.

Вы можете запланировать задачу для автоматического выполнения. Дополнительные сведения см. а разделе [Планирование повторяющихся задач](background.md#to-schedule-recurring-tasks).

### Ad-Hock обновления продукции Shopify

При обновлении записей в таблице **Продукция Shopify** следующие изменения синхронизируются с Shopify.

Обновить:

* **Статус** — вы можете выбрать между активным, заархивированным или черновиком.
* **Должность директора**
* **Описание директора**

Удаление:

На основании значения в поле **Действия для удаленной продукции** на странице **Карточка магазина Shopify** продукция обновляется в Shopify при удалении записи со страницы **Продукция Shopify**.

* **Пусто** — ничего не произойдет. При необходимости вам необходимо выполнить требуемое действие со страницы **Администрирование Shopify**.
* **Статус черновика** — статус продукции в Shopify установлен на *Черновик*.
* **Статус в архиве** — товар находится в архиве Shopify.

## Синхронизировать изображения товара

Синхронизацию изображений можно настроить для синхронизированных товаров. Выберите один из перечисленных ниже параметров.

* **Отключено** — синхронизация изображений отключена.
* **В Shopify** — фотографии товаров экспортируются в Shopify.
* **Из Shopify** — изображения из Shopify импортируются в [!INCLUDE[prod_short](../includes/prod_short.md)].

Синхронизация изображений может быть инициализирована двумя способами, описанными ниже.

### Синхронизация изображений продукции со страницы магазина Shopify

1. Введите в поиске ![Лампочка, которая открывает функцию "Что вы хотите сделать".](../media/ui-search/search_small.png "Что вы хотите сделать") введите **Магазины Shopify** и выберите соответствующую ссылку.
2. Выберите магазин, для которого вы хотите синхронизировать изображения, чтобы открыть страницу **Карточка магазина Shopify**.
3. Выберите действие **Синхронизировать изображения продукции**.

### Синхронизация изображений продукции со страницы продукции Shopify

1. Введите в поиске ![Лампочка, которая открывает функцию "Что вы хотите сделать".](../media/ui-search/search_small.png "Что вы хотите сделать") введите **Продукты Shopify** и выберите соответствующую ссылку.
2. Выберите действие **Синхронизировать изображения продуктов**.

### Замечания по синхронизации изображений

* При экспорте изображений из [!INCLUDE[prod_short](../includes/prod_short.md)] в Shopify, новые изображения добавляются в Shopify, при этом старые изображения остаются нетронутыми. Если изображение обновляется в [!INCLUDE[prod_short](../includes/prod_short.md)], вам нужно будет удалить старые изображения на странице **Shopify Admin**.
* Изображения, экспортированные в Shopify, которые не соответствуют требованиям, установленным Shopify, не будут импортированы. Подробнее см. в статье о [типах мультимедиа для продуктов на help.shopify.com](https://help.shopify.com/en/manual/products/product-media/product-media-types#images).

## Синхронизировать цены с Shopify

Вы можете управлять процессом экспорта цен с помощью следующих параметров:

|Поле|Описание|
|------|-----------|
|**Ценовая группа клиентов**|Определите цену товара в Shopify. Берется продажная цена этой ценовой группы клиентов. Если группа не указана, используется цена в карточке товара.|
|**Скидочная группа клиентов**|Определите скидку, которая будет использоваться при расчете цены товара в Shopify. Цены со скидкой сохраняются в поле **Цена**, а полная цена хранится в поле **Сравнить по цене**.|
|**Разрешить скидку по строке**|Определяет, разрешаете ли вы скидку по строке при расчете цен для Shopify. Этот параметр применяется только к ценам на товар. Цены для ценовой группы клиента имеют собственный переключатель в строках.|
|**Цены с учетом НДС**|Указывает, будет ли при расчете цен для Shopify включаться НДС. Подробнее см. в разделе [Настройка налогов](setup-taxes.md).|
|**НДС Бизнес Группа**|Определяет, какая учетная бизнес-группа НДС используется для расчета цен в Shopify. Это должна быть группа, которую вы используете для внутренних клиентов. Подробнее см. в разделе [Настройка налогов](setup-taxes.md).|
|**код валюты;**|Вводить код валюты нужно только в случае, если в вашем интернет-магазине используется валюта, отличная от локальной валюты (МВ). Для указанной валюты должен быть настроен обменный курс. Если ваш интернет-магазин использует ту же валюту, что и [!INCLUDEprod_short], оставьте это поле пустым.|

Вы можете экспортировать цены для синхронизированных товаров двумя описанными ниже способами.

### Синхронизация цен со страницы продукции Shopify

1. Введите в поиске ![Лампочка, которая открывает функцию "Что вы хотите сделать".](../media/ui-search/search_small.png "Что вы хотите сделать") введите **Продукты Shopify** и выберите соответствующую ссылку.
2. Выберите действие **Синхронизировать цены с Shopify**.

### Замечания по расчету цены

* При определении цены [!INCLUDE[prod_short](../includes/prod_short.md)] использует логику "самая низкая цена". Однако логика самой низкой цены игнорирует цену за единицу, указанную в карточке товара, если определена цена в ценовой группе. Это справедливо даже в том случае, если цена за единицу в карточке товара ниже.
* Для расчета цен соединитель создает временное предложение по продаже для товара с количеством 1 и использует стандартную логику расчета цены. Используются только цены и скидки, применимые к количеству 1. Вы не можете экспортировать разные цены или скидки в зависимости от количества.

## Синхронизировать запасы с Shopify

Синхронизацию запасов можно настроить для уже синхронизированных товаров. Есть два условия, которые должны быть соблюдены:

1. Отслеживание запасов должно быть включено для продукции в Shopify. Если товары экспортируются в Shopify, попробуйте активировать переключатель **Отслеживание запасов** на странице **Карточка магазина Shopify**. Дополнительные сведения см. в разделе [Экспорт товаров в Shopify](synchronize-items.md#export-items-to-shopify).
2. Синхронизация запасов должна быть включена для **Места Shopify**.

### Чтобы включить синхронизацию инвентаря

1. Введите в поиске ![Лампочка, которая открывает функцию "Что вы хотите сделать".](../media/ui-search/search_small.png "Что вы хотите сделать") введите **магазин Shopify** и выберите соответствующую ссылку.
2. Выберите магазин, для которого вы хотите синхронизировать запасы, чтобы открыть страницу **Карточка магазина Shopify**.
3. Выберите действие **Места**, чтобы открыть **Адреса магазинов Shopify**.
4. Выберите действие **Получить места Shopify** для импорта всех местоположений, определенных в Shopify. Вы можете найти их в меню [**Места**](https://www.shopify.com/admin/settings/locations) настроек вашей страницы **Администрирование Shopify**.
5. В поле **Фильтр мест** добавьте места, если вы хотите включить запасы только из определенных мест. Таким образом, вы можете ввести *ВОСТОК|ЗАПАД*, чтобы сделать запасы только из этих двух мест доступными для продажи через интернет-магазин.
6. Выберите метод расчета запаса, который будет использоваться для выбранных складов Shopify.

Синхронизация запасов может быть запущена двумя способами, описанными ниже.

### Синхронизация запасов со страницы магазина Shopify

1. Введите в поиске ![Лампочка, которая открывает функцию "Что вы хотите сделать".](../media/ui-search/search_small.png "Что вы хотите сделать") введите **Магазины Shopify** и выберите соответствующую ссылку.
2. Выберите магазин, для которого вы хотите синхронизировать запасы, чтобы открыть страницу **Карточка магазина Shopify**.
3. Выберите действие **Синхронизация запасов**.

### Синхронизация запасов со страницы продукции Shopify

1. Введите в поиске ![Лампочка, которая открывает функцию "Что вы хотите сделать".](../media/ui-search/search_small.png "Что вы хотите сделать") введите **Продукты Shopify** и выберите соответствующую ссылку.
2. Выберите действие **Синхронизация запасов**.

### Замечания по запасам

* Стандартный метод расчета запасов: **Прогнозное доступное сальдо на дату**. Благодаря возможности расширения вы можете добавить другие опции. Чтобы узнать больше о возможностях расширения, перейдите к [примерам](https://github.com/microsoft/ALAppExtensions/blob/main/Apps/W1/Shopify/extensibility_examples.md). 
* Вы можете просмотреть информацию об акциях, полученную от Shopify на странице **Информационная панель запасов Shopify**. На этой информационной панели вы получите обзор на функцию запасов Shopify и последний рассчитанный запас в [!INCLUDE[prod_short](../includes/prod_short.md)]. Имеется одна запись на место.
* Если информация о запасах в Shopify отличается от **Прогнозируемого доступного баланса** в [!INCLUDE[prod_short](../includes/prod_short.md)], тогда запас будет обновлен в Shopify.
* Когда вы добавляете новый склад в Shopify, вы также должны добавить для него записи инвентаризации. Shopify не делает этого автоматически для существующих продуктов и их вариантов, и соединитель не будет синхронизировать уровни запасов для таких товаров на новом складе. Чтобы узнать больше, перейдите к разделу [Назначение запасов складам](https://help.shopify.com/manual/locations/assigning-inventory-to-locations).
* Запасы и отгрузка в **службах выполнения Business Central** не поддерживаются; вместо этого используйте обычные местоположения.

#### Пример расчета прогнозируемого доступного баланса

Имеется 10 единиц товара А в наличии и два невыполненных заказа на продажу. Один на понедельник с количеством *Один* и один на четверг с количеством *Два*. В зависимости от того, когда вы синхронизируете запасы, система будет обновлять уровень запасов в Shopify различным количеством:

|Когда выполняется синхронизация запасов|Значение, используемое для обновления уровня запасов|Комментарий|
|------|-----------------|-----------------|
|Вторник|9|Запасы 10 минус заказ на продажу должны быть отправлен в понедельник|
|Пятница|7|Запасы 10 минус оба заказа на продажу|

## См. также

[Начало работы с соединителем для Shopify](get-started.md)  
