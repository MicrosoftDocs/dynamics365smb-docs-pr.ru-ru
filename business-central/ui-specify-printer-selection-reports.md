---
title: Настройка принтеров
description: Узнайте о настройке принтеров, которые можно использовать для отчетов и документов, а также о различных функциях печати, доступных вам в Business Central.
author: jswymer
ms.topic: conceptual
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms.search.keywords: online printing, email printing, cloud printing, Universal Print
ms.search.form: 8900, 9018, 9022
ms.date: 06/24/2021
ms.author: jswymer
ms.openlocfilehash: b52d90dfadfac794ff1a62088def7c26a903a57d
ms.sourcegitcommit: 8a12074b170a14d98ab7ffdad77d66aed64e5783
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/31/2022
ms.locfileid: "8512658"
---
# <a name="set-up-printers"></a>Настройка принтеров

Печать документов и отчетов из [!INCLUDE[prod_short](includes/prod_short.md)] — это важная задача для бизнес-пользователей. Пользователи обычно хотят отправлять задания на печать непосредственно на один из принтеров вашей организации &mdash; независимо от того, какой клиент или приложение [!INCLUDE[prod_short](includes/prod_short.md)] они используют. Так как [!INCLUDE[prod_short](includes/prod_short.md)] Online — это облачная служба, она не может напрямую подключаться к локальным принтерам, подключенным к устройствам пользователей, но может подключаться к принтерам с поддержкой облака.

Чтобы удовлетворить ваши потребности в печати, [!INCLUDE[prod_short](includes/prod_short.md)] предлагает следующие функции:

|Функция|Описание|Веб-клиент| Мобильное приложение|Приложение для Teams|
|-------|-----------|----------|-----------|--------------|
|Универсальная печать|Универсальная печать — это решение для управления принтером, доступное в виде облачной службы от Microsoft. С помощью этой функции вы можете настроить свои принтеры в службе универсальной печати, затем зарегистрировать их для использования в [!INCLUDE[prod_short](includes/prod_short.md)]. Для этой функции требуется подписка на универсальную печать и расширение **Интеграция универсальной печати**|![работает онлайн.](media/check.png)|![работает онлайн.](media/check.png)|![работа онлайн](media/check.png)|
|Печать по электронной почте|Эта функция позволяет настроить принтеры с поддержкой электронной почты. [!INCLUDE[prod_short](includes/prod_short.md)] затем отправляет задания на печать на принтер, используя адрес электронной почты принтера. Для этой функции требуются принтеры с поддержкой электронной почты и расширение **Отправить на принтер с поддержкой электронной почты**.|![работает онлайн.](media/check.png)|![работа онлайн](media/check.png)|![работа онлайн](media/check.png)|
|Браузерная печать|Задания на печать обрабатываются функцией печати браузера пользователя. Если облачный принтер не установлен и не настроен, или если установленный принтер дает сбой, печать по умолчанию будет соответствовать настройкам печати для браузера. В поле **Принтер** на странице запроса отчета отображается сообщение *(Обрабатывается браузером)*.|![работа онлайн](media/check.png)|||

> [!NOTE]
> [!INCLUDE[prod_short](includes/prod_short.md)] также поддерживает настраиваемые расширения принтера, которые добавляют еще больше функций печати. Поэтому, если установлены какие-либо пользовательские расширения принтера, ваше приложение может включать функции печати, которые не описаны в этой статье. 

## <a name="set-up-universal-print"></a>Настройка универсальной печати

Универсальная печать — это служба на основе подписки Microsoft 365, полностью работающая на Microsoft Azure. Она обеспечивает централизованное управление принтером через портал универсальной печати. [!INCLUDE[prod_short](includes/prod_short.md)] делает принтеры, настроенные в универсальной печати, доступными для пользователей клиентов через расширение **Интеграция универсальной печати**.

![Настройка универсальной печати.](media/Universal-Print-arch.png)

Полная настройка требует, чтобы вы работали как в Microsoft Azure с помощью [Портала Azure](https://portal.azure.com), так и в [!INCLUDE[prod_short](includes/prod_short.md)].

### <a name="supported-printers"></a>Поддерживаемые принтеры

[!INCLUDE[prod_short](includes/prod_short.md)] поддерживает те же принтеры, что и универсальная печать, и эти принтеры могут быть как совместимые с универсальной печатью, так и несовместимые. Несовместимые принтеры не могут напрямую взаимодействовать с универсальной печатью, поэтому им требуется дополнительное программное обеспечение для подключения, которое предоставляется универсальной печатью. Некоторые старые принтеры могут не поддерживаться. 

<!-- TODO If not installed, go to AppSource -->

### <a name="prerequisites"></a>Предварительные требования

**Для [!INCLUDE[prod_short](includes/prod_short.md)]**

- [!INCLUDE[prod_short](includes/prod_short.md)] выпуск 2021, волна 1, или новее
- Установлено расширение **Интеграция универсальной печати**

    Это расширение публикуется и устанавливается по умолчанию как часть сетевой и локальной версии [!INCLUDE[prod_short](includes/prod_short.md)].  Вы можете проверить, установлено ли оно, на странице **Управление расширениями**. Дополнительные сведения см. в разделе [Установка и удаление расширений в Business Central](ui-extensions-install-uninstall.md).
- [!INCLUDE[prod_short](includes/prod_short.md)] On-premises:
  - Проверка подлинности Azure Active Directory (AD) или NavUserPassword настроена
  - Приложение для Business Central регистрируется в вашем клиенте Azure AD и [!INCLUDE[prod_short](includes/prod_short.md)]

      Как и другие службы Azure, которые работают с [!INCLUDE[prod_short](includes/prod_short.md)], универсальная печать требует регистрации приложения для [!INCLUDE[prod_short](includes/prod_short.md)] в Azure Active Directory (Azure AD). Регистрация приложения предоставляет услуги аутентификации и авторизации между [!INCLUDE[prod_short](includes/prod_short.md)] и универсальной печатью.

      Ваше развертывание может уже использовать регистрацию приложения для других служб Azure, например Power BI. Если да, то используйте существующую регистрацию приложения для универсальной печати, а не добавляйте новую. Единственное, что вам нужно сделать в этом случае, — это изменить регистрацию приложения, чтобы включить соответствующие разрешения на печать для Microsoft Graph API.

      Чтобы зарегистрировать приложение и установить соответствующие разрешения, выполните действия, описанные в разделе [Регистрация приложения в Azure Active Directory](/dynamics365/business-central/dev-itpro/administration/register-app-azure#register-an-application-in-azure-active-directory).

**Для универсальной печати**

- Подписка/лицензия на универсальную печать для вашей организации.

    Для получения дополнительной информации см. раздел [Лицензия универсальной печати](/universal-print/fundamentals/universal-print-license).

- В вас есть роли **Управление принтером** и **Глобальный администратор** в Azure.

    Для управления универсальной печатью ваша учетная запись должна иметь роли **Управление принтером** и **Глобальный администратор** в Azure AD. Эти роли необходимы только для управления универсальной печатью. Они не требуются пользователям для использования принтеров из [!INCLUDE[prod_short](includes/prod_short.md)].

### <a name="set-up-universal-print-and-add-printers-in-microsoft-azure"></a>Настройка универсальной печати и добавление принтеров в Microsoft Azure

Прежде чем вы сможете начать управлять принтерами универсальной печати в Business Central, вам необходимо выполнить несколько задач, чтобы настроить универсальную печать и запустить ее в Azure с теми принтерами, которые вы хотите использовать.

Подробные инструкции по настройке см. в разделе [Начало работы: настройка универсальной печати](/universal-print/fundamentals/universal-print-getting-started) в документации по универсальной печати. Вот обзор шагов, которые вам необходимо выполнить. Большинство этих шагов выполняется на портале Azure.

1. Назначьте лицензии универсальной печати себе и другим пользователям.

    Как вы назначаете лицензию, зависит от того, интегрируетесь ли вы с Business Central Online или On-Premises.

    - С [!INCLUDE[prod_short](includes/prod_short.md)] Online вы назначаете лицензии с помощью центра администрирования Microsoft 365.

      Дополнительные сведения см. в разделе [Справка центра администрирования Microsoft — назначение лицензий пользователям](/microsoft-365/admin/manage/assign-licenses-to-users).

    - С [!INCLUDE[prod_short](includes/prod_short.md)] On-Premises вы назначаете лицензии в своем клиенте Azure с помощью портала Azure.

      Дополнительные сведения см. в разделе [Каталог Azure — назначение или удаление лицензии на портале Azure Active Directory](/azure/active-directory/fundamentals/license-users-groups).

2. Установите соединитель универсальной печати для регистрации принтеров, которые не могут напрямую взаимодействовать с универсальной печатью.

    Большинство имеющихся на рынке принтеров не могут напрямую взаимодействовать со службой универсальной печати. Для этих принтеров вам необходимо установить соединитель универсальной печати. Дополнительные сведения см. в разделе [Установка соединителя универсальной печати](/universal-print/fundamentals/universal-print-connector-installation).

3. Зарегистрируйте свои принтеры в службе универсальной печати.

    При регистрации принтера служба универсальной печати узнает о принтере.

    - Для принтеров, которые могут напрямую взаимодействовать со службой универсальной печати, следуйте инструкциям производителя принтера.

    - Для других принтеров зарегистрируйте принтеры с помощью соединителя универсальной печати. 

      Дополнительные сведения см. в разделе [Регистрация принтера](/universal-print/fundamentals/universal-print-connector-printer-registration).

4. Изменение свойств принтера (необязательно)

    После регистрации принтера вы можете просматривать и изменять свойства принтера, например настройки по умолчанию.

    Для получения дополнительной информации см. [Управление настройками принтера с помощью портала универсальной печати](/universal-print/portal/configure-printer-settings).

5. Предоставьте общий доступ к принтерам.

    Любой принтер, который вы хотите использовать в [!INCLUDE[prod_short](includes/prod_short.md)], необходимо будет открыть для общего доступа в службе универсальной печати.

    <!--For more information, see [Share a Printer](/universal-print/fundamentals/universal-print-printer-permissions#share-a-printer). -->

    Дополнительные сведения см. в разделе [Общий доступ к принтеру](/universal-print/portal/share-printers).

6. Дайте пользователям разрешение на использование общих принтеров.

    <!--For more information, see [Printer Permissions](/universal-print/fundamentals/universal-print-printer-permissions#printer-permissions).-->

    Дополнительные сведения см. в разделе [Разрешения для принтера](/universal-print/portal/share-printers#configure-user-permissions-for-a-printer-share).


7. Включите преобразование документов.

    Универсальная печать отображает содержимое для печати в формате XPS. Некоторые существующие на рынке принтеры не поддерживают рендеринг содержимого XPS &mdash; во многих случаях поддерживается только формат PDF. Печать на этих принтерах завершится ошибкой, если служба универсальной печати не настроена для преобразования документов в формат, поддерживаемый принтером.

    Дополнительные сведения см. в разделе [Обзор преобразования документов](/universal-print/portal/document-conversion).

Теперь вы готовы добавить принтеры в [!INCLUDE[prod_short](includes/prod_short.md)], настроить принтеры по умолчанию для отчетов и начинать печатать.  

### <a name="add-universal-printer-printers-to-business-central"></a>Добавление принтеров универсальной печати в Business Central

После того как принтеры настроены и к ним предоставлен общий доступ в службе универсальной печати, вы готовы к их использованию в Business Central. Есть два способа добавить принтеры универсальной печати. Вы можете добавить принтеры все сразу или по отдельности.

Добавление принтеров по отдельности позволяет настраивать один и тот же принтер универсальной печати в Business Central более одного раза. Затем для каждого добавленного принтера вы можете изменить настройки печати, такие как лоток для бумаги, размер и ориентация. Таким образом вы можете настроить принтеры для различных отчетов и документов, требующих особого вывода.
  
<!-- To Do Adding printers individually lets you duplicate printers with custom , like different paper trays and paper size and orientation.  To add printers individually, you'll need to know printer's share name in Universal Print. -->

1. Выберите ![Лампочка, которая открывает функцию Что вы хотите сделать.](media/ui-search/search_small.png "Что вы хотите сделать") значок введите **Управление принтером**, а затем выберите связанную ссылку.
2. Выберите пункт **Универсальная печать**, затем выберите один из следующих параметров:

    - **Добавить все принтеры универсальной печати**, чтобы добавить все принтеры, которые еще не добавлены. Вы можете использовать этот параметр, даже если принтеры уже добавлены. 

    - **Добавить принтер универсальной печати**, чтобы добавить конкретный принтер.  
3. Следуйте инструкциям на экране.

    - Если вы выбрали **Добавить все принтеры универсальной печати**, то запускается настройка **Добавление принтеров универсальной печати**. <!--This setup leads you through the process of verifying your Azure AD setup (for on-premises), checking your Universal Print license, and then finally adding the printers.-->

    - Если вы выбрали **Добавить принтер универсальной печати**, то откроется страница **Параметры универсальной печати**. Заполните поле **Имя**, выберите **...** рядом с полем **Общий ресурс печати в универсальной печати**, чтобы выбрать принтер универсальной печати. Заполните требуемым образом остальные поля. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)].
  
    Эти действия проверяют вашу настройку Azure AD (для локальной версии), убедитесь, что у вас есть лицензия на универсальную печать, а затем, наконец, добавьте принтеры.

    > [!NOTE]
    > Для локальной версии, если вы подключаетесь к службе универсальной печати впервые, появится страница РАЗРЕШЕНИЯ СЛУЖБЫ AZURE ACTIVE DIRECTORY, и вам будет предложено дать согласие на использование служб Azure. Вам нужно дать согласие только один раз.

После добавления принтера вы можете просматривать и изменять его настройки в разделе **Управление принтером**. Просто выберите принтер, затем выберите **Изменить параметры принтера**. 

<!--
### Troubleshooting

#### You don't see the a printer in the 

The printer is not shared in Universal Print.

### You get an error when tryong to add all or a single printer

You have'nt been assigned a Uincersla Print license.

There was an error fetching printers shared to you. You don't have access to the data. Make sure your account has been assigned a Universal Print license and you have the required permissions.
or 
You don't seem to have access to Universal Print. Make sure you have a Universal Print subscription, and that your account has been assigned a Universal Print license.

## Could not upload the document to print job 50.

There is a technical problem withe the printer. Unsupported document-format: application/pdf. Supported formats: Attribute document-format-supported: SimpleIppValue-Type:MimeMediaType-Value:application/oxps

## You don't have access to the printer

- You have not been assigned a Up license
- You have not been given access to the printer in UP.
- (On-prem) The app registration has been broken
-->
## <a name="set-up-email-print"></a>Настройка печати по электронной почте

### <a name="prerequisites"></a>Предварительные требования

- [!INCLUDE[prod_short](includes/prod_short.md)] выпуск 2020, волна 1, или новее
- Установлено расширение **Отправить на принтер с поддержкой электронной почты**

    Это расширение установлено по умолчанию. Для получения информации об установке расширений см. 
- Функциональность электронной почты настроена.

   Дополнительные сведения см. в разделе [Настройка электронной почты](admin-how-setup-email.md).

### <a name="add-an-email-printer"></a>Добавление принтера, работающего по электронной почте

На странице **Управление принтерами** отображаются принтеры, которые в настоящее время настроены. Эта страница также дает вам доступ к странице **Параметры** для каждого принтера, чтобы изменить существующую настройку или настроить новый принтер.

1. Выберите ![Лампочка, которая открывает функцию Что вы хотите сделать.](media/ui-search/search_small.png "Что вы хотите сделать") значок введите **Управление принтером**, а затем выберите связанную ссылку.
2. Выберите **Печать по электронной почте**, затем выберите **Добавление принтера, работающего по электронной почте**.
3. На странице **Параметры принтера электронной почты** заполните поля по мере необходимости. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]

    > [!NOTE]
    > Вы должны вручную выбрать подходящий размер бумаги для принтера, поскольку локальный принтер или пользовательские настройки не могут быть сохранены.
    >
    > Помните, что в расширении "Принтер электронной почты" по умолчанию установлен формат бумаги **A4**, который не подходит, например, в Северной Америке.

### <a name="privacy-notice"></a>Заявление о конфиденциальности

Если вы используете расширение "Принтер электронной почты", то все или некоторые задания на печать будут отправлены на адрес электронной почты, который настроен для принтера. Мы настоятельно рекомендуем привязывать уникальный идентификатор электронной почты к устройству печати, используя только официальные службы, предоставляемые производителем оборудования, такие как HP ePrint, KonicaMinolta EveryonePrint или Epson Email Print.

Примите все необходимые меры предосторожности в отношении конфиденциальности, в том числе убедитесь, что в решении для печати по электронной почте правильно настроены разрешения, параметры конфиденциальности и политики хранения. Вы несете ответственность за предоставление правильного, проверенного и действующего адреса электронной почты. Дополнительные сведения см. в разделе [Заявление о конфиденциальности Майкрософт](https://privacy.microsoft.com/privacystatement).


## <a name="set-up-default-printers"></a><a name="default"></a>Настройка принтеров по умолчанию

Есть несколько способов настроить принтеры, которые будут использоваться по умолчанию для заданий печати. Принтер по умолчанию удобен, если вы работаете с разными отчетами, для которых требуются разные принтеры из-за их размещения в компании или из-за их возможностей вывода.

### <a name="set-a-printer-as-a-default-printer-for-all-print-jobs"></a>Установка принтера в качестве принтера по умолчанию для всех заданий печати

Страница **Управление принтерами** позволяет настроить принтер в качестве принтера по умолчанию для всех заданий печати. Вы можете указать принтер по умолчанию только для вас или для всех пользователей.

1. Выберите ![Лампочка, которая открывает функцию Что вы хотите сделать.](media/ui-search/search_small.png "Что вы хотите сделать") значок введите **Управление принтером**, а затем выберите связанную ссылку.

    > [!TIP]
    > Вы также можете открыть страницу **Управление принтером** со страницы **Выбор принтера**, выбрав **Управление принтерами**.  
2. На странице **Управление принтерами** выберите принтер из списка, выберите **Управление**, затем выберите **Установить в качестве принтера по умолчанию для меня** или **Установить в качестве принтера по умолчанию для всех пользователей**.

> [!NOTE]
> При установке принтера по умолчанию из пункта **Управление принтерами** будет добавлена запись в пункте **Выбор принтера**.

### <a name="set-a-default-printer-for-specific-reports"></a>Установка принтера по умолчанию для конкретных отчетов

На странице **Выбор принтера** вы можете указать принтер, который отчет будет использовать по умолчанию. Принтеры по умолчанию устанавливаются на основе учетной записи пользователя. Вы можете установить принтер по умолчанию только для себя, для другого пользователя или для всех пользователей.

> [!IMPORTANT]
> Для [!INCLUDE[prod_short](includes/prod_short.md)] On-Premises страница **Выбор принтера** может использоваться только для облачных принтеров, определенных расширениями принтера, такими как принтеры печати по электронной почте и универсальной печати. Ее нельзя использовать для локальных принтеров.

1. Выберите ![Лампочка, которая открывает функцию Что вы хотите сделать.](media/ui-search/search_small.png "Что вы хотите сделать") значок введите **Выбор принтера**, а затем выберите связанную ссылку. Вместо этого можно на странице **Управление принтерами** выбрать принтер, затем выбрать действие **Выбор принтера**.
2. Выберите действие **Создать**, чтобы добавить выбор принтера для конкретного отчета.
3. Заполните соответствующим образом поля.

Теперь указанный отчет настроен для печати на выбранном принтере по умолчанию.

> [!NOTE]
> Когда вы распечатываете рассматриваемый отчет, вы можете выбрать другой, используя поле **Печать** на странице запроса.

> [!NOTE]
> Если вы не настроите отчет для определенного принтера на странице **Выбор принтера**, то он будет напечатан на принтере компании по умолчанию, как это определено на странице **Управление принтерами**.

Вы или администратор также можете использовать станицу **Выбор принтера**, чтобы определить другие варианты печати для пользователей и отчетов. В следующей таблице описывается комбинация значений для указания другой настройки печати для отчета.

|Задача                                                 |Установите следующие значения                                             |
|---------------------------------------------------|---------------------------------------------------------------------|
|Печать отчета на определенном принтере для всех пользователей |Укажите значения в полях **Номер отчета** и **Название принтера** и оставьте поле **Код пользователя** пустым.|
|Печать всех отчетов на принтере для определенного пользователя|Укажите значения в полях **Код пользователя** и **Название принтера** и оставьте поле **Номер отчета** пустым. Эта запись делает то же самое, что и действие **Установить в качестве принтера по умолчанию для меня** на странице **Управление печатью**.|
|Установка принтера по умолчанию для всех отчетов для всех пользователей|Укажите значение в поле **Название принтера** и оставьте поля **Код пользователя** и **Номер отчета** пустыми. Эта запись делает то же самое, что и действие **Установить в качестве принтера по умолчанию для всех пользователей** на странице **Управление печатью**.|
|Печать определенного отчета на принтере пользователя по умолчанию|Укажите значение в поле **Номер отчета** и оставьте поля **Название принтера** и **Код пользователя** пустыми.|
|Печать определенного отчета на принтере для определенного пользователя|Укажите значения во всех трех полях.|

> [!NOTE]
> Более конкретные значения выбора принтера имеют преимущество над общим выбором принтера. Например, параметры выбора принтера, которые имеют значения в полях **Код пользователя**, **Код отчета** и **Имя принтера**, имеют приоритет над параметрами выбора принтера, которые имеют пустые записи в поле **Код пользователя** или **Код отчета**.

### <a name="choosing-the-printer-when-running-a-report"></a>Выбор принтера при запуске отчета
Вместо использования принтера по умолчанию при запуске отчета вы можете переопределить этот параметр на странице запроса. Просто выберите, какой принтер вы хотите использовать для этого вызова отчета в раскрывающемся меню **Принтер**.

### <a name="sizing-print-jobs"></a>Величина заданий печати

Облачная печать предназначена для документов разумного размера. Большинство облачных служб, включая PrintNode и HP ePrint, имеют ограничение в 10 МБ на одно задание. Если вам нужно печатать более объемные отчеты, возможно, вам придется разделить их на несколько распечаток.

## <a name="see-also"></a>См. также

[Печать отчета](ui-work-report.md#PrintReport)  
[Работа с [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)  
[Запуск пакетных заданий](ui-how-run-batch-jobs.md)  
[Отправка документов по электронной почте](ui-how-send-documents-email.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
