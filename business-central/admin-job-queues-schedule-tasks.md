---
title: Планирование автоматического выполнения работ | Документы Майкрософт
description: Запланированные задания обрабатываются очередью работ. Эти работы выполняют отчеты и модули Codeunit. В настройках можно указать однократное или периодически повторяющееся выполнение работы.
author: edupont04
ms.service: dynamics365-business-central
ms.topic: article
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms.search.keywords: ''
ms.date: 03/01/2019
ms.author: edupont
ms.openlocfilehash: 384bb86a6d6a7384af287d8bbd13a506e1bfcfe1
ms.sourcegitcommit: 1bcfaa99ea302e6b84b8361ca02730b135557fc1
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 03/08/2019
ms.locfileid: "804384"
---
# <a name="use-job-queues-to-schedule-tasks"></a><span data-ttu-id="64187-105">Использование очередей работ для планирования задач</span><span class="sxs-lookup"><span data-stu-id="64187-105">Use Job Queues to Schedule Tasks</span></span>
<span data-ttu-id="64187-106">Очереди работ в [!INCLUDE[d365fin](includes/d365fin_md.md)] позволяют пользователям планировать и создавать определенные отчеты, а также запускать модули codeunit.</span><span class="sxs-lookup"><span data-stu-id="64187-106">Job queues in [!INCLUDE[d365fin](includes/d365fin_md.md)] enables users to schedule and run specific reports and codeunits.</span></span> <span data-ttu-id="64187-107">В настройках можно указать однократное или периодически повторяющееся выполнение работы.</span><span class="sxs-lookup"><span data-stu-id="64187-107">You can set jobs to run one time, or on a recurring basis.</span></span> <span data-ttu-id="64187-108">Например, можно еженедельно составлять отчет **Менеджер - статистика продаж** для отслеживания продаж по менеджеру каждую неделю или ежедневно запускать модуль Codeunit **Обработка очереди сообщений серв. обслуживания** для обеспечения своевременной отправки клиентам ожидающих сообщений электронной почты, касающихся их сервисных заказов.</span><span class="sxs-lookup"><span data-stu-id="64187-108">For example, you might want to run the **Salesperson - Sales Statistics** report weekly, to track sales by salesperson each week, or you might want to run the **Process Service E-mail Queue** codeunit daily, to make sure pending email messages to customers regarding their service orders are sent out in a timely manner.</span></span>

<span data-ttu-id="64187-109">На странице **Операции очереди работ** перечисляются все существующие работы.</span><span class="sxs-lookup"><span data-stu-id="64187-109">The **Job Queue Entries** page lists all existing jobs.</span></span> <span data-ttu-id="64187-110">При добавлении новой записи очереди заданий, которую нужно запланировать, необходимо указать сведения о типе объекта, который должен запускаться, например отчет или кодовая единица,а также имя и код объекта, который необходимо запустить.</span><span class="sxs-lookup"><span data-stu-id="64187-110">If you add a new job queue entry that you want to schedule, you must specify information about the type of object you want to run, such as a report or codeunit, and the name and object ID of the object that you want to run.</span></span> <span data-ttu-id="64187-111">Можно также добавлять параметры для определения поведения операции очереди заданий.</span><span class="sxs-lookup"><span data-stu-id="64187-111">You can also add parameters to specify the behavior of the job queue entry.</span></span> <span data-ttu-id="64187-112">Например, можно добавить параметр, чтобы только отправить учтенные заказы на продажу.</span><span class="sxs-lookup"><span data-stu-id="64187-112">For example, you can add a parameter to only send posted sales orders.</span></span> <span data-ttu-id="64187-113">У вас должны быть права на запуск указанного отчета или модуля codeunit, в противном случае при выполнении очереди работ будет возвращена ошибка.</span><span class="sxs-lookup"><span data-stu-id="64187-113">You must have permission to run the particular report or codeunit, or an error will be returned when the job queue is run.</span></span>  

<span data-ttu-id="64187-114">Очередь заданий может состоять из большого количества операций, представляющих собой задания, которыми управляет очередь и запускает их.</span><span class="sxs-lookup"><span data-stu-id="64187-114">A job queue can have many entries, which are the jobs that the queue manages and runs.</span></span> <span data-ttu-id="64187-115">Информация в записи определяет, какой отчет или модуль codeunit выполняется, как часто и когда запускается запись, в какой категории запускается задача и каким образом.</span><span class="sxs-lookup"><span data-stu-id="64187-115">Information in the entry specifies what codeunit or report is run, when and how often the entry is run, in what category the job runs, and how it runs.</span></span>  

## <a name="to-set-up-background-posting-with-job-queues"></a><span data-ttu-id="64187-116">Настройка фонового учета с очередями работ</span><span class="sxs-lookup"><span data-stu-id="64187-116">To set up background posting with job queues</span></span>
<span data-ttu-id="64187-117">Очереди заданий — это эффективный инструмент для фонового планирования хода бизнес-процессов, например когда несколько пользователей пытаются выполнить учет заказов на продажу, но только один заказ может обрабатываться одновременно.</span><span class="sxs-lookup"><span data-stu-id="64187-117">Job queues are an effective tool to schedule the running of business processes in the background, such as when multiple users are trying to post sales orders, but only one order can be processed at a time.</span></span> <span data-ttu-id="64187-118">Кроме того, можно планировать учет на часы, в которые это удобно для вашей организации.</span><span class="sxs-lookup"><span data-stu-id="64187-118">Alternatively, you may want to schedule postings for hours when it is convenient for your organization.</span></span> <span data-ttu-id="64187-119">Например, может иметь смысл для бизнеса выполнять некоторые процедуры после ввода большинства данных за день.</span><span class="sxs-lookup"><span data-stu-id="64187-119">For example, it may make sense in your business to run certain routines when most of the data entry for the day has concluded.</span></span>

<span data-ttu-id="64187-120">Для этого настройте очередь работ для выполнения различных отчетов по пакетному учету, например **Пакет. учет заказов продажи**, **Пакет. учет счетов продажи**, **Пакетный учет возвратов продажи** и **Пакет. учет кредит-нот продажи**.</span><span class="sxs-lookup"><span data-stu-id="64187-120">You can achieve this by setting the job queue up to run various batch-posting reports, such as the **Batch Post Sales Orders**, **Batch Post Sales Invoices**, **Batch Post Sales Return Orders**, and **Batch Post Sales Credit Memos** reports.</span></span> <span data-ttu-id="64187-121">Дополнительные сведения см. в разделе [Создание записи очереди заданий для фонового учета заказов на продажу](admin-job-queues-schedule-tasks.md#to-create-a-job-queue-entry-for-batch-posting-of-sales-orders).</span><span class="sxs-lookup"><span data-stu-id="64187-121">For more information, see [To create a job queue entry for background sales order posting](admin-job-queues-schedule-tasks.md#to-create-a-job-queue-entry-for-batch-posting-of-sales-orders).</span></span>  

[!INCLUDE[d365fin](includes/d365fin_md.md)] <span data-ttu-id="64187-122">поддерживает фоновый учет для всех документов на продажи, покупки и сервис.</span><span class="sxs-lookup"><span data-stu-id="64187-122">supports background posting for all sales, purchasing, and service documents.</span></span>

<span data-ttu-id="64187-123">В следующей процедуре объясняется, как настроить фоновый учет для заказов на продажу.</span><span class="sxs-lookup"><span data-stu-id="64187-123">The following procedure explains how to set up background posting of sales orders.</span></span> <span data-ttu-id="64187-124">Действия для покупок и сервиса аналогичны.</span><span class="sxs-lookup"><span data-stu-id="64187-124">The steps are similar for purchasing and service.</span></span>  

1. <span data-ttu-id="64187-125">Выберите значок ![Лампочка, которая открывает функцию Что вы хотите сделать](media/ui-search/search_small.png "Что вы хотите сделать"), введите **Настройка модуля "Продажи"**, затем выберите связанную ссылку.</span><span class="sxs-lookup"><span data-stu-id="64187-125">Choose the ![Lightbulb that opens the Tell Me feature](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Sales & Receivables Setup**, and then choose the related link.</span></span>
2. <span data-ttu-id="64187-126">На странице **Пакетный учет возвратов продажи** установите флажок **Разнести в очереди работ**.</span><span class="sxs-lookup"><span data-stu-id="64187-126">On the **Sales & Receivables Setup** page, choose the **Post with Job Queue** check box.</span></span>
3. <span data-ttu-id="64187-127">Чтобы выполнить фильтрацию записей очереди заданий для учета заказов на продажу, выберите поле **Код категории очереди работ**, затем выберите категорию **SalesPost**.</span><span class="sxs-lookup"><span data-stu-id="64187-127">To filter to job queue entries for sales order posting, choose the **Job Queue Category Code** field, and then select the **SalesPost** category.</span></span>

    <span data-ttu-id="64187-128">Создается объект очереди заданий codeunit 88 **Учет продаж через очередь заданий**.</span><span class="sxs-lookup"><span data-stu-id="64187-128">A job queue object, codeunit 88 **Sales Post via Job Queue**, is created.</span></span> <span data-ttu-id="64187-129">Теперь можно включить его на странице **Операции очереди работ**.</span><span class="sxs-lookup"><span data-stu-id="64187-129">Proceed to enable it on the **Job Queue Entries** page.</span></span>
4. <span data-ttu-id="64187-130">Выберите значок ![Лампочка, которая открывает функцию Что вы хотите сделать](media/ui-search/search_small.png "Что вы хотите сделать"), введите **Операции очереди работ**, затем выберите связанную ссылку.</span><span class="sxs-lookup"><span data-stu-id="64187-130">Choose the ![Lightbulb that opens the Tell Me feature](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Job Queue Entries**, and then choose the related link.</span></span>
5. <span data-ttu-id="64187-131">На странице **Операции очереди работ** выберите действие **Создать**.</span><span class="sxs-lookup"><span data-stu-id="64187-131">On the **Job Queue Entries** page, choose the **New** action.</span></span>
6. <span data-ttu-id="64187-132">В поле **Тип запускаемого объекта** выберите **Модуль Codeunit**.</span><span class="sxs-lookup"><span data-stu-id="64187-132">In the **Object Type to Run** field, select **Codeunit**.</span></span>  
7. <span data-ttu-id="64187-133">В поле **Номер запускаемого объекта** выберите 88, **Учет продаж через очередь заданий**.</span><span class="sxs-lookup"><span data-stu-id="64187-133">In the **Object ID to Run** field, select 88, **Sales Post via Job Queue**.</span></span>

    <span data-ttu-id="64187-134">Все остальные поля не важны для данного сценария.</span><span class="sxs-lookup"><span data-stu-id="64187-134">No other fields are relevant for this scenario.</span></span>
8. <span data-ttu-id="64187-135">Выберите действие **Установить статус "Готово"**.</span><span class="sxs-lookup"><span data-stu-id="64187-135">Choose the **Set Status to Ready** action.</span></span>
9. <span data-ttu-id="64187-136">Чтобы убедиться, что очередь заданий работает как ожидалось, выполните учет заказа на продажу.</span><span class="sxs-lookup"><span data-stu-id="64187-136">To verify that the job queue is working as expected, post a sales order.</span></span> <span data-ttu-id="64187-137">Дополнительные сведения см. в разделе [Продажа продукции](sales-how-sell-products.md).</span><span class="sxs-lookup"><span data-stu-id="64187-137">For more information, see [Sell Products](sales-how-sell-products.md).</span></span>
10. <span data-ttu-id="64187-138">Проверьте на странице **Операции журнала очереди работ**, был ли заказ продажи учтен успешно.</span><span class="sxs-lookup"><span data-stu-id="64187-138">Review on the **Job Queue Log Entries** page if the sales order was posted successfully.</span></span> <span data-ttu-id="64187-139">Дополнительные сведения см. в разделе [Просмотр состояния или ошибок в очереди работ](admin-job-queues-schedule-tasks.md#to-view-status-or-errors-in-the-job-queue).</span><span class="sxs-lookup"><span data-stu-id="64187-139">For more information, see [To view status or errors in the job queue](admin-job-queues-schedule-tasks.md#to-view-status-or-errors-in-the-job-queue).</span></span>

<span data-ttu-id="64187-140">Если необходимо также печатать документы продажи при их учете, установите флажок **Разнести и распечатать в очереди работ** на странице **Настройка модуля "Продажи"**.</span><span class="sxs-lookup"><span data-stu-id="64187-140">If you also want sales documents to be printed when they are posted, select the **Post & Print with Job Queue** check box on the **Sales & Receivables Setup** page.</span></span>  

> [!IMPORTANT]  
> <span data-ttu-id="64187-141">Если настроена работа, которая будет учитывать и печатать документы, и при отправке документа на печать принтер открывает диалоговое окно, например запрос для учетных данных или предупреждение о низком уровне чернил, то данный документ учитывается, но не печатается.</span><span class="sxs-lookup"><span data-stu-id="64187-141">If you set up a job that will post and print documents, and the printer displays a dialog box, such as a request for credentials or a warning about low printer ink, your document is posted but not printed.</span></span> <span data-ttu-id="64187-142">Соответствующая операция очереди работ в конечном итоге истекает, и в поле **Статус** задается **Ошибка**.</span><span class="sxs-lookup"><span data-stu-id="64187-142">The corresponding job queue entry eventually times out and the **Status** field is set to **Error**.</span></span> <span data-ttu-id="64187-143">Соответственно, рекомендуется не использовать настройку принтера, требующую взаимодействия с отображаемыми диалоговыми окнами печати в сочетании с фоновым учетом.</span><span class="sxs-lookup"><span data-stu-id="64187-143">Accordingly, we recommend that you do not use a printer setup that requires interaction with the display of printer dialog boxes in conjunction with background posting.</span></span>

## <a name="to-create-a-job-queue-entry-for-batch-posting-of-sales-orders"></a><span data-ttu-id="64187-144">Создание записи очереди заданий для фонового учета заказов на продажу</span><span class="sxs-lookup"><span data-stu-id="64187-144">To create a job queue entry for batch posting of sales orders</span></span>
<span data-ttu-id="64187-145">Ниже приводится процедура настройки отчета **Пакет. учет заказов продажи** для автоматического учета выпущенных заказов на продажу в 16:00 по будним дням.</span><span class="sxs-lookup"><span data-stu-id="64187-145">The following procedure shows how to set the **Batch Post Sales Orders** report up to automatically post released sales orders at 4 PM on week days.</span></span>  

1. <span data-ttu-id="64187-146">Выберите значок ![Лампочка, которая открывает функцию Что вы хотите сделать](media/ui-search/search_small.png "Что вы хотите сделать"), введите **Операции очереди работ**, затем выберите связанную ссылку.</span><span class="sxs-lookup"><span data-stu-id="64187-146">Choose the ![Lightbulb that opens the Tell Me feature](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Job Queue Entries**, and then choose the related link.</span></span>  
2. <span data-ttu-id="64187-147">Выберите действие **Создать**.</span><span class="sxs-lookup"><span data-stu-id="64187-147">Choose the **New** action.</span></span>  
3. <span data-ttu-id="64187-148">В поле **Тип запускаемого объекта** выберите **Отчет**.</span><span class="sxs-lookup"><span data-stu-id="64187-148">In the **Object Type to Run** field, select **Report**.</span></span>  
4. <span data-ttu-id="64187-149">В поле **Номер запускаемого объекта** выберите 296, **Пакет. учет заказов продажи**.</span><span class="sxs-lookup"><span data-stu-id="64187-149">In the **Object ID to Run** field, select 296, **Batch Post Sales Orders**.</span></span>
5. <span data-ttu-id="64187-150">Установите флажок **Страница запроса отчета**.</span><span class="sxs-lookup"><span data-stu-id="64187-150">Select the **Report Request Page** check box.</span></span>
6. <span data-ttu-id="64187-151">На странице запроса **Пакет. учет заказов продажи** укажите, что включено в процессе автоматического учета заказов на продажу, затем нажмите кнопку **ОК**.</span><span class="sxs-lookup"><span data-stu-id="64187-151">In the **Batch Post Sales Orders** request page, define what is included during automatic posting of sales orders, and then choose the **OK** button.</span></span>
7. <span data-ttu-id="64187-152">Установите все флажки от **Запускать по понедельникам** до **Запускать по пятницам**.</span><span class="sxs-lookup"><span data-stu-id="64187-152">Select all check boxes from **Run on Mondays** through **Run on Fridays**.</span></span>
8. <span data-ttu-id="64187-153">В поле **Время начала** введите 16:00.</span><span class="sxs-lookup"><span data-stu-id="64187-153">In the **Starting Time** field, enter 4 PM.</span></span>
9. <span data-ttu-id="64187-154">Выберите действие **Установить статус "Готово"**.</span><span class="sxs-lookup"><span data-stu-id="64187-154">Choose the **Set Status to Ready** action.</span></span>

<span data-ttu-id="64187-155">Заказы на продажу, которые готовы к учету, теперь будут учитываться каждый будний день в 16:00.</span><span class="sxs-lookup"><span data-stu-id="64187-155">Sales orders that are ready to post will now be posted every week day at 4 PM.</span></span>

> [!NOTE]
> <span data-ttu-id="64187-156">Если очередь заданий не может выполнить учет заказа на продажу, статус меняется на **Ошибка**, и заказ на продажу добавляется в список заказов, которые пользователь должен обработать вручную.</span><span class="sxs-lookup"><span data-stu-id="64187-156">If the job queue cannot post the sales order, the status is changed to **Error** and the sales order is added to the list of sales orders that the user must handle manually.</span></span> <span data-ttu-id="64187-157">Дополнительные сведения см. в разделе [Просмотр состояния или ошибок в очереди работ](admin-job-queues-schedule-tasks.md#to-view-status-or-errors-in-the-job-queue).</span><span class="sxs-lookup"><span data-stu-id="64187-157">For more information, see [To view status or errors in the job queue](admin-job-queues-schedule-tasks.md#to-view-status-or-errors-in-the-job-queue).</span></span>

<span data-ttu-id="64187-158">После того как очереди заданий настроены и работают, статус может изменяться в пределах каждого повторяющегося периода, как указано ниже:</span><span class="sxs-lookup"><span data-stu-id="64187-158">After job queues are set up and running, the status can change as follows within each recurring period:</span></span>

* <span data-ttu-id="64187-159">**На удержании**</span><span class="sxs-lookup"><span data-stu-id="64187-159">**On Hold**</span></span>  
* <span data-ttu-id="64187-160">**Готово**</span><span class="sxs-lookup"><span data-stu-id="64187-160">**Ready**</span></span>  
* <span data-ttu-id="64187-161">**В работе**</span><span class="sxs-lookup"><span data-stu-id="64187-161">**In Process**</span></span>  
* <span data-ttu-id="64187-162">**Ошибка**</span><span class="sxs-lookup"><span data-stu-id="64187-162">**Error**</span></span>  
* <span data-ttu-id="64187-163">**Завершен**</span><span class="sxs-lookup"><span data-stu-id="64187-163">**Finished**</span></span>  

<span data-ttu-id="64187-164">После успешного выполнения задания оно будет удалено из списка операций очереди заданий, если только это задание не является повторяющимся.</span><span class="sxs-lookup"><span data-stu-id="64187-164">After a job has finished successfully, it is removed from the list of job queue entries unless it is a recurring job.</span></span> <span data-ttu-id="64187-165">Если это повторяющаяся работа, поле **Самая ранняя дата/время начала** показывает, когда ожидается следующий запуск задания.</span><span class="sxs-lookup"><span data-stu-id="64187-165">If it is a recurring job, the **Earliest Start Time** field is adjusted to show the next time that the job is expected to run.</span></span>  

## <a name="to-view-status-or-errors-in-the-job-queue"></a><span data-ttu-id="64187-166">Просмотр состояния или ошибок в очереди работ</span><span class="sxs-lookup"><span data-stu-id="64187-166">To view status or errors in the job queue</span></span>
<span data-ttu-id="64187-167">Данные, произведенные при выполнении очереди заданий, хранятся в базе данных, чтобы можно было устранить ошибки очереди работ.</span><span class="sxs-lookup"><span data-stu-id="64187-167">Data that is generated when a job queue is run is stored in the database, so that you can troubleshoot job queue errors.</span></span>

### <a name="to-view-status-for-any-job"></a><span data-ttu-id="64187-168">Просмотр статуса любого задания</span><span class="sxs-lookup"><span data-stu-id="64187-168">To view status for any job</span></span>
1. <span data-ttu-id="64187-169">Выберите значок ![Лампочка, которая открывает функцию Что вы хотите сделать](media/ui-search/search_small.png "Что вы хотите сделать"), введите **Операции очереди работ**, затем выберите связанную ссылку.</span><span class="sxs-lookup"><span data-stu-id="64187-169">Choose the ![Lightbulb that opens the Tell Me feature](media/ui-search/search_small.png "Tell me what you want to do") icon, enter **Job Queue Entries**, and then choose the related link.</span></span>
2. <span data-ttu-id="64187-170">На странице **Операции очереди работ**, выберите запись очереди заданий, затем выберите действие **Операции журнала**.</span><span class="sxs-lookup"><span data-stu-id="64187-170">On the **Job Queue Entries** page, select a job queue entry, and then choose the **Log Entries** action.</span></span>  

### <a name="to-view-status-from-a-sales-or-purchase-document"></a><span data-ttu-id="64187-171">Просмотр статуса из документа продажи или покупки</span><span class="sxs-lookup"><span data-stu-id="64187-171">To view status from a sales or purchase document</span></span>
1. <span data-ttu-id="64187-172">Из документа. который вы пытались учесть с помощью очереди заданий, выберите поле **Статус очереди работ**, которое будет содержать значение **Ошибка**.</span><span class="sxs-lookup"><span data-stu-id="64187-172">From the document that you have tried to post with the job queue, choose the **Job Queue Status** field, which will contain **Error**.</span></span>
2. <span data-ttu-id="64187-173">Просмотрите сообщение об ошибке и устраните проблему.</span><span class="sxs-lookup"><span data-stu-id="64187-173">Review the error message and fix the problem.</span></span>

## <a name="the-my-job-queue-part"></a><span data-ttu-id="64187-174">Часть "Моя очередь работ"</span><span class="sxs-lookup"><span data-stu-id="64187-174">The My Job Queue Part</span></span>
<span data-ttu-id="64187-175">Часть **Моя очередь работ** в вашем ролевом центре показывает операции очереди заданий, которые вы запустили, но они еще не завершены.</span><span class="sxs-lookup"><span data-stu-id="64187-175">The **My Job Queue** part on your Role Center shows the job queues entries that you have started, but which are not yet finished.</span></span> <span data-ttu-id="64187-176">По умолчанию часть не видна, поэтому ее следует добавить в ролевой центр.</span><span class="sxs-lookup"><span data-stu-id="64187-176">By default, the part is not visible, so you have to add it to your Role Center.</span></span> <span data-ttu-id="64187-177">Дополнительные сведения см. в разделе [Изменение базовых настроек](ui-change-basic-settings.md).</span><span class="sxs-lookup"><span data-stu-id="64187-177">For more information, see [Changing Basic Settings](ui-change-basic-settings.md).</span></span>  

<span data-ttu-id="64187-178">В этой части отображается, какие документы с вашим кодом в поле **Код исполнителя** обрабатываются или помещены в очередь, включая те, которые связаны с фоновой обработкой.</span><span class="sxs-lookup"><span data-stu-id="64187-178">The part shows which documents with your ID in the **Assigned User ID** field are being processed or are queued, including those related to background posting.</span></span> <span data-ttu-id="64187-179">По этой части можно быстро понять, произошла ли ошибка при учете документа и есть ли ошибки в записи очереди заданий.</span><span class="sxs-lookup"><span data-stu-id="64187-179">The part can tell you at a glance whether there has been an error in the posting of a document or if there are errors in a job queue entry.</span></span> <span data-ttu-id="64187-180">Эта часть также позволяет отменить учет документа, если он не запущен.</span><span class="sxs-lookup"><span data-stu-id="64187-180">The part also lets you cancel a document posting if it is not running.</span></span>

### <a name="to-view-an-error-from-the-my-job-queue-part"></a><span data-ttu-id="64187-181">Просмотр ошибки из части "Моя очередь работ"</span><span class="sxs-lookup"><span data-stu-id="64187-181">To view an error from the My Job Queue part</span></span>
1. <span data-ttu-id="64187-182">Для операции со статусом **Ошибка** выберите действие **Показать ошибку**.</span><span class="sxs-lookup"><span data-stu-id="64187-182">On an entry with the status **Error**, choose the **Show Error** action.</span></span>
2. <span data-ttu-id="64187-183">Просмотрите сообщение об ошибке и устраните проблему.</span><span class="sxs-lookup"><span data-stu-id="64187-183">Review the error message and fix the problem.</span></span>

## <a name="security"></a><span data-ttu-id="64187-184">Безопасность</span><span class="sxs-lookup"><span data-stu-id="64187-184">Security</span></span>  
<span data-ttu-id="64187-185">Записи очередь работ запускаются на основе прав.</span><span class="sxs-lookup"><span data-stu-id="64187-185">Job queue entries run based on permissions.</span></span> <span data-ttu-id="64187-186">Эти права доступа должны разрешать выполнение данного отчета или модуля Codeunit.</span><span class="sxs-lookup"><span data-stu-id="64187-186">Those permissions must allow the execution of the report or codeunit.</span></span>  

<span data-ttu-id="64187-187">При активации очереди заданий вручную используются учетные данные пользователя.</span><span class="sxs-lookup"><span data-stu-id="64187-187">When a job queue is activated manually, it is run with the credentials of the user.</span></span> <span data-ttu-id="64187-188">При активации очереди работ в качестве запланированного задания она запускается с учетными данными экземпляра сервера.</span><span class="sxs-lookup"><span data-stu-id="64187-188">When a job queue is activated as a scheduled task, it is run with the credentials of the server instance.</span></span> <span data-ttu-id="64187-189">При выполнении задания используются учетные данные очереди заданий, в которой оно активируется.</span><span class="sxs-lookup"><span data-stu-id="64187-189">When a job is run, it is run with the credentials of the job queue that activates it.</span></span> <span data-ttu-id="64187-190">Пользователь, который создал эту операцию очереди заданий, также должен иметь права доступа.</span><span class="sxs-lookup"><span data-stu-id="64187-190">However, the user who created that job queue entry must also have permissions.</span></span> <span data-ttu-id="64187-191">Когда работа "выполняется во время сеанса пользователя" (например, в фоновом учете), используются учетные данные пользователя, создавшего эту работу.</span><span class="sxs-lookup"><span data-stu-id="64187-191">When a job is “run in user session” (such as during background posting), it is run with the credentials of the user who created that job.</span></span>  

> [!IMPORTANT]  
>  <span data-ttu-id="64187-192">Если используется набор прав доступа SUPER, который поставляется с [!INCLUDE[d365fin](includes/d365fin_md.md)], данный пользователь и другие пользователи имеют права на запуск всех объектов.</span><span class="sxs-lookup"><span data-stu-id="64187-192">If you use the SUPER permissions set that comes with [!INCLUDE[d365fin](includes/d365fin_md.md)], you and your users have permissions to run all objects.</span></span> <span data-ttu-id="64187-193">В этом случае доступ каждого пользователя ограничен только правами доступа к данным.</span><span class="sxs-lookup"><span data-stu-id="64187-193">In this case, access for each user is only limited by permissions for data.</span></span>  

## <a name="using-job-queues-effectively"></a><span data-ttu-id="64187-194">Эффективное использование очереди работ</span><span class="sxs-lookup"><span data-stu-id="64187-194">Using Job Queues Effectively</span></span>  
<span data-ttu-id="64187-195">Запись операции очереди заданий имеет множество полей, которые предназначены для переноса параметров в модуль codeunit, который был указан для запуска с использованием очереди заданий.</span><span class="sxs-lookup"><span data-stu-id="64187-195">The job queue entry record has many fields whose purpose is to carry parameters into a codeunit that you have specified to be run with a job queue.</span></span> <span data-ttu-id="64187-196">Это также означает, что модули codeunit, которые необходимо выполнить с помощью очереди работ, должны быть заданы записью операции очереди заданий в качестве параметра в триггере **OnRun**.</span><span class="sxs-lookup"><span data-stu-id="64187-196">This also means that codeunits that are to be run via the job queue must be specified with the Job Queue Entry record as a parameter in the **OnRun** trigger.</span></span> <span data-ttu-id="64187-197">Это помогает обеспечить дополнительную безопасность, поскольку не позволяет пользователю выполнять случайные модули codeunit с помощью очереди работ.</span><span class="sxs-lookup"><span data-stu-id="64187-197">This helps provide an extra level of security, as this prevents users from running random codeunits via the job queue.</span></span> <span data-ttu-id="64187-198">Если пользователь должен пересылать параметры в отчет, единственный способ — отправить исполнение отчета в модуль, которое затем анализирует параметры ввода и вносит их в отчет перед его выполнением.</span><span class="sxs-lookup"><span data-stu-id="64187-198">If the user must pass parameters to a report, the only way to do this is by wrapping the report execution into a codeunit, which then parses the input parameters and enters them into the report before executing it.</span></span>  

## <a name="see-also"></a><span data-ttu-id="64187-199">См. также</span><span class="sxs-lookup"><span data-stu-id="64187-199">See Also</span></span>  
[<span data-ttu-id="64187-200">Администрация</span><span class="sxs-lookup"><span data-stu-id="64187-200">Administration</span></span>](admin-setup-and-administration.md)  
[<span data-ttu-id="64187-201">Настройка Business Central</span><span class="sxs-lookup"><span data-stu-id="64187-201">Setting Up Business Central</span></span>](setup.md)  
[<span data-ttu-id="64187-202">Изменение базовых настроек</span><span class="sxs-lookup"><span data-stu-id="64187-202">Changing Basic Settings</span></span>](ui-change-basic-settings.md)  
