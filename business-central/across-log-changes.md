---
title: Аудит изменений | Документация Майкрософт
description: Вы можете активизировать журнал пользователя, чтобы у вас была история всех изменений, внесенных в данные в отслеживаемых таблицах. Также можно отслеживать действия с помощью определенных типов журналов действий.
author: edupont04
ms.service: dynamics365-business-central
ms.topic: get-started-article
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms.search.keywords: user log, user activity, tracking
ms.date: 10/01/2020
ms.author: edupont
ms.openlocfilehash: c4891cb047cb16f4051b6f468115e2b6bad9f24c
ms.sourcegitcommit: cb06aa973f5c767df774b0e1e199c6fbe0e85b88
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 02/17/2021
ms.locfileid: "5470366"
---
# <a name="auditing-changes-in-business-central"></a><span data-ttu-id="1b8a3-104">Изменение аудита в Business Central</span><span class="sxs-lookup"><span data-stu-id="1b8a3-104">Auditing Changes in Business Central</span></span>
<span data-ttu-id="1b8a3-105">Общей задачей многих приложений для управления бизнесом является предотвращение нежелательных изменений данных.</span><span class="sxs-lookup"><span data-stu-id="1b8a3-105">A common challenge in many business management applications is avoiding unwanted changes in data.</span></span> <span data-ttu-id="1b8a3-106">Это может быть все что угодно — от неправильно введенного номера телефона клиента, до неправильного учета в Главной книге.</span><span class="sxs-lookup"><span data-stu-id="1b8a3-106">It could be anything from an incorrect customer telephone number to an incorrect posting to the general ledger.</span></span> <span data-ttu-id="1b8a3-107">В этом разделе описываются возможности узнать, что изменилось, кто это изменил и когда это изменение было внесено.</span><span class="sxs-lookup"><span data-stu-id="1b8a3-107">This topic describes the capabilities for finding out what changed, who changed it, and when the change was made.</span></span>

## <a name="about-the-change-log"></a><span data-ttu-id="1b8a3-108">О журнале изменений</span><span class="sxs-lookup"><span data-stu-id="1b8a3-108">About the Change Log</span></span> 
<span data-ttu-id="1b8a3-109">Журнал изменений позволяет отслеживать все изменения, внесенные пользователем непосредственно в данные базы данных.</span><span class="sxs-lookup"><span data-stu-id="1b8a3-109">The change log lets you track all direct modifications a user makes to data in the database.</span></span> <span data-ttu-id="1b8a3-110">Необходимо указать каждую таблицу и поле, которые система должна записывать в журнал, после чего следует активировать журнал изменений.</span><span class="sxs-lookup"><span data-stu-id="1b8a3-110">You must specify each table and field that you want the system to log, and then you must activate the change log.</span></span>  

<span data-ttu-id="1b8a3-111">Отслеживание изменений может негативно сказаться на быстродействии (что может стоить вам времени), а также привести к увеличению размера базы данных (что может стоить вам денег).</span><span class="sxs-lookup"><span data-stu-id="1b8a3-111">Tracking changes can impact performance, which can cost you time, and increase the size of your database, which might cost you money.</span></span> <span data-ttu-id="1b8a3-112">Чтобы свести эти затраты к минимуму:</span><span class="sxs-lookup"><span data-stu-id="1b8a3-112">To reduce those costs, consider the following:</span></span>
- <span data-ttu-id="1b8a3-113">Выбирайте таблицы и операции с осторожностью.</span><span class="sxs-lookup"><span data-stu-id="1b8a3-113">Use caution when choosing the tables and operations.</span></span>
- <span data-ttu-id="1b8a3-114">Не добавляйте операции книг и учтенные документы.</span><span class="sxs-lookup"><span data-stu-id="1b8a3-114">Do not add ledger entries and posted documents.</span></span> <span data-ttu-id="1b8a3-115">Вместо этого отдавайте приоритет системным полям, таким как "Кем создано" и "Дата создания".</span><span class="sxs-lookup"><span data-stu-id="1b8a3-115">Instead, prioritize system fields such as Created By and Created Date.</span></span>
- <span data-ttu-id="1b8a3-116">Не используйте тип отслеживания "Все поля".</span><span class="sxs-lookup"><span data-stu-id="1b8a3-116">Do not use the All Fields tracking type.</span></span> <span data-ttu-id="1b8a3-117">Вместо этого выберите тип "Некоторые поля" и отслеживайте только самые важные из полей.</span><span class="sxs-lookup"><span data-stu-id="1b8a3-117">Instead, choose Some Fields and track only the most important fields.</span></span>

<span data-ttu-id="1b8a3-118">Журнал изменений основывается на изменениях, внесенных в данные таблиц, по которым выполняется отслеживание. На странице **Операции журнала изменений** операции хронологически упорядочены, а также показывает все изменения, примененные к значениям в полях в указанных таблицах.</span><span class="sxs-lookup"><span data-stu-id="1b8a3-118">The change log is based on changes that are made to data in the tables that you track. On the **Change Log Entries** page, entries are chronologically ordered and show all changes that are made to the values in fields on the tables you specify.</span></span>

> [!Important]
> <span data-ttu-id="1b8a3-119">Изменения отображаются в **Записи журнала изменений** только после перезапуска сеанса пользователя, что происходит следующим образом:</span><span class="sxs-lookup"><span data-stu-id="1b8a3-119">Changes display in the **Change Log Entries** only after the user's session is restarted, which happens as follows:</span></span>
<br />
> * <span data-ttu-id="1b8a3-120">Срок действия сеанса завершился и сеанс был обновлен.</span><span class="sxs-lookup"><span data-stu-id="1b8a3-120">The session expired and was refreshed.</span></span>
> * <span data-ttu-id="1b8a3-121">Пользователь выбрал другую организацию или ролевой центр.</span><span class="sxs-lookup"><span data-stu-id="1b8a3-121">The user selected another company or Role Center.</span></span>
> * <span data-ttu-id="1b8a3-122">Пользователь выполнил выход, затем снова вход.</span><span class="sxs-lookup"><span data-stu-id="1b8a3-122">The user signed out and back in.</span></span>

### <a name="working-with-the-change-log"></a><span data-ttu-id="1b8a3-123">Работа с журналом изменений</span><span class="sxs-lookup"><span data-stu-id="1b8a3-123">Working with the Change Log</span></span>
<span data-ttu-id="1b8a3-124">Можно активировать и деактивировать журнал изменений на странице **Настройка журнала изменений**.</span><span class="sxs-lookup"><span data-stu-id="1b8a3-124">You activate and deactivate the change log on the **Change Log Setup** page.</span></span> <span data-ttu-id="1b8a3-125">Когда пользователь активирует или деактивирует журнал изменений, это действие регистрируется, чтобы всегда можно было просмотреть, какой пользователь деактивировал или повторно активировал журнал изменений.</span><span class="sxs-lookup"><span data-stu-id="1b8a3-125">When a user activates or deactivates the change log, this activity is logged, so you can always see which user deactivated or reactivated the change log.</span></span>

<span data-ttu-id="1b8a3-126">На странице **Настройка журнала изменений**, если выбрать действие **Таблицы**, можно указать, для каких таблиц требуется отслеживать изменения и какие изменения требуется отслеживаться. [!INCLUDE[prod_short](includes/prod_short.md)] также отслеживает несколько системных таблиц.</span><span class="sxs-lookup"><span data-stu-id="1b8a3-126">On the **Change Log Setup** page, if you choose the **Tables** action, you can specify which tables you want to track changes for, and which changes to track. [!INCLUDE[prod_short](includes/prod_short.md)] also tracks a number of system tables.</span></span>

> [!NOTE]
> <span data-ttu-id="1b8a3-127">Вы можете отслеживать изменения в определенных полях, например в полях, содержащих конфиденциальные данные, путем настройки мониторинга полей.</span><span class="sxs-lookup"><span data-stu-id="1b8a3-127">You can monitor specific fields for changes, such as fields that contain sensitive data, by setting up field monitoring.</span></span> <span data-ttu-id="1b8a3-128">Если вы это сделаете, чтобы избежать избыточности, таблица, содержащая это поле, не будет доступна для настройки журнала изменений.</span><span class="sxs-lookup"><span data-stu-id="1b8a3-128">If you do, to avoid redundancy the table that contains the field will not be available for the change log setup.</span></span> <span data-ttu-id="1b8a3-129">Для получения дополнительной информации см. [Мониторинг конфиденциальных полей](across-log-changes.md#monitoring-sensitive-fields).</span><span class="sxs-lookup"><span data-stu-id="1b8a3-129">For more information, see [Monitoring Sensitive Fields](across-log-changes.md#monitoring-sensitive-fields).</span></span>

<span data-ttu-id="1b8a3-130">После настройки журнала изменений, его активации и внесения изменений в данные можно просмотреть и отфильтровать изменения на странице **Операции журнала изменений**.</span><span class="sxs-lookup"><span data-stu-id="1b8a3-130">After you have set up the change log, activated it, and made a change to data, you can view and filter the changes on the **Change Log Entries** page.</span></span> <span data-ttu-id="1b8a3-131">Если требуется удалить операции, это можно сделать на странице **Удалить операции журнала изменений**, в котором можно установить фильтры на основе времени и даты.</span><span class="sxs-lookup"><span data-stu-id="1b8a3-131">If you want to delete entries, you can do that on the **Delete Change Log Entries** page, where you can set filters based on dates and time.</span></span>  

## <a name="about-activity-logs"></a><span data-ttu-id="1b8a3-132">О журналах действий</span><span class="sxs-lookup"><span data-stu-id="1b8a3-132">About Activity Logs</span></span>
<span data-ttu-id="1b8a3-133">С некоторых страниц в [!INCLUDE [prod_short](includes/prod_short.md)] можно просмотреть журнал действий, в котором указаны состояние и возможные ошибки из файлов, которые вы экспортируете или импортируете в [!INCLUDE [prod_short](includes/prod_short.md)],</span><span class="sxs-lookup"><span data-stu-id="1b8a3-133">From some pages in [!INCLUDE [prod_short](includes/prod_short.md)], you can view an activity log that shows the status and any errors from files that you export from or import into [!INCLUDE [prod_short](includes/prod_short.md)].</span></span>  

### <a name="working-with-activity-logs"></a><span data-ttu-id="1b8a3-134">Работа с журналами действий</span><span class="sxs-lookup"><span data-stu-id="1b8a3-134">Working with Activity Logs</span></span>
<span data-ttu-id="1b8a3-135">Эта информация отображается на странице **Журнал действий** в соответствии с контекстом, из которого открыта страница.</span><span class="sxs-lookup"><span data-stu-id="1b8a3-135">The information is displayed in the **Activity Log** page according to the context that it is opened from.</span></span> <span data-ttu-id="1b8a3-136">Например, можно открыть страницу со страниц **Настройка службы обмена документами**, **Входящий документ**, **Учтенный счет продажи** и **Учтенная кредит-нота продажи**.</span><span class="sxs-lookup"><span data-stu-id="1b8a3-136">For example, you can open the page from the **Document Exchange Service Setup**, **Incoming Document**, **Posted Sales Invoice**, and **Posted Sales Credit Memo** pages.</span></span> <span data-ttu-id="1b8a3-137">Вы можете очистить список записей журнала или просто удалить из него записи старше семи дней.</span><span class="sxs-lookup"><span data-stu-id="1b8a3-137">You can empty the list of log entries, or just clear the list of entries older than seven days.</span></span>  

## <a name="monitoring-sensitive-fields"></a><span data-ttu-id="1b8a3-138">Мониторинг конфиденциальных полей</span><span class="sxs-lookup"><span data-stu-id="1b8a3-138">Monitoring Sensitive Fields</span></span>
<span data-ttu-id="1b8a3-139">Обеспечение безопасности и конфиденциальности конфиденциальных данных является основной задачей для большинства организаций.</span><span class="sxs-lookup"><span data-stu-id="1b8a3-139">Keeping sensitive data secure and private is a core concern for most businesses.</span></span> <span data-ttu-id="1b8a3-140">Чтобы добавить уровень безопасности, вы можете отслеживать важные поля и получать уведомления по электронной почте, когда кто-то меняет значение.</span><span class="sxs-lookup"><span data-stu-id="1b8a3-140">To add a layer of security, you can monitor important fields and be notified by email when someone changes a value.</span></span> <span data-ttu-id="1b8a3-141">Например, вы можете захотеть получать уведомления, если кто-то изменит номер IBAN вашей компании.</span><span class="sxs-lookup"><span data-stu-id="1b8a3-141">For example, you might want to be notified if someone changes your company's IBAN number.</span></span>

> [!NOTE]
> <span data-ttu-id="1b8a3-142">Для отправки уведомлений по электронной почте необходимо настроить функцию электронной почты в [!INCLUDE[prod_short](includes/prod_short.md)].</span><span class="sxs-lookup"><span data-stu-id="1b8a3-142">Sending notifications by email requires that you set up the email feature in [!INCLUDE[prod_short](includes/prod_short.md)].</span></span> <span data-ttu-id="1b8a3-143">Дополнительные сведения см. в разделе [Настройка электронной почты](admin-how-setup-email.md).</span><span class="sxs-lookup"><span data-stu-id="1b8a3-143">For more information, see [Set Up Email](admin-how-setup-email.md).</span></span>

### <a name="setting-up-field-monitoring"></a><span data-ttu-id="1b8a3-144">Настройка мониторинга полей</span><span class="sxs-lookup"><span data-stu-id="1b8a3-144">Setting Up Field Monitoring</span></span>
<span data-ttu-id="1b8a3-145">Вы можете использовать руководство мастера настройки **Настройка мониторинга изменений полей**, чтобы указать поля, которые вы хотите отслеживать на основе критериев фильтрации, таких как классификация данных для полей.</span><span class="sxs-lookup"><span data-stu-id="1b8a3-145">You can use the **Monitor Field Change Setup** assisted setup guide to specify the fields that you want to monitor based on filter criteria, such as the data sensitivity classification for the fields.</span></span> <span data-ttu-id="1b8a3-146">Дополнительные сведения см. в разделе [Классификация конфиденциальности данных](admin-classifying-data-sensitivity.md).</span><span class="sxs-lookup"><span data-stu-id="1b8a3-146">For more information, see [Classifying Data Sensitivity](admin-classifying-data-sensitivity.md).</span></span> <span data-ttu-id="1b8a3-147">В руководстве также можно указать человека, который будет получать уведомление по электронной почте при изменении, и учетную запись электронной почты, которая будет отправлять уведомление по электронной почте.</span><span class="sxs-lookup"><span data-stu-id="1b8a3-147">The guide also lets you specify the person who will receive an email notification when a change occurs, and the email account that will send the notification email.</span></span> <span data-ttu-id="1b8a3-148">Вы должны указать как уведомление пользователя, так и учетную запись, с которой будет отправлено уведомление.</span><span class="sxs-lookup"><span data-stu-id="1b8a3-148">You must specify both the user notify and the account from which to send the notification.</span></span> <span data-ttu-id="1b8a3-149">После того, как вы закончите работу с руководством, вы можете управлять настройками мониторинга полей на странице **Настройка мониторинга полей**.</span><span class="sxs-lookup"><span data-stu-id="1b8a3-149">After you finish the guide, you can manage settings for field monitoring on the **Field Monitoring Setup** page.</span></span> 

<span data-ttu-id="1b8a3-150">Со временем список записей на странице **Записи журнала отслеживаемых полей** будет расти.</span><span class="sxs-lookup"><span data-stu-id="1b8a3-150">Over time, the list of entries on the **Monitored Fields Log Entries** page will grow.</span></span> <span data-ttu-id="1b8a3-151">Чтобы уменьшить количество записей, вы можете создать политику хранения, которая будет удалять записи по прошествии определенного периода времени.</span><span class="sxs-lookup"><span data-stu-id="1b8a3-151">To reduce the number of entries you can create a retention policy that will delete entries after a specified period of time.</span></span> <span data-ttu-id="1b8a3-152">Дополнительные сведения см. в разделе [Определение политик хранения](admin-data-retention-policies.md).</span><span class="sxs-lookup"><span data-stu-id="1b8a3-152">For more information, see [Define Retention Policies](admin-data-retention-policies.md).</span></span>

<span data-ttu-id="1b8a3-153">Когда вы настраиваете мониторинг полей или что-то меняете в настройке, для ваших изменений создаются записи.</span><span class="sxs-lookup"><span data-stu-id="1b8a3-153">When you set up field monitoring, or change something in the setup, entries are created for your changes.</span></span> <span data-ttu-id="1b8a3-154">Вы можете указать, следует ли отображать записи, относящиеся к настройке мониторинга, путем их отображения или скрытия.</span><span class="sxs-lookup"><span data-stu-id="1b8a3-154">You can specify whether to display entries related to the monitoring setup by showing or hiding them.</span></span> 

<span data-ttu-id="1b8a3-155">Вы можете управлять настройками для мониторинга полей, например отправлять ли уведомление по электронной почте или просто регистрировать изменение, для каждого поля на странице **Лист отслеживаемых полей**.</span><span class="sxs-lookup"><span data-stu-id="1b8a3-155">You can manage settings for field monitoring, such as whether to send an email notification or just log the change, for each field on the **Monitored Fields Worksheet** page.</span></span> <span data-ttu-id="1b8a3-156">На странице также можно добавлять или удалять поля для мониторинга.</span><span class="sxs-lookup"><span data-stu-id="1b8a3-156">The page is also where you can add or remove fields to monitor.</span></span>

> [!NOTE]
> <span data-ttu-id="1b8a3-157">После добавления одного или нескольких полей и начала мониторинга вы должны выйти из и снова войти [!INCLUDE[prod_short](includes/prod_short.md)], чтобы применить свои настройки.</span><span class="sxs-lookup"><span data-stu-id="1b8a3-157">After you add one or more fields and start monitoring, you must sign out of [!INCLUDE[prod_short](includes/prod_short.md)] and sign in again to apply your settings.</span></span>

### <a name="working-with-field-monitoring"></a><span data-ttu-id="1b8a3-158">Работа с мониторингом полей</span><span class="sxs-lookup"><span data-stu-id="1b8a3-158">Working with Field Monitoring</span></span>

<span data-ttu-id="1b8a3-159">Записи для всех измененных значений для отслеживаемых полей доступны на странице **Записи журнала отслеживаемых полей**.</span><span class="sxs-lookup"><span data-stu-id="1b8a3-159">Entries for all changed values for monitored fields are available on the **Monitored Fields Log Entries** page.</span></span> <span data-ttu-id="1b8a3-160">Например, записи содержат такую информацию, как поле, значение для которого было изменено, исходное и новое значения, а также кто и когда внес изменение.</span><span class="sxs-lookup"><span data-stu-id="1b8a3-160">For example, entries contain information such as the field for which the value was changed, the original and new values, and who made the change and when they did so.</span></span> <span data-ttu-id="1b8a3-161">Для дальнейшего изучения изменения выберите значение, чтобы открыть страницу, на которой оно было внесено.</span><span class="sxs-lookup"><span data-stu-id="1b8a3-161">To further investigate a change, choose a value to open the page where it was made.</span></span> <span data-ttu-id="1b8a3-162">Чтобы просмотреть список всех записей, выберите **Записи об изменении поля**.</span><span class="sxs-lookup"><span data-stu-id="1b8a3-162">To view a list of all entries, choose **Field Change Entries**.</span></span>

### <a name="viewing-field-monitoring-telemetry"></a><span data-ttu-id="1b8a3-163">Просмотр телеметрии мониторинга полей</span><span class="sxs-lookup"><span data-stu-id="1b8a3-163">Viewing Field Monitoring Telemetry</span></span> 

<span data-ttu-id="1b8a3-164">Вы можете настроить [!INCLUDE[prod_short](includes/prod_short.md)], чтобы отправить действие мониторинга полей в ресурс Application Insights в Microsoft Azure.</span><span class="sxs-lookup"><span data-stu-id="1b8a3-164">You can set up [!INCLUDE[prod_short](includes/prod_short.md)] to send field monitoring activity to an Application Insights resource in Microsoft Azure.</span></span> <span data-ttu-id="1b8a3-165">Затем с помощью Azure Monitor вы создаете отчеты и настраиваете оповещения о собранных данных.</span><span class="sxs-lookup"><span data-stu-id="1b8a3-165">Then, using Azure Monitor, you create reports and set up alerts on the gathered data.</span></span> <span data-ttu-id="1b8a3-166">Дополнительные сведения см. в следующих статьях в справке для разработчиков и ИТ-специалистов [!INCLUDE[prod_short](includes/prod_short.md)]:</span><span class="sxs-lookup"><span data-stu-id="1b8a3-166">For more information, see the following articles in the [!INCLUDE[prod_short](includes/prod_short.md)] Developer and IT Pro help:</span></span>

- [<span data-ttu-id="1b8a3-167">Мониторинг и анализ телеметрии — включение Application Insights</span><span class="sxs-lookup"><span data-stu-id="1b8a3-167">Monitoring and Analyzing Telemetry - Enabling Application Insights</span></span>](/dynamics365/business-central/dev-itpro/administration/telemetry-overview#enable)
- [<span data-ttu-id="1b8a3-168">Анализ телеметрии мониторинга полей</span><span class="sxs-lookup"><span data-stu-id="1b8a3-168">Analyzing Field Monitoring Telemetry</span></span>](/dynamics365/business-central/dev-itpro/administration/telemetry-field-monitoring-trace)

## <a name="defining-retention-policies"></a><span data-ttu-id="1b8a3-169">Определение политик хранения</span><span class="sxs-lookup"><span data-stu-id="1b8a3-169">Defining Retention Policies</span></span>

<span data-ttu-id="1b8a3-170">Вы можете создать политики хранения для удаления ненужных данных в журналах по истечении указанного вами периода времени.</span><span class="sxs-lookup"><span data-stu-id="1b8a3-170">You can create retention policies to delete unneeded data in logs after a period of time that you specify.</span></span> <span data-ttu-id="1b8a3-171">Например, со временем количество записей в журнале может увеличиваться.</span><span class="sxs-lookup"><span data-stu-id="1b8a3-171">For example, over time the number of entries in a log can build up.</span></span> <span data-ttu-id="1b8a3-172">Удаляя старые записи, вы можете улучшить концентрацию на более свежих и, возможно, более актуальных записях.</span><span class="sxs-lookup"><span data-stu-id="1b8a3-172">By cleaning up old entries you can make it easier to focus on more recent, and probably more relevant, entries.</span></span> <span data-ttu-id="1b8a3-173">Дополнительные сведения см. в разделе [Определение политик хранения](admin-data-retention-policies.md).</span><span class="sxs-lookup"><span data-stu-id="1b8a3-173">For more information, see [Define Retention Policies](admin-data-retention-policies.md).</span></span>

## <a name="see-also"></a><span data-ttu-id="1b8a3-174">См. также</span><span class="sxs-lookup"><span data-stu-id="1b8a3-174">See Also</span></span>
[<span data-ttu-id="1b8a3-175">Изменение базовых настроек</span><span class="sxs-lookup"><span data-stu-id="1b8a3-175">Change Basic Settings</span></span>](ui-change-basic-settings.md)  
[<span data-ttu-id="1b8a3-176">Сортировка, поиск и фильтрация</span><span class="sxs-lookup"><span data-stu-id="1b8a3-176">Sorting, Searching, and Filtering</span></span>](ui-enter-criteria-filters.md)  
[<span data-ttu-id="1b8a3-177">Поиск страниц и информации с помощью функции "Что вы хотите сделать"</span><span class="sxs-lookup"><span data-stu-id="1b8a3-177">Finding Pages and Information with Tell Me</span></span>](ui-search.md)  
<span data-ttu-id="1b8a3-178">[Назначение разрешений пользователям и группам](ui-define-granular-permissions.md)  </span><span class="sxs-lookup"><span data-stu-id="1b8a3-178">[Assign Permissions to Users and Groups](ui-define-granular-permissions.md)  </span></span>  
<span data-ttu-id="1b8a3-179">[Работа с [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)</span><span class="sxs-lookup"><span data-stu-id="1b8a3-179">[Working with [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)</span></span>  
[<span data-ttu-id="1b8a3-180">Определение политик хранения</span><span class="sxs-lookup"><span data-stu-id="1b8a3-180">Define Retention Policies</span></span>](admin-data-retention-policies.md)  

[!INCLUDE[footer-include](includes/footer-banner.md)]
