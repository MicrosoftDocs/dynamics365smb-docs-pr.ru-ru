---
title: XML-схемы для подготовки определения обмена данными
description: 'Используйте схемы XML, чтобы настроить структуру обмена данными, чтобы определить, какими элементами данных вы хотите обмениваться.'
author: brentholtorf
ms.topic: conceptual
ms.devlang: al
ms.search.keywords: null
ms.date: 06/11/2021
ms.author: bholtorf
ms.service: dynamics-365-business-central
ms.reviewer: bholtorf
---
# <a name="use-xml-schemas-to-prepare-data-exchange-definitions"></a>Использование XML-схем для определения обмена данными

Чтобы разрешить импорт или экспорт данных в файл в формате XML с использованием платформы обмена данными в [!INCLUDE[prod_short](includes/prod_short.md)], можно воспользоваться XML-схемами для определения элементов данных, которыми можно обмениваться с [!INCLUDE[prod_short](includes/prod_short.md)]. Эта работа выполняется на странице **Средство просмотра схем XML** путем загрузки файла XML-схемы. Для этого нужно выбрать соответствующие элементы данных, затем инициализировать определение обмена данными.  

 Когда вы определили, какие элементы данных требуется включить на основе схемы XML, можно использовать действие **Создать определение обмена данными**, чтобы инициализировать определение обмена данными на основании выбранных элементов данных, которую затем можно закончить в структуре обмена данными. В результате создается запись на странице **Определения учета обмена**, где затем определяется, какие элементы в файле сопоставляются полям в [!INCLUDE[prod_short](includes/prod_short.md)]. Дополнительные сведения см. в разделе [Настройка определений обмена данными](across-how-to-set-up-data-exchange-definitions.md).  

 Этот раздел содержит следующие процедуры:  

- загрузка файла XML-схемы  

- Выбор или удаление узлов в XML-схеме  

- Создание определения обмена данными на базе XML-схемы  

## <a name="to-load-an-xml-schema-file"></a>загрузка файла XML-схемы

1. Убедитесь, что доступен соответствующий файл XML-схемы. Расширение файла – XSD.  

2. Выберите ![Лампочка, которая открывает функцию Что вы хотите сделать.](media/ui-search/search_small.png "Что вы хотите сделать") значок, введите **XML-схемы**, а затем выберите связанную ссылку.  

3. Выберите действие **Создать**.  

4. Заполните поля, как описано в следующей таблице.  

    |Поле|Описание|  
    |---------------------------------|---------------------------------------|  
    |**Код**|Указание кода для определения XML-схемы.|  
    |**Описание**|Указание описания XML-схемы.|  

     В поле **Целевое пространство имен** задается любое пространство имен из файла XML-схемы, загруженного для соответствующей строки.  

5. Выберите действие **Схема загрузки**, затем выберите файл схемы XML.  

     Если файл загружен, остальные поля в строке заполняются сведениями из этого файла, а также устанавливается флажок **Схема загружена**.  

    > [!NOTE]  
    >  Дерево загруженной XML-схемы по умолчанию свернуто. Можно развернуть каждый узел нажатием кнопки **+** на нем. Чтобы развернуть все узлы, выберите **Раскрыть все** на ленте.  

### <a name="to-select-or-clear-nodes-in-an-xml-schema"></a>Выбор или удаление узлов в XML-схеме

1. Выберите ![Лампочка, которая открывает функцию Что вы хотите сделать.](media/ui-search/search_small.png "Что вы хотите сделать") значок, введите **Средство просмотра схем XML**, а затем выберите связанную ссылку.  

2. Заполните поля в заголовке, как описано в следующей таблице.  

    |Поле|Описание|  
    |---------------------------------|---------------------------------------|  
    |**Код схемы XML**|Укажите файл XML-схемы, загруженный на шаге 5 в разделе "Загрузка файла XML-схемы".|  
    |**Новый номер XMLport**|Укажите номер XMLport, созданного из схемы XML при выборе действия **Создать XMLport**.|  

     Строки заполняются узлами, представляющими все элементы в XML-схеме. Узлы для элементов, которые являются обязательными согласно XML-схеме, выбираются по умолчанию.  

3. В первой строке в столбце **Название узла** разверните узел **Документ** и постепенного разворачивайте дочерние узлы, которые необходимо просмотреть.  

     В качестве альтернативы щелкните правой кнопкой мыши и выберите **Развернуть все**.  

4. Выберите одно из следующих действий, чтобы изменить узлы для отображения.  

    |**Действие**|Описание|  
    |----------------|---------------------------------------|  
    |**Показать все**|Отображаются все узлы.|  
    |**Скрыть необязательные**|Отображаются только узлы, представляющие элементы, необходимые согласно XML-схеме. Обычно эти узлы обозначаются **1** в поле **MinOccurs**.<br /><br /> Щелкните **Показать все** для сторнирования представления.|  
    |**Скрыть невыбранные**|Отображаются только узлы, в которых установлен флажок **Выбрано**.<br /><br /> Щелкните **Показать все** для сторнирования представления.|  

5. Выберите действие **Изменить**.  

6. С помощью флажка **Выбрано** можно для каждого узла указать, требуется ли включить поддержку элемента в определении обмена данными для связанного файла банка SEPA.  

    > [!NOTE]  
    >  При выборе обязательного дочернего узла все родительские узлы над ним также выбираются.  

7. Выберите действие **Выбрать все обязательные элементы**, чтобы снова выбрать все узлы, представляющие элементы, которые являются обязательными согласно XML-схеме.  

8. Выберите действие **Снять выделение** для отмены выбора всех элементов.  

     В поле **Выбор** указано, что у узла имеется два или более дочерних узла, которые функционируют как параметры.  

### <a name="to-generate-a-data-exchange-definition-that-is-based-on-an-xml-schema"></a>Создание определения обмена данными на базе XML-схемы

1. Выберите ![Лампочка, которая открывает функцию Что вы хотите сделать.](media/ui-search/search_small.png "Что вы хотите сделать") значок, введите **XML-схемы**, а затем выберите связанную ссылку.  

2. Выберите соответствующую схему XML, затем выберите действие **Открыть средство просмотра XML-схем**.  

3. Убедитесь, что выбраны соответствующие узлы. Дополнительные сведения см. в разделе "Выбор или отмена выбора узлов на XML-схеме".  

4. На странице **Средство просмотра схем XML** выберите действие **Создать определение обмена данными**.  

 Запись определения обмена данными создается на странице **Определения учета обмена**, которую можно заполнить, указав, какие элементы файла сопоставляются с какими полями в [!INCLUDE[prod_short](includes/prod_short.md)]. Дополнительные сведения см. в разделе [Настройка определений обмена данными](across-how-to-set-up-data-exchange-definitions.md).  

> [!NOTE]  
> Можно также использовать функцию **Получить структуру файла** со страницы **Определения учета обмена**, использующую функциональные возможности страницы **Средство просмотра схем XML** для предварительного заполнения экспресс-вкладки **Определения столбца**.  

> [!NOTE]
> В волне 1 выпуска 2019 года и более ранних версиях можно было создать XMLport, который был основан на схеме, затем импортировать его в свое решение. Это больше не поддерживается.

## <a name="see-also"></a>См. также

[Настройка определений обмена данными](across-how-to-set-up-data-exchange-definitions.md)  
[Экспорт платежей в банковский файл](finance-make-payments-with-bank-data-conversion-service-or-sepa-credit-transfer.md#exporting-payments-to-a-bank-file)  
[Сбор платежей с прямым дебетом SEPA](finance-collect-payments-with-sepa-direct-debit.md)  
[О структуре обмена данными](across-about-the-data-exchange-framework.md)  


[!INCLUDE[footer-include](includes/footer-banner.md)]
