---
title: О структуре обмена данными | Документация Майкрософт
description: Формат файлов для обмена данными в файлах банка, электронных документах, курсах валюты и прочим с ERP-системами зависит от поставщика файла или потока данных, а также страны/региона.
author: SorenGP
ms.service: dynamics365-business-central
ms.topic: article
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms.search.keywords: ''
ms.date: 10/01/2020
ms.author: edupont
ms.openlocfilehash: 08bffeba15c2f8ab3251030795c845d36a131d16
ms.sourcegitcommit: ddbb5cede750df1baba4b3eab8fbed6744b5b9d6
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/01/2020
ms.locfileid: "3914468"
---
# <a name="about-the-data-exchange-framework"></a>О структуре обмена данными

Можно использовать структуру обмена данными, чтобы управлять обменом бизнес-документами, банковскими файлами, курсами обмена валют и другими файлами данных с бизнес-партнерами.

Как администратор или партнер Майкрософт, вы можете использовать структуру в новых функциях интеграции, указав, какие данные и каким образом будут передаваться. Например, формат файлов для обмена данными в файлах банка, электронных документах, курсах валюты и прочим с ERP-системами зависит от поставщика файла или потока данных, а также страны/региона. [!INCLUDE[d365fin](includes/d365fin_md.md)] поддерживает различные форматы файлов банка и стандарты предоставления данных. Чтобы обеспечить поддержку других форматов электронных документов, следует использовать платформу обмена данными.

 На следующей схеме показана архитектура платформы обмена данными.  

 ![Структура обмена данными &#45; импорт](media/across-data-exchange/dataexchangeframework_import.png)  

 ![Структура обмена данными &#45; экспорт](media/across-data-exchange/dataexchangeframework_export.png)  

## <a name="electronic-documents"></a>Электронные документы

Вместо отправки файлов в виде вложений в сообщения электронной почты можно отправлять и получать бизнес-документы в электронном виде. Под электронным документом понимается документ в виде соответствующего стандарту файла, представляющего бизнес-документ (например, счет от поставщика), который может быть получен и преобразован в счет покупки в [!INCLUDE[d365fin](includes/d365fin_md.md)]. Обмен электронными документами между двумя торговыми партнерами выполняется внешним провайдером служб обмена документами. Универсальная версия [!INCLUDE[d365fin](includes/d365fin_md.md)] поддерживает отправку и получение электронных счетов и кредит-нот в формате PEPPOL, поддерживаемом крупнейшими поставщиками служб обмена документами. Крупный поставщик служб обмена документами заранее настроен и готов установке в вашей компании. Чтобы обеспечить поддержку других форматов электронных документов, необходимо создать новые определения обмена данными с помощью платформы обмена данными.  

 Из файлов PDF или графических файлов, представляющих входящие документы, с помощью внешней службы OCR (оптического распознавания символов) можно создавать электронные документы, которые затем будут преобразовываться в записи документов в [!INCLUDE[d365fin](includes/d365fin_md.md)], аналогично электронным документам PEPPOL. Например, при получении от поставщика счета в формате PDF можно отправить его в службу OCR на странице **Входящие документы**. Спустя несколько секунд файл будет возвращен в виде электронного счета, который может быть преобразован в счет покупки для этого поставщика. Если вы отправляете файл в службу OCR по электронной почте, то новая запись входящего документа создается автоматически при получении назад электронного документа.  

 Например, чтобы отправить счет продажи как электронный документ PEPPOL, следует выбрать параметр **Электронный документ** в диалоговом окне **Учет и отправка**. В этом окне также можно настроить профиль отправки документов клиента по умолчанию. Прежде всего, необходимо настроить различные основные данные – такие как информацию об организации, клиентах, товарах и единицах измерения. Они используются для определения бизнес-партнеров и товаров при преобразовании данных в полях [!INCLUDE[d365fin](includes/d365fin_md.md)] в элементы файла исходящего документа. Преобразование данных и отправка счета продажи PEPPOL выполняется соответствующим модулем codeunit и XMLport, представленными форматом электронных документов **PEPPOL**.  

 Например, для получения счета от поставщика в формате электронного документа PEPPOL необходимо обработать документ на странице **Входящие документы**, преобразовав его в счет покупки в [!INCLUDE[d365fin](includes/d365fin_md.md)]. Можно настроить функцию очереди заданий для обработки таких файлов на регулярной основе либо запускать этот процесс вручную. Прежде всего, необходимо настроить различные основные данные – такие как информацию об организации, поставщиках, товарах и единицах измерения. Они используются для определения бизнес-партнеров и товаров при преобразовании данных в элементах файла исходящего документа в поля в [!INCLUDE[d365fin](includes/d365fin_md.md)]. Получение и преобразование счетов PEPPOL выполняются платформой обмена данными, представленной в определении обмена данными **PEPPOL — Счет**.  

  Например, чтобы получить счет в виде электронного документа OCR, его необходимо обработать как при получении электронного документа PEPPOL. Получение и преобразование электронных документов из OCR выполняется платформой обмена данными, представленной в определении обмена данными **OCR — Счет**.  

## <a name="bank-files"></a>Банковские файлы

Форматы файлов для обмена банковскими данными с ERP-системами варьируются в зависимости от поставщика файла и страны или региона. [!INCLUDE[d365fin](includes/d365fin_md.md)] поддерживает импорт и экспорт банковских файлов SEPA, а расширение AMC Banking 365 Fundamentals позволяет подключиться к расширению AMC Banking 365 Fundamentals, предлагаемому внешним поставщиком, AMC Consult. Чтобы обеспечить поддержку других форматов электронных документов, следует использовать платформу обмена данными.  

Для экспорта кредитных переводов SEPA нажмите кнопку **Экспорт платежей в файл** на странице **Журнал платежей** и загрузите файл для обработки платежей в свой банк. Вначале необходимо задать различные основные данные – такие как банковский счет, поставщики и способы оплаты. Преобразование данных и экспорт банковских данных SEPA выполняется соответствующим модулем codeunit и XMLport, представленными в настройке банковского импорта и экспорта **Кредитные переводы SEPA**. Также можно настроить расширение AMC Banking 365 Fundamentals для выполнения экспорта, представленного определением обмена данными **Расширение AMC Banking 365 Fundamentals — кредитовый перевод**.  

 Для экспорта команд для прямого дебита формата SEPA нажмите кнопку **Экспорт файла прямого дебетования** на странице **Коллекции прямого дебетования** и отправьте ее в свой банк для автоматического сбора указанных в ней платежей клиента. Вначале необходимо задать банковские счета, клиентов, поставщиков, мандаты прямого дебита и способы оплаты. Преобразование данных и экспорт банковских данных SEPA выполняется соответствующим модулем codeunit и XMLport, отраженными в настройке банковского импорта и экспорта **Прямой дебит SEPA**.  

 Для импорта банковских выписок SEPA нужно нажать кнопку "Импорт банковских выписок" на страницах **Журнал выверки платежей** и **Выверка банковского счета**, после чего приложить каждую запись банковской выписки к платежам или записям банковской книги в ручном или автоматическом режиме. Необходимо сначала настроить банковские счета. Импорт и преобразование банковских данных SEPA выполняется платформой обмена данными, представленной в определении обмена данными **SEPA CAMT**. Также можно настроить расширение AMC Banking 365 Fundamentals для выполнения импорта, представленного определением обмена данными **Расширение AMC Banking 365 Fundamentals — банковская выписка**.  

 Кроме того, локальные версии [!INCLUDE[d365fin](includes/d365fin_md.md)] поддерживают разные другие форматы файлов для импорта и экспорта банковских данных, перечислений заработной платы и других данных. Для получения дополнительных сведений см. целевую страницу [Локальная функциональность](about-localization.md) для вашей страны/региона в разделе "Справка".  

## <a name="currency-exchange-rates"></a>Валютные курсы

Для обновления валютных курсов можно использовать внешнюю службу. Служба, предоставляющая обновленные валютные курсы, разрешена определением обмена данными. Соответственно, страница **Карточка настройки обновления валютных курсов** представляет собой сжатый вид страницы **Определение обмена данными** для рассматриваемого определения обмена данными.  

Для всего обмена данными в XML-файлах можно подготовить настройку обмена данными, загрузив связанный файл XML-схемы на странице **Средство просмотра схем XML**. Здесь можно выбрать элементы данных, которыми требуется обменяться с [!INCLUDE[d365fin](includes/d365fin_md.md)], а затем инициализировать определение обмена данными или сгенерировать XMLport.

## <a name="see-also"></a>См. также

[Электронный обмен данными](across-data-exchange.md)  
[Использование XML-схем для определения обмена данными](across-how-to-use-xml-schemas-to-prepare-data-exchange-definitions.md)  
[Настройка обмена данными](across-set-up-data-exchange.md)  
[Входящие документы](across-income-documents.md)  
[Общие бизнес-функции](ui-across-business-areas.md)  
