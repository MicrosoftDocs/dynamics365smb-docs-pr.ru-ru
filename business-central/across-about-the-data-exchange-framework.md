---
title: О структуре обмена данными | Документация Майкрософт
description: Формат файлов для обмена данными в файлах банка, электронных документах, курсах валюты и прочим с ERP-системами зависит от поставщика файла или потока данных, а также страны/региона.
author: SorenGP
ms.service: dynamics365-business-central
ms.topic: article
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms.search.keywords: ''
ms.date: 04/01/2020
ms.author: sgroespe
ms.openlocfilehash: 18611cf98d8299900d2f517d2899404341933a80
ms.sourcegitcommit: 88e4b30eaf6fa32af0c1452ce2f85ff1111c75e2
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 04/01/2020
ms.locfileid: "3188808"
---
# <a name="about-the-data-exchange-framework"></a><span data-ttu-id="5b2da-103">О структуре обмена данными</span><span class="sxs-lookup"><span data-stu-id="5b2da-103">About the Data Exchange Framework</span></span>
<span data-ttu-id="5b2da-104">Можно использовать структуру обмена данными, чтобы управлять обменом бизнес-документами, банковскими файлами, курсами обмена валют и другими файлами данных с бизнес-партнерами.</span><span class="sxs-lookup"><span data-stu-id="5b2da-104">You can use the Data Exchange Framework to manage the exchange of business documents, bank files, currency exchange rates, and any other data files with your business partners.</span></span>

<span data-ttu-id="5b2da-105">Как администратор или партнер Майкрософт, вы можете использовать структуру в новых функциях интеграции, указав, какие данные и каким образом будут передаваться.</span><span class="sxs-lookup"><span data-stu-id="5b2da-105">As an administrator or Microsoft partner, you can use the framework in new integration features by setting up which data to exchange and how.</span></span> <span data-ttu-id="5b2da-106">Например, формат файлов для обмена данными в файлах банка, электронных документах, курсах валюты и прочим с ERP-системами зависит от поставщика файла или потока данных, а также страны/региона.</span><span class="sxs-lookup"><span data-stu-id="5b2da-106">For example, the format of files for exchange of data in bank files, electronic documents, currency exchange rates, and other with ERP systems vary depending on the provider of the data file or stream and on the country/region.</span></span> [!INCLUDE[d365fin](includes/d365fin_md.md)] <span data-ttu-id="5b2da-107">поддерживает различные форматы файлов банка и стандарты предоставления данных.</span><span class="sxs-lookup"><span data-stu-id="5b2da-107">supports various bank file formats and data service standards.</span></span> <span data-ttu-id="5b2da-108">Чтобы обеспечить поддержку других форматов электронных документов, следует использовать платформу обмена данными.</span><span class="sxs-lookup"><span data-stu-id="5b2da-108">To provide support for other electronic document formats, you use the data exchange framework.</span></span>

 <span data-ttu-id="5b2da-109">На следующей схеме показана архитектура платформы обмена данными.</span><span class="sxs-lookup"><span data-stu-id="5b2da-109">The following diagrams show the architecture of the data exchange framework.</span></span>  

 ![Структура обмена данными &#45; импорт](media/across-data-exchange/dataexchangeframework_import.png)  

 ![Структура обмена данными &#45; экспорт](media/across-data-exchange/dataexchangeframework_export.png)  

 ## <a name="electronic-documents"></a><span data-ttu-id="5b2da-112">Электронные документы</span><span class="sxs-lookup"><span data-stu-id="5b2da-112">Electronic Documents</span></span>
 <span data-ttu-id="5b2da-113">Вместо отправки файлов в виде вложений в сообщения электронной почты можно отправлять и получать бизнес-документы в электронном виде.</span><span class="sxs-lookup"><span data-stu-id="5b2da-113">As an alternative to emailing as file attachments, you can send and receive business documents electronically.</span></span> <span data-ttu-id="5b2da-114">Под электронным документом понимается документ в виде соответствующего стандарту файла, представляющего бизнес-документ (например, счет от поставщика), который может быть получен и преобразован в счет покупки в [!INCLUDE[d365fin](includes/d365fin_md.md)].</span><span class="sxs-lookup"><span data-stu-id="5b2da-114">By electronic document is meant a standard-compliant file representing a business document, such as an invoice from a vendor that you can receive and convert to a purchase invoice in [!INCLUDE[d365fin](includes/d365fin_md.md)] .</span></span> <span data-ttu-id="5b2da-115">Обмен электронными документами между двумя торговыми партнерами выполняется внешним провайдером служб обмена документами.</span><span class="sxs-lookup"><span data-stu-id="5b2da-115">The exchange of electronic documents between two trading partners is performed by an external provider of document exchange services.</span></span> <span data-ttu-id="5b2da-116">Универсальная версия [!INCLUDE[d365fin](includes/d365fin_md.md)] поддерживает отправку и получение электронных счетов и кредит-нот в формате PEPPOL, поддерживаемом крупнейшими поставщиками служб обмена документами.</span><span class="sxs-lookup"><span data-stu-id="5b2da-116">The generic version of [!INCLUDE[d365fin](includes/d365fin_md.md)]  supports sending and receiving electronic invoices and credit memos in the PEPPOL format, which is supported by the largest providers of document exchange services.</span></span> <span data-ttu-id="5b2da-117">Крупный поставщик служб обмена документами заранее настроен и готов установке в вашей компании.</span><span class="sxs-lookup"><span data-stu-id="5b2da-117">A major provider of document exchange services is preconfigured and ready to be set up for your company.</span></span> <span data-ttu-id="5b2da-118">Чтобы обеспечить поддержку других форматов электронных документов, необходимо создать новые определения обмена данными с помощью платформы обмена данными.</span><span class="sxs-lookup"><span data-stu-id="5b2da-118">To provide support for other electronic document formats, you must create new date exchange definitions using the Data Exchange Framework.</span></span>  

 <span data-ttu-id="5b2da-119">Из файлов PDF или графических файлов, представляющих входящие документы, с помощью внешней службы OCR (оптического распознавания символов) можно создавать электронные документы, которые затем будут преобразовываться в записи документов в [!INCLUDE[d365fin](includes/d365fin_md.md)], аналогично электронным документам PEPPOL.</span><span class="sxs-lookup"><span data-stu-id="5b2da-119">From PDF or image files representing incoming documents, you can have an external OCR service (Optical Character Recognition) create electronic documents that you can then convert to document records in [!INCLUDE[d365fin](includes/d365fin_md.md)], like for electronic PEPPOL documents.</span></span> <span data-ttu-id="5b2da-120">Например, при получении от поставщика счета в формате PDF можно отправить его в службу OCR на странице **Входящие документы**.</span><span class="sxs-lookup"><span data-stu-id="5b2da-120">For example, when you receive an invoice in PDF format from your vendor, you can send it to the OCR service from the **Incoming Documents** page.</span></span> <span data-ttu-id="5b2da-121">Спустя несколько секунд файл будет возвращен в виде электронного счета, который может быть преобразован в счет покупки для этого поставщика.</span><span class="sxs-lookup"><span data-stu-id="5b2da-121">After a few seconds, you receive the file back as an electronic invoice that can be converted to a purchase invoice for the vendor.</span></span> <span data-ttu-id="5b2da-122">Если вы отправляете файл в службу OCR по электронной почте, то новая запись входящего документа создается автоматически при получении назад электронного документа.</span><span class="sxs-lookup"><span data-stu-id="5b2da-122">If you send the file to the OCR service by email, then a new incoming document record is automatically created when you receive the electronic document back.</span></span>  

 <span data-ttu-id="5b2da-123">Например, чтобы отправить счет продажи как электронный документ PEPPOL, следует выбрать параметр **Электронный документ** в диалоговом окне **Учет и отправка**.</span><span class="sxs-lookup"><span data-stu-id="5b2da-123">To send, for example, a sales invoice as an electronic PEPPOL document, you select the **Electronic Document** option in the **Post and Send** dialog box.</span></span> <span data-ttu-id="5b2da-124">В этом окне также можно настроить профиль отправки документов клиента по умолчанию.</span><span class="sxs-lookup"><span data-stu-id="5b2da-124">From here, you can also set up the customer’s default document sending profile.</span></span> <span data-ttu-id="5b2da-125">Прежде всего, необходимо настроить различные основные данные – такие как информацию об организации, клиентах, товарах и единицах измерения.</span><span class="sxs-lookup"><span data-stu-id="5b2da-125">First, you must set up various master data, such as company information, customers, items, and units of measure.</span></span> <span data-ttu-id="5b2da-126">Они используются для определения бизнес-партнеров и товаров при преобразовании данных в полях [!INCLUDE[d365fin](includes/d365fin_md.md)] в элементы файла исходящего документа.</span><span class="sxs-lookup"><span data-stu-id="5b2da-126">These are used to identify the business partners and items when you convert data in fields in [!INCLUDE[d365fin](includes/d365fin_md.md)]  to elements in the outgoing document file.</span></span> <span data-ttu-id="5b2da-127">Преобразование данных и отправка счета продажи PEPPOL выполняется соответствующим модулем codeunit и XMLport, представленными форматом электронных документов **PEPPOL**.</span><span class="sxs-lookup"><span data-stu-id="5b2da-127">The data conversion and sending of the PEPPOL sales invoice are performed by dedicated codeunits and XMLports, represented by the **PEPPOL** electronic document format.</span></span>  

 <span data-ttu-id="5b2da-128">Например, для получения счета от поставщика в формате электронного документа PEPPOL необходимо обработать документ на странице **Входящие документы**, преобразовав его в счет покупки в [!INCLUDE[d365fin](includes/d365fin_md.md)].</span><span class="sxs-lookup"><span data-stu-id="5b2da-128">To receive, for example, an invoice from a vendor as an electronic PEPPOL document, you process the document on the **Incoming Documents** page to convert it to a purchase invoice in [!INCLUDE[d365fin](includes/d365fin_md.md)].</span></span> <span data-ttu-id="5b2da-129">Можно настроить функцию очереди заданий для обработки таких файлов на регулярной основе либо запускать этот процесс вручную.</span><span class="sxs-lookup"><span data-stu-id="5b2da-129">You can either set up the Job Queue feature to process such files regularly or you can start the process manually.</span></span> <span data-ttu-id="5b2da-130">Прежде всего, необходимо настроить различные основные данные – такие как информацию об организации, поставщиках, товарах и единицах измерения.</span><span class="sxs-lookup"><span data-stu-id="5b2da-130">First, you must set up various master data, such as company information, vendors, items, and units of measure.</span></span> <span data-ttu-id="5b2da-131">Они используются для определения бизнес-партнеров и товаров при преобразовании данных в элементах файла исходящего документа в поля в [!INCLUDE[d365fin](includes/d365fin_md.md)].</span><span class="sxs-lookup"><span data-stu-id="5b2da-131">These are used to identify the business partners and items when you convert data in elements in the incoming document file to fields in [!INCLUDE[d365fin](includes/d365fin_md.md)].</span></span> <span data-ttu-id="5b2da-132">Получение и преобразование счетов PEPPOL выполняются платформой обмена данными, представленной в определении обмена данными **PEPPOL — Счет**.</span><span class="sxs-lookup"><span data-stu-id="5b2da-132">The receiving and data conversion of PEPPOL invoices are performed by the Data Exchange Framework, represented by the **PEPPOL - Invoice** data exchange definition.</span></span>  

  <span data-ttu-id="5b2da-133">Например, чтобы получить счет в виде электронного документа OCR, его необходимо обработать как при получении электронного документа PEPPOL.</span><span class="sxs-lookup"><span data-stu-id="5b2da-133">To receive, for example, an invoice as an electronic OCR document, you process it as when you receive an electronic PEPPOL document.</span></span> <span data-ttu-id="5b2da-134">Получение и преобразование электронных документов из OCR выполняется платформой обмена данными, представленной в определении обмена данными **OCR — Счет**.</span><span class="sxs-lookup"><span data-stu-id="5b2da-134">The receiving and conversion of electronic documents from OCR are performed by the Data Exchange Framework, represented by the **OCR – Invoice** data exchange definition.</span></span>  

 ## <a name="bank-files"></a><span data-ttu-id="5b2da-135">Банковские файлы</span><span class="sxs-lookup"><span data-stu-id="5b2da-135">Bank Files</span></span>  
 <span data-ttu-id="5b2da-136">Форматы файлов для обмена банковскими данными с ERP-системами варьируются в зависимости от поставщика файла и страны или региона.</span><span class="sxs-lookup"><span data-stu-id="5b2da-136">The formats of files for exchanging bank data with ERP systems vary depending on the supplier of the file and the country or region.</span></span> [!INCLUDE[d365fin](includes/d365fin_md.md)] <span data-ttu-id="5b2da-137">поддерживает импорт и экспорт банковских файлов SEPA, а расширение AMC Banking 365 Fundamentals позволяет подключиться к расширению AMC Banking 365 Fundamentals, предлагаемому внешним поставщиком, AMC Consult.</span><span class="sxs-lookup"><span data-stu-id="5b2da-137">supports import and export of SEPA bank files (Single Euro Payments Area) and the AMC Banking 365 Fundamentals extension lets you connect to a AMC Banking 365 Fundamentals extension provided by external provider, AMC Consult.</span></span> <span data-ttu-id="5b2da-138">Чтобы обеспечить поддержку других форматов электронных документов, следует использовать платформу обмена данными.</span><span class="sxs-lookup"><span data-stu-id="5b2da-138">To provide support for other electronic document formats, you use the Data Exchange Framework.</span></span>  

 <span data-ttu-id="5b2da-139">Для экспорта кредитных переводов SEPA нажмите кнопку **Экспорт платежей в файл** на странице **Журнал платежей** и загрузите файл для обработки платежей в свой банк.</span><span class="sxs-lookup"><span data-stu-id="5b2da-139">To export SEPA credit transfers, you choose **Export Payments to File** button on the **Payment Journal** page and then upload the file to process the payments in your bank.</span></span> <span data-ttu-id="5b2da-140">Вначале необходимо задать различные основные данные – такие как банковский счет, поставщики и способы оплаты.</span><span class="sxs-lookup"><span data-stu-id="5b2da-140">First you must set up various master data, such as bank account, vendors, and payment methods.</span></span> <span data-ttu-id="5b2da-141">Преобразование данных и экспорт банковских данных SEPA выполняется соответствующим модулем codeunit и XMLport, представленными в настройке банковского импорта и экспорта **Кредитные переводы SEPA**.</span><span class="sxs-lookup"><span data-stu-id="5b2da-141">The data conversion and export of SEPA bank data is performed by a dedicated codeunit and XMLport, represented by the **SEPA Credit Transfer** bank export/import setup.</span></span> <span data-ttu-id="5b2da-142">Также можно настроить расширение AMC Banking 365 Fundamentals для выполнения экспорта, представленного определением обмена данными **Расширение AMC Banking 365 Fundamentals — кредитовый перевод**.</span><span class="sxs-lookup"><span data-stu-id="5b2da-142">Alternatively, you can set up the AMC Banking 365 Fundamentals extension to perform the export, represented by the **AMC Banking 365 Fundamentals extension - Credit Transfer** data exchange definition.</span></span>  

 <span data-ttu-id="5b2da-143">Для экспорта команд для прямого дебита формата SEPA нажмите кнопку **Экспорт файла прямого дебетования** на странице **Коллекции прямого дебетования** и отправьте ее в свой банк для автоматического сбора указанных в ней платежей клиента.</span><span class="sxs-lookup"><span data-stu-id="5b2da-143">To export SEPA direct debit instructions, you choose the **Export Direct Debit File** button on the **Direct Debit Collections** page and then send to your bank to automatically collect the involved customer payments.</span></span> <span data-ttu-id="5b2da-144">Вначале необходимо задать банковские счета, клиентов, поставщиков, мандаты прямого дебита и способы оплаты.</span><span class="sxs-lookup"><span data-stu-id="5b2da-144">First you must set up bank accounts, customers, direct-debit mandates, and payment methods.</span></span> <span data-ttu-id="5b2da-145">Преобразование данных и экспорт банковских данных SEPA выполняется соответствующим модулем codeunit и XMLport, отраженными в настройке банковского импорта и экспорта **Прямой дебит SEPA**.</span><span class="sxs-lookup"><span data-stu-id="5b2da-145">The data conversion and export of SEPA bank data is performed by dedicated a codeunit and XMLport, represented by the **SEPA Direct Debit** bank export/import setup.</span></span>  

 <span data-ttu-id="5b2da-146">Для импорта банковских выписок SEPA нужно нажать кнопку "Импорт банковских выписок" на страницах **Журнал выверки платежей** и **Выверка банковского счета**, после чего приложить каждую запись банковской выписки к платежам или записям банковской книги в ручном или автоматическом режиме.</span><span class="sxs-lookup"><span data-stu-id="5b2da-146">To import SEPA bank statements, you choose the Import Bank Statement button in the **Payment Reconciliation Journal** and **Bank Acc. Reconciliation** pages and then you proceed to apply each bank statement entry to payments or bank ledger entries, manually or automatically.</span></span> <span data-ttu-id="5b2da-147">Необходимо сначала настроить банковские счета.</span><span class="sxs-lookup"><span data-stu-id="5b2da-147">First you must set up bank accounts.</span></span> <span data-ttu-id="5b2da-148">Импорт и преобразование банковских данных SEPA выполняется платформой обмена данными, представленной в определении обмена данными **SEPA CAMT**.</span><span class="sxs-lookup"><span data-stu-id="5b2da-148">The import and data conversion of SEPA bank data is performed by the Data Exchange Framework, represented by the **SEPA CAMT** data exchange definition.</span></span> <span data-ttu-id="5b2da-149">Также можно настроить расширение AMC Banking 365 Fundamentals для выполнения импорта, представленного определением обмена данными **Расширение AMC Banking 365 Fundamentals — банковская выписка**.</span><span class="sxs-lookup"><span data-stu-id="5b2da-149">Alternatively, you can set up the AMC Banking 365 Fundamentals extension to perform the import, represented by the **AMC Banking 365 Fundamentals extension – Bank Statement** data exchange definition.</span></span>  

 <span data-ttu-id="5b2da-150">Кроме того, локальные версии [!INCLUDE[d365fin](includes/d365fin_md.md)] поддерживают разные другие форматы файлов для импорта и экспорта банковских данных, перечислений заработной платы и других данных.</span><span class="sxs-lookup"><span data-stu-id="5b2da-150">In addition, the local versions of [!INCLUDE[d365fin](includes/d365fin_md.md)] support various other file formats for importing and exporting bank data, payroll transactions, and other data.</span></span> <span data-ttu-id="5b2da-151">Дополнительные сведения см. раздел справки “Локальные функции” в версии [!INCLUDE[d365fin](includes/d365fin_md.md)] для вашей страны.</span><span class="sxs-lookup"><span data-stu-id="5b2da-151">For more information, see the “Local Functionality” Help section in your country version of [!INCLUDE[d365fin](includes/d365fin_md.md)].</span></span>

  ## <a name="currency-exchange-rates"></a><span data-ttu-id="5b2da-152">Валютные курсы</span><span class="sxs-lookup"><span data-stu-id="5b2da-152">Currency Exchange Rates</span></span>  
 <span data-ttu-id="5b2da-153">Для обновления валютных курсов можно использовать внешнюю службу.</span><span class="sxs-lookup"><span data-stu-id="5b2da-153">You can set up an external service to keep your for currency exchange rates up to date.</span></span> <span data-ttu-id="5b2da-154">Служба, предоставляющая обновленные валютные курсы, разрешена определением обмена данными.</span><span class="sxs-lookup"><span data-stu-id="5b2da-154">The service that provides updated currency exchange rates is enabled by a data exchange definition.</span></span> <span data-ttu-id="5b2da-155">Соответственно, страница **Карточка настройки обновления валютных курсов** представляет собой сжатый вид страницы **Определение обмена данными** для рассматриваемого определения обмена данными.</span><span class="sxs-lookup"><span data-stu-id="5b2da-155">Accordingly, the **Exch. Rate Update Setup Card** page is a condensed view of the **Data Exchange Definition** page for the data exchange definition in question.</span></span>  

 <span data-ttu-id="5b2da-156">Для всего обмена данными в XML-файлах можно подготовить настройку обмена данными, загрузив связанный файл XML-схемы на странице **Средство просмотра схем XML**.</span><span class="sxs-lookup"><span data-stu-id="5b2da-156">For all exchanges of data in XML files, you can prepare the data exchange setup by loading the related XML schema file on the **XML Schema Viewer** page.</span></span> <span data-ttu-id="5b2da-157">Здесь можно выбрать элементы данных, которыми требуется обменяться с [!INCLUDE[d365fin](includes/d365fin_md.md)], а затем инициализировать определение обмена данными или сгенерировать XMLport.</span><span class="sxs-lookup"><span data-stu-id="5b2da-157">Here you select the data elements that you want to exchange with [!INCLUDE[d365fin](includes/d365fin_md.md)]  and then you either initialize a data exchange definition or generate an XMLport.</span></span>

## <a name="see-also"></a><span data-ttu-id="5b2da-158">См. также</span><span class="sxs-lookup"><span data-stu-id="5b2da-158">See Also</span></span>  
[<span data-ttu-id="5b2da-159">Электронный обмен данными</span><span class="sxs-lookup"><span data-stu-id="5b2da-159">Exchanging Data Electronically</span></span>](across-data-exchange.md)  
[<span data-ttu-id="5b2da-160">Использование XML-схем для определения обмена данными</span><span class="sxs-lookup"><span data-stu-id="5b2da-160">Use XML Schemas to Prepare Data Exchange Definitions</span></span>](across-how-to-use-xml-schemas-to-prepare-data-exchange-definitions.md)  
[<span data-ttu-id="5b2da-161">Настройка обмена данными</span><span class="sxs-lookup"><span data-stu-id="5b2da-161">Setting Up Data Exchange</span></span>](across-set-up-data-exchange.md)  
[<span data-ttu-id="5b2da-162">Входящие документы</span><span class="sxs-lookup"><span data-stu-id="5b2da-162">Incoming Documents</span></span>](across-income-documents.md)  
[<span data-ttu-id="5b2da-163">Общие бизнес-функции</span><span class="sxs-lookup"><span data-stu-id="5b2da-163">General Business Functionality</span></span>](ui-across-business-areas.md)  
