---
title: Определение гранулярных разрешений | Документация Майкрософт
description: Описывает, как предоставить пользователям доступ к объектам путем назначения им наборов разрешений.
author: SorenGP
ms.service: dynamics365-business-central
ms.topic: article
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms.search.keywords: access, right, security
ms.date: 10/01/2020
ms.author: edupont
ms.openlocfilehash: c2b663208a1bed8522ea532efdb2dee0d519b646
ms.sourcegitcommit: ddbb5cede750df1baba4b3eab8fbed6744b5b9d6
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/01/2020
ms.locfileid: "3912525"
---
# <a name="assign-permissions-to-users-and-groups"></a>Назначение разрешений пользователям и группам

Система безопасности [!INCLUDE[d365fin](includes/d365fin_md.md)] позволяет вам контролировать, к каким объектам пользователь может получить доступ в каждой базе данных или среде. Вы можете указать для каждого пользователя, могут ли они читать, изменять или вводить данные в выбранные объекты базы данных. Для получения подробной информации см. [Безопасность данных](/dynamics365/business-central/dev-itpro/security/data-security?tabs=object-level) в справке разработчика и ИТ-специалиста для [!INCLUDE[d365fin](includes/d365fin_md.md)].

Прежде чем назначать разрешения пользователям и группам пользователей, необходимо определить, кто может входить в систему, создав пользователей в соответствии с лицензией, определенной в центре администрирования Microsoft 365. Для получения дополнительной информации см. раздел [Создание пользователей в соответствии с лицензиями](ui-how-users-permissions.md).

В [!INCLUDE[d365fin](includes/d365fin_md.md)] существует два уровня разрешений для объектов базы данных:

- Общие разрешения в соответствии с лицензией, также называемые правом.
- Более подробные разрешения, назначенные изнутри [!INCLUDE[d365fin](includes/d365fin_md.md)].

Чтобы упростить управление разрешениями для нескольких пользователей, вы можете организовать их в группы пользователей и тем самым назначить или изменить один набор разрешений для многих пользователей за одно действие. Дополнительные сведения см. в разделе [Управление разрешениями с помощью групп пользователей](ui-define-granular-permissions.md#to-manage-permissions-through-user-groups).

> [!NOTE]
> Дополнительный метод определения того, к каким функциям пользователь имеет доступ, заключается в установке поля **Функциональность** на странице **Информация о компании**. Дополнительные сведения см. в разделе [Изменение набора отображаемых функций](ui-experiences.md).
>
> Вы также можете определить, что пользователи будут видеть в пользовательском интерфейсе и как они будут взаимодействовать с разрешенной им функциональностью через страницы. Это делается через профили, которые вы назначаете различным типам пользователей в соответствии с их рабочей ролью или отделом. Дополнительные сведения см. в разделе [Управление профилями](admin-users-profiles-roles.md) и [Настройка [!INCLUDE[d365fin](includes/d365fin_md.md)]](ui-customizing-overview.md).

## <a name="to-assign-permission-sets-to-users"></a>Назначение наборов разрешений пользователям

Набор разрешений — это коллекция прав доступа к конкретным объектам базы данных. Всем пользователям необходимо назначить один или несколько наборов разрешений, прежде чем они смогут получить доступ к [!INCLUDE[d365fin](includes/d365fin_md.md)].

Решение [!INCLUDE[d365fin](includes/d365fin_md.md)] содержит несколько предопределенных наборов разрешений, которые добавлены Microsoft или вашим поставщиком решений. Вы также можете добавить новые наборы разрешений, адаптированные к потребностям вашей организации. Дополнительные сведения см. в разделе [Создание и изменение набора разрешений](ui-define-granular-permissions.md#to-create-or-modify-a-permission-set).

> [!NOTE]
> Если вы не хотите ограничивать доступ пользователя более, чем это уже определено лицензией, вы можете назначить пользователю специальный набор разрешений, называемый SUPER. Этот набор разрешений гарантирует, что пользователь может получить доступ ко всем объектам, указанным в лицензии.
>
> Пользователь с лицензией Essential и набором разрешений SUPER имеет доступ к большему количеству функций, чем пользователи с лицензией участника рабочей группы и набором разрешений SUPER.

Можно назначить наборы разрешений пользователям двумя способами:

- Со страницы **Карточка пользователя**, выбирая наборы разрешений, которые необходимо назначить пользователю.
- Со страницы **Набор разрешений по пользователю**, выбирая пользователей, которым назначен набор разрешений.

### <a name="to-assign-a-permission-set-on-a-user-card"></a>Назначение набора разрешений карте пользователя

1. Выберите значок ![Лампочка, которая открывает функцию "Что вы хотите сделать"](media/ui-search/search_small.png "Что вы хотите сделать"), введите **Пользователи**, затем выберите соответствующую ссылку.
2. Выберите пользователя, которому нужно назначить разрешение.
Любые наборы разрешений, которые уже назначены пользователю, отображаются на информационной панели **Наборы разрешений**.
3. Выберите действие **Правка**, чтобы открыть страницу **Карточка пользователя**.
4. На экспресс-вкладке **Наборы разрешений пользователя** в новой строке заполните требуемые поля. Дополнительные сведения см. в разделе [Создание и изменение набора разрешений](ui-define-granular-permissions.md#to-create-or-modify-a-permission-set).

### <a name="to-assign-a-permission-set-on-the-permission-set-by-user-page"></a>Назначение набора разрешений на странице Набор разрешений по пользователю

1. Выберите значок ![Лампочка, которая открывает функцию "Что вы хотите сделать"](media/ui-search/search_small.png "Что вы хотите сделать"), введите **Пользователи**, затем выберите соответствующую ссылку.
2. На странице **Пользователи** выберите соответствующего пользователя, затем выберите действие **Набор разрешений по пользователю**.
3. На странице **Набор разрешений по пользователю** установите флажок **[имя пользователя]** в строке для соответствующего набора разрешений для назначения набора пользователю.
4. Установите флажок **Все пользователи**, чтобы назначить набор разрешений для всех пользователей.

## <a name="to-get-an-overview-of-a-users-permissions"></a>Получение просмотра разрешений пользователя

1. Выберите значок ![Лампочка, которая открывает функцию "Что вы хотите сделать"](media/ui-search/search_small.png "Что вы хотите сделать"), введите **Пользователи**, затем выберите соответствующую ссылку.
2. Откройте карточку соответствующего пользователя.
3. Выберите действие **Действующие разрешения**.

    В части **Разрешения** перечисляются все объекты базы данных, к которым пользователь имеет доступ. Этот раздел изменить нельзя.

    Часть **По набору разрешений** показывает назначенные наборы разрешений, права доступа из которых предоставлены пользователю, источник и тип набора разрешений, а также до какой степени разрешены другие типы доступа.

    Для каждой строки в разделе **Разрешения** раздел **По набору разрешений** показывает, через какой набор или наборы разрешений это разрешение предоставлено. В этом разделе можно изменить значение в каждом из пяти полей типов доступа **Права на чтение**, **Права на вставку**, **Права на изменение**, **Права на удаление** и **Права на выполнение**.

    > [!NOTE]  
    > Только наборы разрешений типа **Пользовательский** можно изменить.
    >
    > Строки объема обслуживания источника связаны с лицензией подписки. Значения разрешений для объема обслуживания переопределяют значения в других наборах разрешений, если их уровень выше. Значение в наборе разрешений вне объема обслуживания, которое имеет более высокий ранг, чем связанное значение в объеме обслуживания, будет заключено в скобки для указания, что оно не действует, так как переопределено объемом обслуживания.
    >
    > Объяснение рейтинга см. в разделе [Создание и изменение разрешений вручную](ui-define-granular-permissions.md#to-create-or-modify-permissions-manually).  

4. Чтобы изменить набор разрешений в части **По набору разрешений**, в строке для соответствующего типа набора разрешений **Пользовательские** выберите один из пяти полей типа доступа и выберите другое значение.

5. Для редактирования разрешений в наборе разрешений выберите значение в поле **Набор разрешений**, чтобы открыть страницу **Разрешения**. Выполните шаги, описанные в разделе [Создание или изменение разрешений](ui-define-granular-permissions.md#to-create-or-modify-permissions-manually).  

> [!NOTE]  
> При редактировании набора разрешений изменения будут также применяться к другим пользователям, который назначен этот набор разрешений.

## <a name="to-create-or-modify-a-permission-set"></a>Создание или изменение набора разрешений

Наборы разрешений выполняют функцию контейнеров для разрешений, чтобы можно было легко управлять несколькими разрешениями в одной записи.

> [!NOTE]  
> Решение [!INCLUDE[d365fin](includes/d365fin_md.md)] обычно содержит несколько предопределенных наборов разрешений, которые добавлены Microsoft или вашим поставщиком программного обеспечения. Эти наборы разрешений имеют тип **Система** или **Расширение**. Нельзя создать или отредактировать подобные типы наборов разрешений или разрешения внутри них. Однако их можно скопировать для определения ваших собственных наборов разрешений и разрешений.
>
> Наборы разрешений, которые пользователи создают из новых или как копии, имеют тип **Пользовательские** и являются редактируемыми.

### <a name="to-create-new-permission-set-from-scratch"></a>Создание нового набора разрешений с нуля

1. Выберите значок ![Лампочка, которая открывает функцию "Что вы хотите сделать"](media/ui-search/search_small.png "Что вы хотите сделать"), введите **Набор разрешений**, затем выберите соответствующую ссылку.
2. Чтобы создать новый набор разрешений, выберите действие **Создать**.
3. В новой строке заполните поля, как требуется. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)] Когда создан набор разрешений, нужно добавить фактические разрешения. Дополнительные сведения см. в разделе [Создание и изменение разрешений вручную](ui-define-granular-permissions.md#to-create-or-modify-permissions-manually).

### <a name="to-copy-a-permission-set"></a>Копирование набора разрешений

Можно также использовать функцию копирования для быстрого переноса всех разрешений другого набора разрешений в новый набор разрешений.

> [!NOTE]  
> Если системный набор разрешений, который вы копировали, был изменен, вы получите уведомление (в зависимости от вашего выбора), чтобы можно было проверить, необходимо ли скопировать или записать эти изменения в ваш набор разрешений, определяемый пользователем.

1. На странице **Наборы разрешений** выберите строку для набора разрешений, который требуется копировать, затем выберите действие **Копировать набор разрешений**.
2. На странице **Копировать набор разрешений** укажите имя нового набора разрешений, затем выберите кнопку **ОК**.
3. Установите флажок **Уведомлять при изменении набора разрешений**, если необходимо сохранять связь между первоначальным и скопированным наборами разрешений. Ссылка затем используется для уведомления, если имя или содержимое первоначального набора разрешений изменилось в будущей версии, до которой решение будет обновлено позднее.

Новый набор разрешений, содержащий все права доступа скопированного набора разрешений, добавляется в качестве новой строки на странице **Наборы разрешений**. Теперь вы можете изменить разрешение в новом наборе разрешений. Обратите внимание, что строки сортируются в алфавитном порядке внутри каждого типа.

### <a name="to-export-and-import-a-permission-set"></a>Экспорт и импорт набора разрешений

Чтобы быстро настроить разрешения, вы можете импортировать наборы разрешений, которые вы экспортировали из другого арендатора [!INCLUDE[d365fin](includes/d365fin_md.md)].

В средах с несколькими арендаторами набор разрешений будет импортирован в конкретного арендатора, т. е. областью импорта будет "Арендатор".

1. В арендаторе 1 на странице **Наборы разрешений** выберите строку или строки, соответствующие экспортируемым наборам разрешений, затем выберите действие **Экспорт наборов разрешений**.

    В папке загрузок на вашем компьютере создается XML-файл. По умолчанию он называется Export Permission Sets.xml.

2. В арендаторе 2 на странице **Наборы разрешений** выберите действие **Импорт наборов разрешений**.
3. На диалоговой странице **Импорт наборов разрешений** укажите, хотите ли вы объединить существующие наборы разрешений с новыми наборами разрешений в XML-файле.

    При установке флажка **Обновить существующие разрешения** существующие наборы разрешений с теми же именами, что и в XML-файле, будут объединены с импортируемыми наборами разрешений.

    Если не устанавливать флажок **Обновить существующие разрешения**, наборы разрешений с теми же именами, что и в XML-файле, будут пропущены при импорте. В этом случае вы будете уведомлены о пропущенных наборах разрешений.

4. На диалоговой странице **Импорт** найдите и выберите XML-файл, который требуется импортировать, и выберите действие **Открыть**.

Наборы разрешений импортируются.

## <a name="to-create-or-modify-permissions-manually"></a>Создание или изменение разрешений вручную

Данная процедура объясняет, как добавить или изменить разрешения вручную. Можно также автоматически создавать разрешения из ваших действий в пользовательском интерфейсе. Дополнительные сведения см. в разделе [Создание или изменение разрешений путем записи действий](ui-define-granular-permissions.md#to-create-or-modify-permissions-by-recording-your-actions).

> [!NOTE]
> При редактировании разрешения и, таким образом, связанного набора разрешений, изменения будут также применяться к другим пользователям, который назначен этот набор разрешений.

1. На странице **Наборы разрешений** выберите строку для набора разрешений, который требуется копировать, затем выберите действие **Разрешения**.
2. На странице **Разрешения** создайте новую строку или измените поля в существующей строке.

В каждом из пяти полей типов доступа **Права на чтение**, **Права на вставку**, **Права на изменение**, **Права на удаление** и **Права на выполнение** можно выбрать один из следующих трех параметров разрешения:

|Параметр|Описание|Рейтинг|
|------|-----------|-------|
|**Да**|Пользователь может выполнить действие в рассматриваемом объекте.|Наиболее высокий|
|**Косвенные**|Пользователь может выполнить действие в рассматриваемом объекте, но только с помощью соответствующего объекта, к которому пользователь имеет полный доступ. Для получения дополнительной информации о косвенных разрешениях см. раздел [Свойство разрешений](/dynamics365/business-central/dev-itpro/developer/properties/devenv-permissions-property) в Справке для разработчиков и ИТ-специалистов.|Второй по старшинству|
|**Пусто**|Пользователь не может выполнить действие в рассматриваемом объекте.|Наиболее низкий|

### <a name="example---indirect-permission"></a>Пример — косвенное разрешение

Можно назначить косвенное разрешение, чтобы использовать объект только через другой объект.
Например, пользователь может иметь права на запуск модуля кода 80 "Продажи-учет". Модуль Codeunit Продажи-учет выполняет многие задачи, в том числе изменение таблицы 37 Строка продажи. Когда пользователь учитывает документ продажи, модуль Codeunit "Продажи-учет", [!INCLUDE[d365fin](includes/d365fin_md.md)] проверяет, имеет ли пользователь разрешение на изменение таблицы "Строка продажи". Если этого не сделать, модуль Codeunit не сможет завершить свои задачи, а пользователь получит сообщение об ошибке. Если это так, codeunit работает успешно.

Пользователю не нужно получать доступ к таблице Строка продажи, чтобы запустить модуль Codeunit. Если у пользователя есть косвенное разрешение для таблицы "Строка продажи", модуль Codeunit "Продажи-учет" запускается успешно. Когда пользователь имеет косвенное разрешение, такой пользователь может изменить таблицу Строка продажи, только запустив модуль Codeunit Продажи-учет или другой объект, у которого есть разрешение на изменение таблицы Строка продажи. Пользователь может изменить таблицу Строка продажи, только если это выполняется из поддерживаемых областей приложения. Пользователь не может запустить эту функцию нечаянно или злоумышленно другими методами.

## <a name="to-create-or-modify-permissions-by-recording-your-actions"></a>Создание или изменение разрешений путем записи действий

1. Выберите значок ![Лампочка, которая открывает функцию "Что вы хотите сделать"](media/ui-search/search_small.png "Что вы хотите сделать"), введите **Набор разрешений**, затем выберите соответствующую ссылку.
2. Либо на странице **Пользователи** выберите действие **Наборы разрешений**.
3. На странице **Наборы разрешений** выберите действие **Создать**.
4. На новой строке заполните поля, как требуется.
5. Выберите действие **Разрешения**.
6. На странице **Разрешения** выберите действие **Записать права доступа**, затем выберите действие **Запуск**.

    При этом запускается процесс регистрации, который записывает все ваши действия в пользовательском интерфейсе.
7. Перейдите к различным страницам и мероприятиям в [!INCLUDE[d365fin](includes/d365fin_md.md)], к которым требуется разрешить доступ пользователям с этим набором разрешений. Выполните задачи, для которых следует записать разрешения.
8. Чтобы завершить запись, вернитесь на страницу **Разрешения** и выберите действие **Остановить**.
9. Нажмите кнопку **Да** для добавления записанных разрешений к новому набору разрешений.
10. Для каждого объекта в записанном списке укажите, может ли пользователь вставлять, изменять или удалять записи в записанных таблицах.

## <a name="security-filters---to-limit-a-users-access-to-specific-records-in-a-table"></a>Фильтры безопасности — для ограничения доступа пользователя к определенным записям в таблице

Для обеспечения безопасности на уровне записи в [!INCLUDE[d365fin](includes/d365fin_md.md)] можно использовать фильтры для ограничения доступа пользователей к данным в таблице. Фильтры безопасности создаются для данных в таблице. Фильтр безопасности описывает набор записей в таблице, для которых у пользователя имеются права доступа. Например, можно указать, что пользователь может только считывать записи, которые содержат информацию об определенном клиенте. Иными словами, этот пользователь не может получить доступ к записям, содержащим информацию о других клиентах. Дополнительные сведения см. в разделе [Использование фильтров безопасности](/dynamics365/business-central/dev-itpro/security/security-filters) в справке для разработчиков и ИТ-специалистов.

## <a name="to-manage-permissions-through-user-groups"></a>Для управления разрешениями через группы пользователей

Можно настроить группы пользователей для управления наборами разрешений для групп пользователей в своей организации.

Вы начинаете с создания группы пользователей. Затем вы назначаете наборы разрешений группе, чтобы определить, к какому объекту пользователи группы могут обращаться. Когда вы добавляете пользователя в группу, наборы разрешений, определенные для группы, будут применяться к пользователю.

Наборы разрешений, назначенные пользователю через группу пользователей, остаются синхронизированными, поэтому изменение разрешений группы пользователей автоматически распространяется на пользователя. Если вы удаляете пользователя из группы пользователей, соответствующие разрешения автоматически аннулируются.

### <a name="to-group-users-in-user-groups"></a>Группировка пользователей в группы пользователей

Следующая процедура объясняет, как создавать группы пользователей вручную. Чтобы создать группы пользователей автоматически, см. раздел [Копирование группы пользователей и всех ее наборов разрешений](ui-define-granular-permissions.md#to-copy-a-user-group-and-all-its-permission-sets),

1. Выберите значок ![Лампочка, которая открывает функцию "Что вы хотите сделать"](media/ui-search/search_small.png "Что вы хотите сделать"), введите **Группы пользователей**, затем выберите соответствующую ссылку.
2. Либо на странице **Пользователи** выберите действие **Группы пользователей**.
3. На странице **Группа пользователей** выберите действие **Участники группы пользователей**.
4. На странице **Участники группы пользователей** выберите действие **Добавить пользователей**.

### <a name="to-copy-a-user-group-and-all-its-permission-sets"></a>Копирование группы пользователей и всех ее наборов разрешений

Чтобы быстро определить новую группу пользователей, можно скопировать все наборы разрешений из существующей группы пользователей в новую группу пользователей.

> [!NOTE]
> Члены группы пользователей не копируются в новую группу пользователей. Впоследствии необходимо добавить их вручную. Дополнительные сведения см. в разделе [Группирование пользователей в группы пользователей](ui-define-granular-permissions.md#to-group-users-in-user-groups).

1. Выберите значок ![Лампочка, которая открывает функцию "Что вы хотите сделать"](media/ui-search/search_small.png "Что вы хотите сделать"), введите **Группы пользователей**, затем выберите соответствующую ссылку.
2. Выберите группу пользователей, которую необходимо скопировать, затем выберите действие **Копировать группу пользователей**.
3. В поле **Новый код группы пользователей** введите название группы, затем выберите кнопку **ОК**.

Новая группа пользователей добавляется на странице **Группы пользователей**. Переходите к добавлению пользователей. Дополнительные сведения см. в разделе [Группирование пользователей в группы пользователей](ui-define-granular-permissions.md#to-group-users-in-user-groups).  

### <a name="to-assign-permission-sets-to-user-groups"></a>Назначение наборов разрешений группам пользователей

1. Выберите значок ![Лампочка, которая открывает функцию "Что вы хотите сделать"](media/ui-search/search_small.png "Что вы хотите сделать"), введите **Группы пользователей**, затем выберите соответствующую ссылку.
2. Выберите группу пользователей, которой нужно назначить разрешение.
Любые наборы разрешений, которые уже назначены пользователю, отображаются на информационной панели **Наборы разрешений**.
3. Выберите действие **Наборы разрешений пользователя**, чтобы открыть страницу **Наборы разрешений пользователя**.
4. На странице **Наборы разрешений пользователя** в новой строке заполните требуемые поля.

### <a name="to-assign-a-permission-set-on-the-permission-set-by-user-group-page"></a>Назначение набора разрешений на странице **Набор разрешений по группе пользователей**

В следующей процедуре объясняется, как назначить наборы разрешений группе пользователей на странице **Набор разрешений по группе пользователей**.

1. Выберите значок ![Лампочка, которая открывает функцию "Что вы хотите сделать"](media/ui-search/search_small.png "Что вы хотите сделать"), введите **Пользователи**, затем выберите соответствующую ссылку.
2. На странице **Пользователи** выберите соответствующего пользователя, затем выберите действие **Набор разрешений по группе пользователей**.
3. На странице **Набор разрешений по группе пользователей** установите флажок **[имя группы пользователей]** в строке для соответствующего набора разрешений для назначения набора пользователю.
4. Установите флажок **Все группы пользователей**, чтобы назначить набор разрешений для всех групп пользователей.

## <a name="to-remove-obsolete-permissions-from-all-permission-sets"></a>Удаление устаревших разрешений из всех наборов разрешений

1. На странице **Наборы разрешений** выберите действие **Удалить устаревшие разрешения**.

## <a name="to-set-up-user-time-constraints"></a>Настройка пользовательских ограничений по времени

Администраторы могут определять периоды времени, в течение которых указанные пользователи могут выполнять учет, а также указать, регистрирует ли система время, в течение которого указанные пользователи находятся в системе. Администраторы могут также назначать центры ответственности пользователям. Дополнительные сведения см. в разделе [Работа с центрами ответственности](inventory-responsibility-centers.md).

1. Выберите значок ![Лампочка, которая открывает функцию "Что вы хотите сделать"](media/ui-search/search_small.png "Что вы хотите сделать"), введите **Настройка пользователя**, затем выберите соответствующую ссылку.
2. На странице **Настройка пользователей** выберите действие **Создать**.
3. В поле **ИД пользователя** введите ИД пользователя или выберите поле, чтобы увидеть текущих пользователей Windows в системе.
4. Заполните соответствующим образом поля.

## <a name="see-also"></a>См. также

[Создание пользователей в соответствии с лицензиями](ui-how-users-permissions.md)  
[Управление профилями](admin-users-profiles-roles.md)  
[Изменение набора отображаемых функций](ui-experiences.md)  
[Настройка [!INCLUDE[d365fin](includes/d365fin_md.md)]](ui-customizing-overview.md)  
[Подготовьтесь к ведению бизнеса](ui-get-ready-business.md)  
[Администрация](admin-setup-and-administration.md)  
[Добавление пользователей в Microsoft 365 для бизнеса](https://aka.ms/CreateOffice365Users)  
[Безопасность и защита в Business Central](/dynamics365/business-central/dev-itpro/security/security-and-protection) в Справке разработчика и ИТ-специалиста
