---
title: Настройка специальных цен продажи и скидок для клиентов | Документация Майкрософт
description: Описывается порядок определения соглашений об альтернативных ценах и скидках, которые можно применить к документам продажи при продаже различным клиентам.
author: bholtorf
ms.service: dynamics365-business-central
ms.topic: conceptual
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms.search.keywords: special price, alternate price, pricing
ms.date: 04/01/2021
ms.author: bholtorf
ms.openlocfilehash: bb93853d878ec1aa9b8b0095eb89589c35610f1a
ms.sourcegitcommit: 0953171d39e1232a7c126142d68cac858234a20e
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 06/09/2021
ms.locfileid: "6216157"
---
# <a name="record-special-sales-prices-and-discounts"></a>Регистрация специальных цен продажи и скидок
> [!NOTE]
> Во 2-й волне выпуска 2020 года мы выпустили оптимизированные процессы для настройки цен и скидок и управления ими. Если вы новый клиент, использующий эту версию, вы используете новую версию. Если вы уже являетесь клиентом, то используете ли вы новый интерфейс, зависит от того, включил ли ваш администратор обновление функции **Новые возможности ценообразования для продажи** в **Управление функциями**. Для получения дополнительной информации см. [Раннее включение новых функций](/dynamics365/business-central/dev-itpro/administration/feature-management).

Чтобы к документам продажи применялись согласованные правила и значения, необходимо определить соглашения в отношении цен и скидок, которые будут применяться при продаже товаров клиентам.

После регистрации специальных цен и скидок по строке для покупок и продаж [!INCLUDE[prod_short](includes/prod_short.md)] гарантирует, что ваша прибыль от торговли товаром будет всегда оптимальна, автоматически рассчитывая наилучшую цену в документах продажи и покупки и в строках журнала товаров и работ. Дополнительные сведения см. в разделе [Расчет лучшей цены](sales-how-record-sales-price-discount-payment-agreements.md#best-price-calculation).

В отношении цен, вы можете вводить в строки продаж определенную цену для определенного сочетания клиента, минимального количества, единицы измерения или даты начала/окончания. Дополнительные сведения см. в разделах [Настройка цены продажи для клиента](#to-set-up-a-sales-price-for-a-customer) и [Расчет лучшей цены](#best-price-calculation).  

В отношении скидок, вы можете настроить и использовать два типа скидок продажи:

| Тип скидки | Описание |
| --- | --- |
| **Скидки строки продаж** |Сумма скидки, которая вводится в строки продаж для определенного сочетания клиента, минимального количества, единицы измерения или даты начала/окончания. Эта функция работает так же, как и для цен продажи. |
| **Скидка по счету** |Процент скидки, который вычитается из общей суммы документа продажи, если сумма всех строк документа превышает определенный минимум. |

Так как цены продажи и скидки по строкам продажи, зависят от комбинации товара и клиента, можно также выполнить эту настройку на странице товара, в которой применяются правила и значения.

> [!TIP]  
> Если требуется, чтобы товар никогда не продавался со скидкой, просто оставьте поля скидки на странице товара пустыми и не включайте товар ни в какую настройку строки скидки.

Поля **Применяется к типу** и **Применяется к №** позволяют выбрать, к чему будет применяться этот прайс-лист, например, клиенту или ценовой группе клиента. С помощью **Показывать столбцы для** вы можете показать или скрыть столбцы, относящиеся к настройке цен, скидок или цен и скидок.

Вы можете вручную настроить строки прайс-листа или использовать, например, действие **Предложить строки** для создания новых цен для выбранных номенклатур, групп скидок на номенклатуры, ресурсов и других типов продуктов. Если вы выберете «Предложить строки», на странице «Строки цен — Создать» можно задать фильтры для выбора товаров, для которых вы хотите создать новые строки прайс-листа. Вы также можете указать, следует ли учитывать минимальное количество при расчете цен, поправочный коэффициент, применяемый для новых строк прайс-листа, и метод округления, применяемый для цен. Действие **Копировать строки** позволяет копировать существующие строки прайс-листа между прайс-листами.

По умолчанию статус новых прайс-листов — Черновик. Когда вы закончите добавлять строки и хотите, чтобы механизм расчета цен включал их, вы можете изменить статус на "Активный".

Чтобы просмотреть прайс-листы и цены, применимые к конкретным клиентам или поставщикам, на странице **Покупатель** выберите **Прайс-листы продажи** или на странице **Продавец** выберите **Прайс-листы покупки**. Вы можете просмотреть строки прайс-листа для различных прайс-листов, выбрав **Цены продажи** или **Цены покупки** на страницах **Номенклатура** и **Ресурс**.

## <a name="to-set-up-a-sales-price-for-a-customer"></a>Настройка цены продажи для клиента

Эти шаги различаются в зависимости от того, включил ли ваш администратор обновление функции **Новые возможности ценообразования для продажи**.  

#### <a name="current-experience"></a>[Текущая версия](#tab/current-experience/)

1. Выберите значок ![Лампочка, которая открывает функцию "Что вы хотите сделать"](media/ui-search/search_small.png "Что вы хотите сделать"), введите **Клиенты**, затем выберите соответствующую ссылку.
2. Выберите клиента и выберите действие **Цены**.
3. Заполните поля в строке по мере необходимости. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)] Заполните строку для каждой комбинации, которая предоставляет клиенту специальную цену.

#### <a name="new-experience"></a>[Новая версия](#tab/new-experience/)  

1. Выберите значок ![Лампочка, которая открывает функцию "Что вы хотите сделать"](media/ui-search/search_small.png "Что вы хотите сделать"), введите **Клиенты**, затем выберите соответствующую ссылку.
2. Выберите клиента, затем выберите действие **Прайс-листы продажи**. 
3. Выберите **Создать** для создания нового прайс-листа.
4. На экспресс-вкладках **Общее** и **Налог** заполните необходимые поля. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]
5. Чтобы добавить элементы в список, выполните одно из следующих действий:
   * Чтобы добавить много элементов, выберите **Предложить строки**, а затем введите критерии фильтрации, чтобы указать типы добавляемых элементов. При желании вы также можете ввести некоторые дополнительные настройки для номенклатур, относящихся к прайс-листу. Если требуется, это можно изменить позднее.
   * Чтобы скопировать номенклатуры из другого прайс-листа, выберите **Копировать строки**, а затем выберите прайс-лист для копирования.
   * Чтобы добавить элементы вручную, в сетке в поле **Тип продукта** выберите тип продукта, на который рассчитан прайс-лист. В зависимости от выбора заполните остальные поля. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]
6. Чтобы начать пользоваться прайс-листом, в поле **Состояние**, выберите **Активный**.  

---

## <a name="sales-invoice-discounts-and-service-charges"></a>Скидки по счетам продажи и плата за сервисное обслуживание
При использовании скидок счетов итоговая сумма в счете определяет размер предлагаемой скидки. На странице **Скидки счета клиента** можно также добавить в счета плату за обслуживание на определенную сумму.  

Прежде чем вы сможете использовать скидки по продажам, необходимо указать определенную информацию. Вы должны решить следующее:  

- Каким клиентам предоставлять данный тип скидки  
- Какие проценты скидки использовать  

Если вы хотите, чтобы скидки по счету рассчитывались автоматически, это можно настроить на странице **Настройка модуля продажи**.  

Для каждого клиента можно настроить предоставление скидки при удовлетворении какого-либо требования (например, если сумма счета достаточно велика). Условия скидок счета могут быть настроены местной валюте для отечественных и в иностранной валюте для иностранных клиентов.  

Можно связать процент скидки с определенными суммами счетов на страницах **Клиент — скидки по счету** для каждого клиента. Можно ввести любое число процентных ставок. Для каждого клиента может быть настроена своя страница, или же можно связать несколько клиентов с одной и той же страницей.  

Кроме (или вместо) процентов скидок, можно связать с конкретной суммой по счету суммы платы за услуги.  

> [!TIP]  
> Перед началом ввода этой информации рекомендуется подготовить структуру скидок, которые предполагается использовать. Это упростит настройку привязки клиентов к одной и той же странице скидки счета. Чем меньше страниц требуется настроить, тем быстрее можно вводить базовую информацию.

Для тренировки по скидкам при продаже см. раздел [Настройка скидок для клиентов](/learn/modules/customer-discounts-dynamics-365-business-central/index) в Microsoft Learn.  

### <a name="calculating-invoice-discounts-on-sales"></a>Расчет скидок счета по продажам

[!INCLUDE [sales-invoice-discounts](includes/sales-invoice-discounts.md)]

## <a name="to-set-up-a-sales-line-discount-for-a-customer"></a>Настройка скидки строки продажи для клиента
Эти шаги различаются в зависимости от того, включил ли ваш администратор обновление функции **Новые возможности ценообразования для продажи**. 

#### <a name="current-experience"></a>[Текущая версия](#tab/current-experience/)  

1. Выберите значок ![Лампочка, которая открывает функцию "Что вы хотите сделать"](media/ui-search/search_small.png "Что вы хотите сделать"), введите **Клиенты**, затем выберите соответствующую ссылку.
2. Откройте соответствующую карточку клиента и выберите действие **Скидки строки**.
3. Заполните поля в строке по мере необходимости. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)] Заполните строку для каждой комбинации, которая предоставляет клиенту скидку строки продажи.

> [!Note]
> Когда вы открываете страницы **Цены продажи** и **Скидки строки продажи** конкретного клиента, поля **Фильтр по типу продаж** и **Фильтр по коду продаж** задаются для клиента и не могут быть изменены или удалены.
>
> Чтобы установить цены или скидки по строке для всех клиентов, ценовой группы клиентов или кампании, необходимо открыть страницы из карточки товара. Для цен продажи также можно использовать страницу **Журнал цен продажи**. Для получения дополнительной информации см. [Пакетное обновление цен товаров](sales-how-record-sales-price-discount-payment-agreements.md#to-bulk-update-item-prices).  

#### <a name="new-experience"></a>[Новая версия](#tab/new-experience/)  

1. Выберите значок ![Лампочка, которая открывает функцию "Что вы хотите сделать"](media/ui-search/search_small.png "Что вы хотите сделать"), введите **Клиенты**, затем выберите соответствующую ссылку.
2. Выберите клиента, затем выберите действие **Прайс-листы продажи**.
3. Откройте прайс-лист, для которого нужно указать скидку по строке.
4. Включите **Разрешить скидку по строке**.
5. Создайте новую строку или выберите существующую строку, а затем заполните поля по мере необходимости. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]
6. В поле **Определяет** выберите либо **Цена и скидка**, либо просто **Скидка**. 
7. В поле **Скидка строки (%)** укажите процент скидки.

    > [!TIP]
    > Если вы редактируете существующую строку, вы можете отфильтровать строки, выбрав соответствующий параметр в поле **Показывать столбцы для**.

    > [!NOTE]  
    > Коды скидок по счету представлены существующими карточками клиентов. Это позволяет быстро назначить условия скидки по счету клиентам, выбрав название другого клиента с такими же условиями. Чтобы настроить условия скидки по счету для конкретного клиента, установите в поле **Код скидки по счету** код клиента, а затем перейдите к следующему шагу.

8. На странице **Карточка клиента** выберите действие **Скидки по счету**. Откроется страница **Клиент - скидки по счету**.
9. В поле **Код валюты** укажите код валюты, к которой относятся условия скидки по счету в строке. Оставьте поле пустым, чтобы установить условия скидки в своей локальной валюте.
10. Если требуется, в поле **Минимальная сумма** введите минимальную сумму, которая должна быть на счете, чтобы для этого счета была установлена скидка.
11. В поле **Скидка (%)** введите скидку по счету в процентах от суммы счета.
12. Повторите шаги 5–7 для каждой валюты, в которой клиент будет получать отдельную скидку по счету.

Скидка по счету теперь настроена и назначена клиенту. При выборе кода клиента в поле **Код скидки по счету** на других карточках клиентов этим клиентам назначается так же скидка по счету.

---

## <a name="to-set-up-an-invoice-discount-for-a-customer"></a>Настройка скидки по счету для клиента
После того, как принято решение, какие клиенты имеют право на скидки по счетам, укажите в карточках этих клиентов коды скидок по счетам и настройте условия для каждого кода.

1. Выберите значок ![Лампочка, которая открывает функцию "Что вы хотите сделать"](media/ui-search/search_small.png "Что вы хотите сделать"), введите **Клиенты**, затем выберите соответствующую ссылку.
2. Откройте страницу клиента, который имеет право на получение скидок по счетам.
3. В поле **Код скидки по счету** выберите код соответствующих условий скидки по счету, который будет использован программой для вычисления скидок по счету для клиента. <!--Looks like I can only choose customers in this list-->

> [!NOTE]  
> Коды скидок по счету представлены существующими карточками клиентов. Это позволяет быстро назначить условия скидки по счету клиентам, выбрав название другого клиента с такими же условиями.

Перейдите к настройке новых условий скидок по счету продажи.

1. На странице **Клиенты** выберите действие **Скидки по счету**. Откроется страница **Клиент - скидки по счету**.
2. В поле **Код валюты** укажите код валюты, к которой относятся условия скидки по счету в строке. Оставьте поле пустым, чтобы установить условия скидки в своей локальной валюте.
3. В поле **Минимальная сумма** введите минимальную сумму, которая должна быть на счете, чтобы для этого счета была установлена скидка.
4. В поле **Скидка (%)** введите скидку по счету в процентах от суммы счета.
5. Повторите шаги 5–7 для каждой валюты, в которой клиент будет получать отдельную скидку по счету.

## <a name="to-copy-sales-prices"></a>Копирование цен продажи
Эти шаги различаются в зависимости от того, включил ли ваш администратор обновление функции **Новые возможности ценообразования для продажи**. 

#### <a name="current-experience"></a>[Текущая версия](#tab/current-experience/)  

Если требуется копировать цены продажи, например, цены продажи отдельного клиента в целях использования этих цен для ценовой группы клиента, то необходимо запустить пакетное задание **Предл. цены продажи в журнале** Пакетное задание на странице **Журнал цен продажи**.  

1. Выберите значок ![Лампочка, которая открывает функцию "Что вы хотите сделать"](media/ui-search/search_small.png "Что вы хотите сделать"), введите **Журнал цен продажи**, затем выберите соответствующую ссылку.  
2. Выберите **Предл. цены продажи в журнале**. .  
3. На экспресс-вкладке **Цены продажи** введите в полях **Тип продажи** и **Код продажи** исходные цены продажи, которые нужно скопировать.  
4. В верхней секции страницы запроса в полях **Тип продажи** и **Код продажи** укажите тип и название, соответствующее продаже, в которую нужно скопировать цены продажи.  
5. Если требуется создать новые цены через пакетное задание, установите флажок **Создать новые цены**.  
6. Нажмите кнопку **ОК** для заполнения строк на странице **Журнал цен продажи** предложенными новыми ценами, указав тем самым, что они действительны для выбранного типа продажи.  

   > [!NOTE]  
   > Данное пакетное задание только предоставляет предложения по изменению, но не вносит предложенных изменений. Если предложения являются удовлетворительными, и их нужно применить, то есть вставить на страницу **Цены продажи**, выберите действие **Выполнить изменение цен** на странице **Журнал цен продажи**.

#### <a name="new-experience"></a>[Новая версия](#tab/new-experience/)  

Состояние прайс-листа должно быть **Черновик**. 

1. Выберите значок ![Лампочка, которая открывает функцию "Что вы хотите сделать"](media/ui-search/search_small.png "Что вы хотите сделать"), введите **Прайс-листы продажи**, затем выберите соответствующую ссылку. 
2. Выберите прайс-лист, который нужно скопировать, а затем выберите **Копировать строки**.
3. Заполните соответствующим образом поля. [!INCLUDE[tooltip-inline-tip](includes/tooltip-inline-tip_md.md)]

   > [!NOTE]
   > У вас не может быть двух строк с одинаковыми настройками, но разными ценами. В этом случае при активации прайс-листа отобразится сообщение. Вы можете выбрать цену для использования, открыв список и удалив неверную цену.  
  
---

## <a name="to-bulk-update-item-prices"></a>Пакетное обновление цен товаров
Эти шаги различаются в зависимости от того, включил ли ваш администратор обновление функции **Новые возможности ценообразования для продажи**. 

#### <a name="current-experience"></a>[Текущая версия](#tab/current-experience/)

Если требуется выполнить пакетное обновление цен товаров, например, увеличить цены всех товаров на некоторый процент, следует запустить **Предложить цены товаров в журнале** . Ссылку на пакетное задание можно найти на странице **Журнал цен продажи**.  

1. Выберите значок ![Лампочка, которая открывает функцию "Что вы хотите сделать"](media/ui-search/search_small.png "Что вы хотите сделать"), введите **Журнал цен продажи**, затем выберите соответствующую ссылку.  
2. Выберите **Предложить цены товаров в журнале**. .  
3. На экспресс-вкладке **Товар** заполните поле **Номер** или **Учетная группа запасов** или другие поля с исходными ценами товаров, которые требуется обновить.  
4. В верхней секции страницы запроса в полях **Тип продажи** и **Код продажи** укажите тип и название, соответствующее продаже, в которую нужно скопировать цены продажи.
5. Если необходимо, чтобы пакетное задание автоматически предложило цены товаров, введите корректировку в поле **Коэффициент коррекции**. Например, следует ввести 1,15 в поле **Коэффициент коррекции**, чтобы увеличить цену товара на 15%.  
6. Если требуется создать новые цены через пакетное задание, установите флажок в поле **Создать новые цены**.  
7. Нажмите кнопку **ОК** для заполнения строк на странице **Журнал цен продажи** предложенными новыми ценами, указав тем самым, что они действительны для выбранного **Товара**.  

> [!NOTE]
> Данное пакетное задание только предоставляет предложения по изменению, но не вносит предложенных изменений. Если предложения являются удовлетворительными, и их нужно применить, то есть вставить в таблицу **Цены продажи**, то можно использовать пакетное задание **Выполнить изменение цен**, которое находится на вкладке **Действия** группы **Функции** на странице **Журнал цен продажи**.

#### <a name="new-experience"></a>[Новая версия](#tab/new-experience/)

Чтобы обновить цены на несколько товаров, необходимо создать новый прайс-лист, а затем скопировать строки из существующего прайс-листа. Когда вы копируете строки, вы можете использовать фильтры, чтобы указать, что копировать, и вы можете указать целое или десятичное число в поле **Коэффициент корректировки** для увеличения или уменьшения цены. Состояние прайс-листа должно быть **Черновик**. При необходимости вы можете отключить старый прайс-лист.

> [!NOTE]
> У вас не может быть двух строк с одинаковыми настройками, но разными ценами. В этом случае при активации прайс-листа отобразится сообщение. Вы можете выбрать цену для использования, открыв список и удалив неверную цену.  

---

## <a name="best-price-calculation"></a>Расчет лучшей цены
После регистрации специальных цен и скидок по строке для покупок и продаж [!INCLUDE[d365fin](includes/d365fin_md.md)] гарантирует, что ваша прибыль от торговли товаром будет всегда оптимальна, автоматически рассчитывая наилучшую цену в документах продажи и покупки и в строках журнала товаров и работ.

Лучшая цена — это наиболее низкая допустимая цена с наиболее высокой допустимой скидкой строки на конкретную дату. [!INCLUDE[d365fin](includes/d365fin_md.md)] автоматически рассчитывает эту цену, когда вставляет цену за единицу и процент скидки по строке для товаров в строках нового документа и журнала.

> [!NOTE]  
> Ниже описано, как рассчитывается лучшая цена для продаж. Расчет выполняется аналогично для покупок.

1. [!INCLUDE[d365fin](includes/d365fin_md.md)] проверяются комбинацию клиента, которому выставляется счет, товара, а затем рассчитывает применимую цену за единицу и процент скидки по строке, используя следующие критерии:

    - Имеется ли для данного клиента специальное соглашение по ценами и скидкам, принадлежит ли клиент к группе, по которой указанное соглашение имеет место?
    - Включены ли товар или группа товара со скидкой для строки в какое-либо из этих соглашений по ценам и скидкам?
    - Попадает ли дата заказа (или дата учета счета и кредит-ноты) в интервал времени, начинающийся с даты начала и заканчивающийся датой окончания срока действия соглашения по ценам и скидкам?
    - Указан ли код единицы измерения? Если да, [!INCLUDE[d365fin](includes/d365fin_md.md)] проверяет наличие цен/скидок с одинаковыми кодами единиц измерения, а также цены/скидки, для которых коды единиц измерения не заданы.

2. [!INCLUDE[d365fin](includes/d365fin_md.md)] проверяет, применяются ли какие-либо соглашения по ценам и скидкам к информации в строке документа или журнала, а затем вставляет применимую цену за единицу и процент скидки по строке, используя следующие критерии:

    - Существует ли требование к минимальному количеству в соглашении по ценам и скидкам, которое выполняется?
    - Существует ли требование к валюте в соглашении по ценам и скидкам, которое выполняется? Если да, вставляется самая низкая цена и самая высокая скидка по строке для этой валюты, даже если бы в местной валюте была бы лучшая цена. Если для указанного кода валюты не имеется соглашения о ценах и скидках, [!INCLUDE[d365fin](includes/d365fin_md.md)] вставляет наименьшую цену и наибольшую скидку по строке, выраженную в местной валюте.

Если для товара в строке невозможно рассчитать специальную цену, будет вставлена либо последняя прямая себестоимость, либо цена единицы из карточки товара.

## <a name="see-related-training-at-microsoft-learn"></a>См. соответствующее обучение на странице [Microsoft Learn](/learn/modules/manage-sales-prices-dynamics-365-business-central/index)

## <a name="see-also"></a>См. также

[Настройка продаж](sales-setup-sales.md)  
[Продажи](sales-manage-sales.md)  
[Работа с [!INCLUDE[prod_short](includes/prod_short.md)]](ui-work-product.md)


[!INCLUDE[footer-include](includes/footer-banner.md)]