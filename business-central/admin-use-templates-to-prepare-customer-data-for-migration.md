---
title: Подготовка миграции данных клиента с шаблонами | Документация Майкрософт
description: Узнайте, как использовать шаблоны конфигурации для структурирования существующих данных о клиентах, прежде чем переносить данные в новую компанию в Business Central.
author: SorenGP
ms.service: dynamics365-business-central
ms.topic: article
ms.devlang: na
ms.tgt_pltfrm: na
ms.workload: na
ms.search.keywords: ''
ms.date: 10/01/2020
ms.author: edupont
ms.openlocfilehash: 8f4bd2978652366ecd18109377f4ebeeebfbb4a3
ms.sourcegitcommit: ddbb5cede750df1baba4b3eab8fbed6744b5b9d6
ms.translationtype: HT
ms.contentlocale: ru-RU
ms.lasthandoff: 10/01/2020
ms.locfileid: "3922346"
---
# <a name="prepare-to-migrate-customer-data-with-templates"></a>Подготовьтесь к миграции данных клиента с помощью шаблонов

После импорта и применения установочных данных в новой базе данных можно начинать миграцию существующих основных данных клиента, например номеров и наименований товаров и клиентов. Чтобы убедиться в том, что эти данные созданы быстро и точно в новой организации, следует использовать шаблоны для структурирования данных.  

Обычно следует создать шаблоны данных для следующих таблиц основных данных:  

- **Контакт**  
- **Клиент**  
- **Товар**  
- **Поставщик**  

Вы можете создать структуру шаблона и применить ее к любой из таблиц в [!INCLUDE[d365fin](includes/d365fin_md.md)].  

> [!TIP]  
> Можно также использовать шаблоны данных для ежедневных операций, чтобы создавать новые записи на основе шаблонов. Эти шаблоны данных работают только для поддерживаемых таблиц основных данных. Дополнительные сведения см., например в разделе [Регистрация новых товаров](inventory-how-register-new-items.md).  

При импорте данных клиента, например товаров из файла, указанная обязательная информация берется из связанного шаблона данных. При создании нового товара вводится только общая информация, например название, описание и цена товара, а затем собирается другая обязательная информация из выбранного шаблона данных.

При создании новой главной записи данных, такой как карточка клиента, некоторые поля являются обязательными и должны быть заполнены. Вы можете сгруппировать большинство обязательных полей, таких как группы учета и условия оплаты, чтобы сделать главные записи данных более удобными и стабильными. Например, можно группировать обязательные поля в таблице 18, **Клиент**, как по типам **РОССИЯ**, **ЗАГРАН.** или **Экспорт**.

> [!NOTE]
> Поля типа Blob не могут быть экспортированы/импортированы с использованием Excel.

## <a name="to-select-a-data-template"></a>Выбор шаблона данных

При выборе существующего шаблона данных необходимо оценить, достаточно ли клиенту шаблонов, которые создаются для новой организации. Просмотрите предоставленные поля и значения, чтобы определить шаблоны, приемлемые для новой организации.  

> [!TIP]  
> Шаблоны данных также можно использовать для быстрого создания новых записей. Используйте их для более быстрого и точного создания данных. Дополнительные сведения см. в разделе [Регистрация новых товаров](inventory-how-register-new-items.md).

1. Выберите значок ![Лампочка, которая открывает функцию "Что вы хотите сделать"](media/ui-search/search_small.png "Что вы хотите сделать"), введите **Шаблоны конфигураций**, затем выберите соответствующую ссылку.  
2. На странице **Шаблоны конфигураций** выберите шаблон данных из списка, затем выберите действие **Правка** .  

Если шаблоны по умолчанию не подходят, можно создать новые шаблоны или добавить поля в уже существующий шаблон. Если шаблоны по умолчанию подходят, то их можно использовать для создания записей на основе шаблонов основных данных.

## <a name="to-create-a-new-data-template"></a>Создание нового шаблона данных

Можно создать новый шаблон данных, если шаблоны по умолчанию не удовлетворяют потребностям новой организации.  

> [!TIP]
> Если создается несколько полей, может оказаться полезным принятие соглашения об именах для поля **Код**.

Каждый шаблон состоит из заголовка и строки для каждого поля, которое нужно включить в шаблон. При создании шаблона можно указать поля, которые всегда будут применяться к данным определенного типа. Например, можно создавать различные шаблоны клиентов для применения к различным типам клиентов. При создании клиента с помощью шаблона можно использовать данные шаблона для предварительного заполнения определенных полей.

### <a name="to-copy-an-existing-data-template"></a>Копирование имеющегося шаблона данных

Можно быстро создать новый шаблон данных, скопировав сведения из существующего шаблона данных, которые затем можно изменить.

1. Откройте страницу **Шаблоны конфигураций**.
2. Выберите действие **Создать**.
3. Заполните поле **Код**.
4. Выберите действие **Копировать шаблонов конфигурации**.
5. На странице **Шаблоны конфигураций** выберите существующий шаблон для копирования, затем выберите кнопку **ОК**.

Код таблицы, имя таблицы, а также строки существующего шаблона данных вставляются в новый шаблон.

### <a name="to-create-a-data-template-header-manually"></a>Создание заголовка шаблона данных вручную

1. Откройте страницу **Шаблоны конфигураций**.
2. Выберите действие **Создать**.
3. Заполните поле **Код**.
4. В поле **Код таблицы** введите таблицу, к которой относится шаблон. Поле **Название таблицы** автоматически заполняется, если установлено поле **Код таблицы**.

### <a name="to-create-a-data-template-line-manually"></a>Создание строки шаблона данных вручную

1. В первой строке выберите поле **Название таблицы**. Страница **Список полей** содержит список полей в таблице.
2. Выберите поле, затем нажмите кнопку **ОК**. Поле **Метка поля** заполняется названием поля.
3. В поле **Значение по умолчанию** введите нужное значение. В некоторых случаях, можно использовать значение, которое не является значением, доступным в базе данных. В этом случае можно установить флажок **Пропустить проверку связей**, чтобы разрешить применение информации без ошибок.

    > [!TIP]  
    > Так как в поле **Значение по умолчанию** не выполняется поиск соответствующих параметров поля [!INCLUDE[d365fin](includes/d365fin_md.md)], следует скопировать и вставить в шаблон необходимое значение из связанной страницы.

4. Установите флажок **Обязательно**, если пользователи должны заполнить соответствующее поле.

    > [!NOTE]
    > Флажок служит только для информации. Никакая бизнес-логика принудительно не применяется. Например, пользователи не могут учесть счет, если не настроены учетные группы. Можно установить флажок **Обязательно** для этих полей, чтобы пользователь заполнил их и, таким образом, избежать последующих ошибок учета.
5. В поле **Ссылка** введите нужные сведения о поле.
6. Нажмите кнопку **ОК**

## <a name="to-export-to-a-template-in-excel"></a>Экспорт шаблона в Excel

Можно создать книгу Excel в качестве шаблона на основе структуры существующей таблицы базы данных. Затем можно использовать шаблон для последовательного сбора данных клиента для последующего импорта в [!INCLUDE[d365fin](includes/d365fin_md.md)].

1. Выберите значок ![Лампочка, которая открывает функцию "Что вы хотите сделать"](media/ui-search/search_small.png "Что вы хотите сделать"), введите **Журнал конфигураций**, затем выберите соответствующую ссылку.
2. Добавьте таблицу к списку или выберите существующую таблицу. Дополнительные сведения см. в разделе [Управление конфигурацией организации в журнале](admin-how-to-manage-company-configuration-in-a-worksheet.md).
3. Выбрать действие **Показать поля** для определения полей из таблицы, которые вы хотите включить в шаблон.
4. Выберите действие **Экспорт в шаблон**.
5. Присвойте имя файлу Excel и сохраните файл. Книга Excel автоматически открывается.

Теперь можно ввести данные клиента в лист Excel. Если экспортировано несколько таблиц, каждая таблица будет расположена на отдельном листе. Сохраните книгу перед переходом к следующей процедуре.

> [!NOTE]  
> Может возникнуть следующая ошибка при запуске английской версии Excel, но при наличии региональных параметров, настроенных не для английского языка: "Старый или неверный тип библиотеки". Чтобы исправить данную ошибку, убедитесь, что установлен языковой пакет не для английского языка.

## <a name="to-import-from-a-template-in-excel"></a>Импорт из шаблона в Excel

1. На странице **Журнал конфигураций** выберите действие **Импорт из шаблона**.
2. Перейдите к журналу шаблона, который вы создали, затем выберите действие **Открыть**.
3. Для добавления собранных данных клиента в базу данных выберите действие **Применить данные**.

При применении данных из шаблона в Excel к таблице, которая также содержит шаблон конфигурации, связанный с ней в пакете конфигурации, также применяются значения полей по умолчанию из шаблона конфигурации.

Любая запись, данные которой применяются таким образом, завершена, так как состоит из данных, введенных пользователем в Excel, плюс значения по умолчанию, указанные шаблоном конфигурации.

> [!NOTE]
> Если данные в таблицах в пакете конфигурации содержат даты, например, даты проводки в счетах, даты учитываются в часовом поясе, указанном в [!INCLUDE[d365fin](includes/d365fin_md.md)]. 

## <a name="to-create-a-record-from-a-configuration-template"></a>Создание записи из шаблона конфигурации

Можно использовать структуру данных из шаблонов данных для преобразования сведений в записи базы данных (по одной записи). Чтобы это выполнить, следует использовать функцию **Создать экземпляр**. Это миниатюрная версия процесса миграции данных, и она может быть полезной для прототипирования или обработки более мелких задач создания данных.  

В следующих шагах показан порядок создания карточки товара на основе шаблона данных товара. Можно создать запись данных из любого шаблона данных, используя аналогичную процедуру.  

1. Выберите значок ![Лампочка, которая открывает функцию "Что вы хотите сделать"](media/ui-search/search_small.png "Что вы хотите сделать"), введите **Шаблоны конфигураций**, затем выберите соответствующую ссылку.  
2. Выберите шаблон **Товар**, затем выберите действие **Изменить**. Дополнительные сведения см. в разделе [Создание шаблона данных](admin-use-templates-to-prepare-customer-data-for-migration.md#to-create-a-new-data-template).
3. Выберите действие **Создать экземпляр**. Создается карточка товара.  
4. Нажмите кнопку **ОК**.  
5. Для просмотре новой карточки товара выберите значок ![Лампочка, которая открывает функцию Что вы хотите сделать](media/ui-search/search_small.png "Что вы хотите сделать"), введите **Товары**, а затем выберите соответствующую ссылку.  
6. Откройте новую карточку товара.  
7. Разверните различные экспресс-вкладки и убедитесь, что информация на них создана правильно.  

## <a name="to-use-a-configuration-template-on-a-record"></a>Использование шаблона конфигурации в записи

Шаблон данных можно применять к любым записям в [!INCLUDE[d365fin](includes/d365fin_md.md)]. Этот метод можно использовать для изменения или модификации записи. При этом вы перезаписываете существующие значения в записи с помощью этого шаблона. Соответственно, следует соблюдать осторожность при применении шаблона к существующим записям.

> [!WARNING]  
> Функция **Заполнить по шаблону** перезаписывает существующие данные в записи. Если эта функция используется в миграции основных данных, то программа перепишет импорта данных при создании записей.

Следующая процедура основана на новой карточке клиента.  

1. Создайте клиента. Дополнительные сведения см. в разделе [Регистрация новых клиентов](sales-how-register-new-customers.md).
2. На странице **Карточка клиента** выберите действие **Применить шаблон**.  
3. На странице **Клиент - шаблоны**, выберите один из шаблонов, затем нажмите кнопку **ОК**.  

Значения по умолчанию из выбранного шаблона клиента вставляются в карточку клиента.

## <a name="see-also"></a>См. также

[Настройка организации со службами RapidStart Services](admin-set-up-a-company-with-rapidstart.md)  
[Администрация](admin-setup-and-administration.md)  
[Регистрация новых клиентов](sales-how-register-new-customers.md)  
